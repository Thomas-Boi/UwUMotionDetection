/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@mediapipe/camera_utils/camera_utils.js":
/*!**************************************************************!*\
  !*** ./node_modules/@mediapipe/camera_utils/camera_utils.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';function n(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var q="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){if(a==Array.prototype||a==Object.prototype)return a;a[b]=e.value;return a};
function t(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof __webpack_require__.g&&__webpack_require__.g];for(var b=0;b<a.length;++b){var e=a[b];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");}var u=t(this);function v(a,b){if(b)a:{var e=u;a=a.split(".");for(var f=0;f<a.length-1;f++){var h=a[f];if(!(h in e))break a;e=e[h]}a=a[a.length-1];f=e[a];b=b(f);b!=f&&null!=b&&q(e,a,{configurable:!0,writable:!0,value:b})}}
v("Symbol",function(a){function b(l){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new e(f+(l||"")+"_"+h++,l)}function e(l,c){this.g=l;q(this,"description",{configurable:!0,writable:!0,value:c})}if(a)return a;e.prototype.toString=function(){return this.g};var f="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",h=0;return b});
v("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),e=0;e<b.length;e++){var f=u[b[e]];"function"===typeof f&&"function"!=typeof f.prototype[a]&&q(f.prototype,a,{configurable:!0,writable:!0,value:function(){return w(n(this))}})}return a});function w(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function x(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:n(a)}}function y(){this.i=!1;this.g=null;this.o=void 0;this.j=1;this.m=0;this.h=null}function z(a){if(a.i)throw new TypeError("Generator is already running");a.i=!0}y.prototype.l=function(a){this.o=a};function A(a,b){a.h={F:b,G:!0};a.j=a.m}y.prototype.return=function(a){this.h={return:a};this.j=this.m};function B(a){this.g=new y;this.h=a}
function C(a,b){z(a.g);var e=a.g.g;if(e)return D(a,"return"in e?e["return"]:function(f){return{value:f,done:!0}},b,a.g.return);a.g.return(b);return H(a)}function D(a,b,e,f){try{var h=b.call(a.g.g,e);if(!(h instanceof Object))throw new TypeError("Iterator result "+h+" is not an object");if(!h.done)return a.g.i=!1,h;var l=h.value}catch(c){return a.g.g=null,A(a.g,c),H(a)}a.g.g=null;f.call(a.g,l);return H(a)}
function H(a){for(;a.g.j;)try{var b=a.h(a.g);if(b)return a.g.i=!1,{value:b.value,done:!1}}catch(e){a.g.o=void 0,A(a.g,e)}a.g.i=!1;if(a.g.h){b=a.g.h;a.g.h=null;if(b.G)throw b.F;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
function I(a){this.next=function(b){z(a.g);a.g.g?b=D(a,a.g.g.next,b,a.g.l):(a.g.l(b),b=H(a));return b};this.throw=function(b){z(a.g);a.g.g?b=D(a,a.g.g["throw"],b,a.g.l):(A(a.g,b),b=H(a));return b};this.return=function(b){return C(a,b)};this[Symbol.iterator]=function(){return this}}function J(a){function b(f){return a.next(f)}function e(f){return a.throw(f)}return new Promise(function(f,h){function l(c){c.done?f(c.value):Promise.resolve(c.value).then(b,e).then(l,h)}l(a.next())})}
v("Promise",function(a){function b(c){this.h=0;this.i=void 0;this.g=[];this.o=!1;var d=this.j();try{c(d.resolve,d.reject)}catch(g){d.reject(g)}}function e(){this.g=null}function f(c){return c instanceof b?c:new b(function(d){d(c)})}if(a)return a;e.prototype.h=function(c){if(null==this.g){this.g=[];var d=this;this.i(function(){d.l()})}this.g.push(c)};var h=u.setTimeout;e.prototype.i=function(c){h(c,0)};e.prototype.l=function(){for(;this.g&&this.g.length;){var c=this.g;this.g=[];for(var d=0;d<c.length;++d){var g=
c[d];c[d]=null;try{g()}catch(k){this.j(k)}}}this.g=null};e.prototype.j=function(c){this.i(function(){throw c;})};b.prototype.j=function(){function c(k){return function(m){g||(g=!0,k.call(d,m))}}var d=this,g=!1;return{resolve:c(this.A),reject:c(this.l)}};b.prototype.A=function(c){if(c===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof b)this.C(c);else{a:switch(typeof c){case "object":var d=null!=c;break a;case "function":d=!0;break a;default:d=!1}d?this.v(c):this.m(c)}};
b.prototype.v=function(c){var d=void 0;try{d=c.then}catch(g){this.l(g);return}"function"==typeof d?this.D(d,c):this.m(c)};b.prototype.l=function(c){this.u(2,c)};b.prototype.m=function(c){this.u(1,c)};b.prototype.u=function(c,d){if(0!=this.h)throw Error("Cannot settle("+c+", "+d+"): Promise already settled in state"+this.h);this.h=c;this.i=d;2===this.h&&this.B();this.H()};b.prototype.B=function(){var c=this;h(function(){if(c.I()){var d=u.console;"undefined"!==typeof d&&d.error(c.i)}},1)};b.prototype.I=
function(){if(this.o)return!1;var c=u.CustomEvent,d=u.Event,g=u.dispatchEvent;if("undefined"===typeof g)return!0;"function"===typeof c?c=new c("unhandledrejection",{cancelable:!0}):"function"===typeof d?c=new d("unhandledrejection",{cancelable:!0}):(c=u.document.createEvent("CustomEvent"),c.initCustomEvent("unhandledrejection",!1,!0,c));c.promise=this;c.reason=this.i;return g(c)};b.prototype.H=function(){if(null!=this.g){for(var c=0;c<this.g.length;++c)l.h(this.g[c]);this.g=null}};var l=new e;b.prototype.C=
function(c){var d=this.j();c.s(d.resolve,d.reject)};b.prototype.D=function(c,d){var g=this.j();try{c.call(d,g.resolve,g.reject)}catch(k){g.reject(k)}};b.prototype.then=function(c,d){function g(p,r){return"function"==typeof p?function(E){try{k(p(E))}catch(F){m(F)}}:r}var k,m,G=new b(function(p,r){k=p;m=r});this.s(g(c,k),g(d,m));return G};b.prototype.catch=function(c){return this.then(void 0,c)};b.prototype.s=function(c,d){function g(){switch(k.h){case 1:c(k.i);break;case 2:d(k.i);break;default:throw Error("Unexpected state: "+
k.h);}}var k=this;null==this.g?l.h(g):this.g.push(g);this.o=!0};b.resolve=f;b.reject=function(c){return new b(function(d,g){g(c)})};b.race=function(c){return new b(function(d,g){for(var k=x(c),m=k.next();!m.done;m=k.next())f(m.value).s(d,g)})};b.all=function(c){var d=x(c),g=d.next();return g.done?f([]):new b(function(k,m){function G(E){return function(F){p[E]=F;r--;0==r&&k(p)}}var p=[],r=0;do p.push(void 0),r++,f(g.value).s(G(p.length-1),m),g=d.next();while(!g.done)})};return b});
var K="function"==typeof Object.assign?Object.assign:function(a,b){for(var e=1;e<arguments.length;e++){var f=arguments[e];if(f)for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(a[h]=f[h])}return a};v("Object.assign",function(a){return a||K});var L=this||self;var M={facingMode:"user",width:640,height:480};function N(a,b){this.video=a;this.i=0;this.h=Object.assign(Object.assign({},M),b)}N.prototype.stop=function(){var a=this,b,e,f,h;return J(new I(new B(function(l){if(a.g){b=a.g.getTracks();e=x(b);for(f=e.next();!f.done;f=e.next())h=f.value,h.stop();a.g=void 0}l.j=0})))};
N.prototype.start=function(){var a=this,b;return J(new I(new B(function(e){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists.");b=a.h;return e.return(navigator.mediaDevices.getUserMedia({video:{facingMode:b.facingMode,width:b.width,height:b.height}}).then(function(f){O(a,f)}).catch(function(f){var h="Failed to acquire camera feed: "+f;console.error(h);alert(h);throw f;}))})))};
function P(a){window.requestAnimationFrame(function(){Q(a)})}function O(a,b){a.g=b;a.video.srcObject=b;a.video.onloadedmetadata=function(){a.video.play();P(a)}}function Q(a){var b=null;a.video.paused||a.video.currentTime===a.i||(a.i=a.video.currentTime,b=a.h.onFrame());b?b.then(function(){P(a)}):P(a)}var R=["Camera"],S=L;R[0]in S||"undefined"==typeof S.execScript||S.execScript("var "+R[0]);
for(var T;R.length&&(T=R.shift());)R.length||void 0===N?S[T]&&S[T]!==Object.prototype[T]?S=S[T]:S=S[T]={}:S[T]=N;}).call(this);


/***/ }),

/***/ "./node_modules/@mediapipe/hands/hands.js":
/*!************************************************!*\
  !*** ./node_modules/@mediapipe/hands/hands.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var x;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof __webpack_require__.g&&__webpack_require__.g];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var y=ca(this);function B(a,b){if(b)a:{var c=y;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}
B("Symbol",function(a){function b(g){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(g||"")+"_"+e++,g)}function c(g,f){this.g=g;ba(this,"description",{configurable:!0,writable:!0,value:f})}if(a)return a;c.prototype.toString=function(){return this.g};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",e=0;return b});
B("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=y[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&ba(d.prototype,a,{configurable:!0,writable:!0,value:function(){return da(aa(this))}})}return a});function da(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function C(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function ea(a){if(!(a instanceof Array)){a=C(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var fa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ha;
if("function"==typeof Object.setPrototypeOf)ha=Object.setPrototypeOf;else{var ia;a:{var ja={a:!0},ka={};try{ka.__proto__=ja;ia=ka.a;break a}catch(a){}ia=!1}ha=ia?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var la=ha;
function E(a,b){a.prototype=fa(b.prototype);a.prototype.constructor=a;if(la)la(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.da=b.prototype}function ma(){this.l=!1;this.i=null;this.h=void 0;this.g=1;this.s=this.m=0;this.j=null}function na(a){if(a.l)throw new TypeError("Generator is already running");a.l=!0}ma.prototype.o=function(a){this.h=a};
function oa(a,b){a.j={U:b,V:!0};a.g=a.m||a.s}ma.prototype.return=function(a){this.j={return:a};this.g=this.s};function F(a,b,c){a.g=c;return{value:b}}function pa(a){this.g=new ma;this.h=a}function qa(a,b){na(a.g);var c=a.g.i;if(c)return ra(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.g.return);a.g.return(b);return G(a)}
function ra(a,b,c,d){try{var e=b.call(a.g.i,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return a.g.l=!1,e;var g=e.value}catch(f){return a.g.i=null,oa(a.g,f),G(a)}a.g.i=null;d.call(a.g,g);return G(a)}function G(a){for(;a.g.g;)try{var b=a.h(a.g);if(b)return a.g.l=!1,{value:b.value,done:!1}}catch(c){a.g.h=void 0,oa(a.g,c)}a.g.l=!1;if(a.g.j){b=a.g.j;a.g.j=null;if(b.V)throw b.U;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
function sa(a){this.next=function(b){na(a.g);a.g.i?b=ra(a,a.g.i.next,b,a.g.o):(a.g.o(b),b=G(a));return b};this.throw=function(b){na(a.g);a.g.i?b=ra(a,a.g.i["throw"],b,a.g.o):(oa(a.g,b),b=G(a));return b};this.return=function(b){return qa(a,b)};this[Symbol.iterator]=function(){return this}}function ta(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function g(f){f.done?d(f.value):Promise.resolve(f.value).then(b,c).then(g,e)}g(a.next())})}
function H(a){return ta(new sa(new pa(a)))}
B("Promise",function(a){function b(f){this.h=0;this.i=void 0;this.g=[];this.o=!1;var k=this.j();try{f(k.resolve,k.reject)}catch(h){k.reject(h)}}function c(){this.g=null}function d(f){return f instanceof b?f:new b(function(k){k(f)})}if(a)return a;c.prototype.h=function(f){if(null==this.g){this.g=[];var k=this;this.i(function(){k.l()})}this.g.push(f)};var e=y.setTimeout;c.prototype.i=function(f){e(f,0)};c.prototype.l=function(){for(;this.g&&this.g.length;){var f=this.g;this.g=[];for(var k=0;k<f.length;++k){var h=
f[k];f[k]=null;try{h()}catch(l){this.j(l)}}}this.g=null};c.prototype.j=function(f){this.i(function(){throw f;})};b.prototype.j=function(){function f(l){return function(n){h||(h=!0,l.call(k,n))}}var k=this,h=!1;return{resolve:f(this.C),reject:f(this.l)}};b.prototype.C=function(f){if(f===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(f instanceof b)this.F(f);else{a:switch(typeof f){case "object":var k=null!=f;break a;case "function":k=!0;break a;default:k=!1}k?this.v(f):this.m(f)}};
b.prototype.v=function(f){var k=void 0;try{k=f.then}catch(h){this.l(h);return}"function"==typeof k?this.G(k,f):this.m(f)};b.prototype.l=function(f){this.s(2,f)};b.prototype.m=function(f){this.s(1,f)};b.prototype.s=function(f,k){if(0!=this.h)throw Error("Cannot settle("+f+", "+k+"): Promise already settled in state"+this.h);this.h=f;this.i=k;2===this.h&&this.D();this.A()};b.prototype.D=function(){var f=this;e(function(){if(f.B()){var k=y.console;"undefined"!==typeof k&&k.error(f.i)}},1)};b.prototype.B=
function(){if(this.o)return!1;var f=y.CustomEvent,k=y.Event,h=y.dispatchEvent;if("undefined"===typeof h)return!0;"function"===typeof f?f=new f("unhandledrejection",{cancelable:!0}):"function"===typeof k?f=new k("unhandledrejection",{cancelable:!0}):(f=y.document.createEvent("CustomEvent"),f.initCustomEvent("unhandledrejection",!1,!0,f));f.promise=this;f.reason=this.i;return h(f)};b.prototype.A=function(){if(null!=this.g){for(var f=0;f<this.g.length;++f)g.h(this.g[f]);this.g=null}};var g=new c;b.prototype.F=
function(f){var k=this.j();f.J(k.resolve,k.reject)};b.prototype.G=function(f,k){var h=this.j();try{f.call(k,h.resolve,h.reject)}catch(l){h.reject(l)}};b.prototype.then=function(f,k){function h(p,m){return"function"==typeof p?function(q){try{l(p(q))}catch(t){n(t)}}:m}var l,n,r=new b(function(p,m){l=p;n=m});this.J(h(f,l),h(k,n));return r};b.prototype.catch=function(f){return this.then(void 0,f)};b.prototype.J=function(f,k){function h(){switch(l.h){case 1:f(l.i);break;case 2:k(l.i);break;default:throw Error("Unexpected state: "+
l.h);}}var l=this;null==this.g?g.h(h):this.g.push(h);this.o=!0};b.resolve=d;b.reject=function(f){return new b(function(k,h){h(f)})};b.race=function(f){return new b(function(k,h){for(var l=C(f),n=l.next();!n.done;n=l.next())d(n.value).J(k,h)})};b.all=function(f){var k=C(f),h=k.next();return h.done?d([]):new b(function(l,n){function r(q){return function(t){p[q]=t;m--;0==m&&l(p)}}var p=[],m=0;do p.push(void 0),m++,d(h.value).J(r(p.length-1),n),h=k.next();while(!h.done)})};return b});
function ua(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var g=c++;return{value:b(g,a[g]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}var va="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e])}return a};B("Object.assign",function(a){return a||va});
B("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});B("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var g=d[c];if(g===b||Object.is(g,b))return!0}return!1}});
B("String.prototype.includes",function(a){return a?a:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(b,c||0)}});B("Array.prototype.keys",function(a){return a?a:function(){return ua(this,function(b){return b})}});var wa=this||self;
function J(a,b){a=a.split(".");var c=wa;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};function xa(a){wa.setTimeout(function(){throw a;},0)};function K(a){xa(a);return;throw Error("invalid error level: 1");}function ya(a,b){K(Error("Invalid wire type: "+a+" (at position "+b+")"))}function za(){K(Error("Failed to read varint, encoding is invalid."))};function Aa(a,b){b=String.fromCharCode.apply(null,b);return null==a?b:a+b}var Ba,Ca="undefined"!==typeof TextDecoder,Da,Ea="undefined"!==typeof TextEncoder;
function Fa(a){if(Ea)a=(Da||(Da=new TextEncoder)).encode(a);else{var b=void 0;b=void 0===b?!1:b;for(var c=0,d=new Uint8Array(3*a.length),e=0;e<a.length;e++){var g=a.charCodeAt(e);if(128>g)d[c++]=g;else{if(2048>g)d[c++]=g>>6|192;else{if(55296<=g&&57343>=g){if(56319>=g&&e<a.length){var f=a.charCodeAt(++e);if(56320<=f&&57343>=f){g=1024*(g-55296)+f-56320+65536;d[c++]=g>>18|240;d[c++]=g>>12&63|128;d[c++]=g>>6&63|128;d[c++]=g&63|128;continue}else e--}if(b)throw Error("Found an unpaired surrogate");g=65533}d[c++]=
g>>12|224;d[c++]=g>>6&63|128}d[c++]=g&63|128}}a=d.subarray(0,c)}return a};var Ga={},L=null;function Ha(a){var b;void 0===b&&(b=0);Ia();b=Ga[b];for(var c=Array(Math.floor(a.length/3)),d=b[64]||"",e=0,g=0;e<a.length-2;e+=3){var f=a[e],k=a[e+1],h=a[e+2],l=b[f>>2];f=b[(f&3)<<4|k>>4];k=b[(k&15)<<2|h>>6];h=b[h&63];c[g++]=l+f+k+h}l=0;h=d;switch(a.length-e){case 2:l=a[e+1],h=b[(l&15)<<2]||d;case 1:a=a[e],c[g]=b[a>>2]+b[(a&3)<<4|l>>4]+h+d}return c.join("")}
function Ja(a){var b=a.length,c=3*b/4;c%3?c=Math.floor(c):-1!="=.".indexOf(a[b-1])&&(c=-1!="=.".indexOf(a[b-2])?c-2:c-1);var d=new Uint8Array(c),e=0;Ka(a,function(g){d[e++]=g});return d.subarray(0,e)}
function Ka(a,b){function c(h){for(;d<a.length;){var l=a.charAt(d++),n=L[l];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(l))throw Error("Unknown base64 encoding at char: "+l);}return h}Ia();for(var d=0;;){var e=c(-1),g=c(0),f=c(64),k=c(64);if(64===k&&-1===e)break;b(e<<2|g>>4);64!=f&&(b(g<<4&240|f>>2),64!=k&&b(f<<6&192|k))}}
function Ia(){if(!L){L={};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),b=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++){var d=a.concat(b[c].split(""));Ga[c]=d;for(var e=0;e<d.length;e++){var g=d[e];void 0===L[g]&&(L[g]=e)}}}};var La="function"===typeof Uint8Array,Ma;function Na(a){this.g=a;if(null!==a&&0===a.length)throw Error("ByteString should be constructed with non-empty values");}Na.prototype.toJSON=function(){if(null==this.g)var a="";else a=this.g,a=this.g=null==a||"string"===typeof a?a:La&&a instanceof Uint8Array?Ha(a):null;return a};var Oa="function"===typeof Uint8Array.prototype.slice;function Pa(a,b,c){return b===c?Ma||(Ma=new Uint8Array(0)):Oa?a.slice(b,c):new Uint8Array(a.subarray(b,c))}var M=0,N=0;
function Qa(a){if(a.constructor===Uint8Array)return a;if(a.constructor===ArrayBuffer)return new Uint8Array(a);if(a.constructor===Array)return new Uint8Array(a);if(a.constructor===String)return Ja(a);if(a.constructor===Na){if(null==a.g)var b=Ma||(Ma=new Uint8Array(0));else{b=Uint8Array;var c=a.g;c=null==c||La&&null!=c&&c instanceof Uint8Array?c:"string"===typeof c?Ja(c):null;a=a.g=c;b=new b(a)}return b}if(a instanceof Uint8Array)return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers");
};function Ra(a,b){b=void 0===b?{}:b;b=void 0===b.u?!1:b.u;this.h=null;this.g=this.i=this.l=0;this.j=!1;this.u=b;a&&Sa(this,a)}function Sa(a,b){a.h=Qa(b);a.l=0;a.i=a.h.length;a.g=a.l}Ra.prototype.reset=function(){this.g=this.l};function O(a){a.g>a.i&&(a.j=!0,K(Error("Tried to read past the end of the data "+a.g+" > "+a.i)))}
function P(a){var b=a.h,c=b[a.g],d=c&127;if(128>c)return a.g+=1,O(a),d;c=b[a.g+1];d|=(c&127)<<7;if(128>c)return a.g+=2,O(a),d;c=b[a.g+2];d|=(c&127)<<14;if(128>c)return a.g+=3,O(a),d;c=b[a.g+3];d|=(c&127)<<21;if(128>c)return a.g+=4,O(a),d;c=b[a.g+4];d|=(c&15)<<28;if(128>c)return a.g+=5,O(a),d>>>0;a.g+=5;if(128<=b[a.g++]&&128<=b[a.g++]&&128<=b[a.g++]&&128<=b[a.g++]&&128<=b[a.g++])return a.j=!0,za(),d;O(a);return d}var Ta=[];function Ua(){this.g=new Uint8Array(64);this.h=0}function Q(a,b){if(!(a.h+1<a.g.length)){var c=a.g;a.g=new Uint8Array(Math.ceil(1+2*a.g.length));a.g.set(c)}a.g[a.h++]=b}Ua.prototype.length=function(){return this.h};Ua.prototype.end=function(){var a=this.g,b=this.h;this.h=0;return Pa(a,0,b)};function S(a,b){for(;127<b;)Q(a,b&127|128),b>>>=7;Q(a,b)};function Va(a){var b={},c=void 0===b.N?!1:b.N;this.m={u:void 0===b.u?!1:b.u};this.N=c;b=this.m;Ta.length?(c=Ta.pop(),b&&(c.u=b.u),a&&Sa(c,a),a=c):a=new Ra(a,b);this.g=a;this.l=this.g.g;this.h=this.i=-1;this.j=!1}Va.prototype.reset=function(){this.g.reset();this.h=this.i=-1};function Wa(a){var b=a.g;(b=b.g==b.i)||(b=a.j)||(b=a.g,b=b.j||0>b.g||b.g>b.i);if(b)return!1;a.l=a.g.g;var c=P(a.g);b=c>>>3;c&=7;if(!(0<=c&&5>=c))return a.j=!0,ya(c,a.l),!1;a.i=b;a.h=c;return!0}
function Xa(a){switch(a.h){case 0:if(0!=a.h)Xa(a);else a:{a=a.g;for(var b=a.g,c=0;10>c;c++){if(0===(a.h[b]&128)){a.g=b+1;O(a);break a}b++}a.j=!0;za()}break;case 1:a=a.g;a.g+=8;O(a);break;case 2:2!=a.h?Xa(a):(b=P(a.g),a=a.g,a.g+=b,O(a));break;case 5:a=a.g;a.g+=4;O(a);break;case 3:b=a.i;do{if(!Wa(a)){a.j=!0;K(Error("Unmatched start-group tag: stream EOF"));break}if(4==a.h){a.i!=b&&(a.j=!0,K(Error("Unmatched end-group tag")));break}Xa(a)}while(1);break;default:a.j=!0,ya(a.h,a.l)}}
function Ya(a,b,c){a.N||(a=Pa(a.g.h,c,a.g.g),(c=b.m)?c.push(a):b.m=[a])}var Za=[];function $a(){this.h=[];this.i=0;this.g=new Ua}function ab(a,b){0!==b.length&&(a.h.push(b),a.i+=b.length)}function bb(a,b,c){S(a.g,8*b+2);S(a.g,c.length);ab(a,a.g.end());ab(a,c)};var cb="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol(void 0):void 0;function db(a,b){Object.isFrozen(a)||(cb?a[cb]|=b:void 0!==a.g?a.g|=b:Object.defineProperties(a,{g:{value:b,configurable:!0,writable:!0,enumerable:!1}}))}function eb(a){if(!a)return 0;var b;cb?b=a[cb]:b=a.g;return null==b?0:b}function fb(a){if(!Array.isArray(a))return a;db(a,1);return a}function gb(a){if(!Array.isArray(a))throw Error("cannot mark non-array as immutable");db(a,2)};function hb(a){return null!==a&&"object"===typeof a&&a.constructor===Object}function ib(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "object":return La&&null!=a&&a instanceof Uint8Array?Ha(a):a;default:return a}};function jb(a,b){if(null!=a)return Array.isArray(a)||hb(a)?kb(a,b):b(a)}function kb(a,b){if(Array.isArray(a)){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]=jb(a[d],b);eb(a)&1&&fb(c);return c}c={};for(d in a)c[d]=jb(a[d],b);return c};var lb;function T(a,b,c){var d=lb;lb=null;a||(a=d);d=this.constructor.ba;a||(a=d?[d]:[]);this.j=(d?0:-1)-(this.constructor.$||0);this.i=null;this.g=a;a:{d=this.g.length;a=d-1;if(d&&(d=this.g[a],hb(d))){this.l=a-this.j;this.h=d;break a}void 0!==b&&-1<b?(this.l=Math.max(b,a+1-this.j),this.h=null):this.l=Number.MAX_VALUE}if(c)for(b=0;b<c.length;b++)a=c[b],a<this.l?(a+=this.j,(d=this.g[a])?fb(d):this.g[a]=mb):(nb(this),(d=this.h[a])?fb(d):this.h[a]=mb)}var mb=Object.freeze(fb([]));
function nb(a){var b=a.l+a.j;a.g[b]||(a.h=a.g[b]={})}function U(a,b,c){return-1===b?null:(void 0===c?0:c)||b>=a.l?a.h?a.h[b]:void 0:a.g[b+a.j]}function ob(a,b,c){c=void 0===c?!0:c;var d=void 0===d?!1:d;var e=U(a,b,d);null==e&&(e=mb);e===mb?(e=fb([]),V(a,b,e,d)):c&&Array.isArray(e)&&eb(e)&2&&(e=e.slice(),V(a,b,e,d));return e}function W(a,b,c){a=U(a,b);a=null==a?a:+a;return null==a?void 0===c?0:c:a}function V(a,b,c,d){(void 0===d?0:d)||b>=a.l?(nb(a),a.h[b]=c):a.g[b+a.j]=c}
function pb(a,b,c){a.i||(a.i={});var d=a.i[c];if(!d){var e=ob(a,c,!1);d=[];for(var g=Array.isArray(e)?!!(eb(e)&2):!1,f=0;f<e.length;f++)d[f]=new b(e[f]),g&&gb(d[f].g);g&&(gb(d),Object.freeze(d));a.i[c]=d}return d}function qb(a,b,c,d,e){var g=pb(a,d,b);c=c?c:new d;a=ob(a,b);void 0!=e?(g.splice(e,0,c),a.splice(e,0,X(c))):(g.push(c),a.push(X(c)))}T.prototype.toJSON=function(){var a=X(this);return kb(a,ib)};
function X(a){if(a.i)for(var b in a.i){var c=a.i[b];if(Array.isArray(c))for(var d=0;d<c.length;d++)c[d]&&X(c[d]);else c&&X(c)}return a.g}T.prototype.toString=function(){return X(this).toString()};function rb(a,b){a=U(a,b);return null==a?0:a}function sb(a,b){a=U(a,b);return null==a?"":a};function tb(a,b){if(a=a.m){ab(b,b.g.end());for(var c=0;c<a.length;c++)ab(b,a[c])}}function ub(a){var b=a[0];switch(a.length){case 2:var c=a[1];return function(h,l,n){return b(h,l,n,c)};case 3:var d=a[1],e=a[2];return function(h,l,n){return b(h,l,n,d,e)};case 4:var g=a[1],f=a[2],k=a[3];return function(h,l,n){return b(h,l,n,g,f,k)};default:throw Error("unsupported number of parameters, expected [2-4], got "+a.length);}}
function vb(a,b,c){for(;Wa(b)&&4!=b.h;){var d=b.i,e=c[d];if(e){if(Array.isArray(e)&&(e=c[d]=ub(e)),!e(b,a,d)){d=b;e=a;var g=d.l;Xa(d);Ya(d,e,g)}}else d=b,e=a,g=d.l,Xa(d),Ya(d,e,g)}return a}function wb(a,b){var c=new $a;b(a,c);a=c.i+c.g.length();if(0===a)c=new Uint8Array(0);else{a=new Uint8Array(a);for(var d=c.h,e=d.length,g=b=0;g<e;g++){var f=d[g];0!==f.length&&(a.set(f,b),b+=f.length)}d=c.g;e=d.h;0!==e&&(a.set(d.g.subarray(0,e),b),d.h=0);c.h=[a];c=a}return c}
function xb(a,b,c){if(Za.length){var d=Za.pop();a&&(Sa(d.g,a),d.i=-1,d.h=-1);a=d}else a=new Va(a);try{return c(new b,a)}finally{b=a.g,b.h=null,b.l=0,b.i=0,b.g=0,b.j=!1,b.u=!1,a.i=-1,a.h=-1,a.j=!1,100>Za.length&&Za.push(a)}}
function Y(a,b,c){b=U(b,c);if(null!=b){S(a.g,8*c+5);a=a.g;var d=b;d=(c=0>d?1:0)?-d:d;0===d?0<1/d?M=N=0:(N=0,M=2147483648):isNaN(d)?(N=0,M=2147483647):3.4028234663852886E38<d?(N=0,M=(c<<31|2139095040)>>>0):1.1754943508222875E-38>d?(d=Math.round(d/Math.pow(2,-149)),N=0,M=(c<<31|d)>>>0):(b=Math.floor(Math.log(d)/Math.LN2),d*=Math.pow(2,-b),d=Math.round(8388608*d),16777216<=d&&++b,N=0,M=(c<<31|b+127<<23|d&8388607)>>>0);c=M;Q(a,c>>>0&255);Q(a,c>>>8&255);Q(a,c>>>16&255);Q(a,c>>>24&255)}}
function Z(a,b,c){if(5!==a.h)return!1;a=a.g;var d=a.h[a.g];var e=a.h[a.g+1];var g=a.h[a.g+2],f=a.h[a.g+3];a.g+=4;O(a);e=(d<<0|e<<8|g<<16|f<<24)>>>0;a=2*(e>>31)+1;d=e>>>23&255;e&=8388607;V(b,c,255==d?e?NaN:Infinity*a:0==d?a*Math.pow(2,-149)*e:a*Math.pow(2,d-150)*(e+Math.pow(2,23)));return!0}
function yb(a,b,c){if(0!==a.h)return!1;for(var d=a.g,e=128,g=0,f=a=0;4>f&&128<=e;f++)e=d.h[d.g++],g|=(e&127)<<7*f;128<=e&&(e=d.h[d.g++],g|=(e&127)<<28,a|=(e&127)>>4);if(128<=e)for(f=0;5>f&&128<=e;f++)e=d.h[d.g++],a|=(e&127)<<7*f+3;if(128>e){d=g>>>0;e=a>>>0;if(a=e&2147483648)d=~d+1>>>0,e=~e>>>0,0==d&&(e=e+1>>>0);d=4294967296*e+(d>>>0);a=a?-d:d}else d.j=!0,za(),a=void 0;V(b,c,a);return!0}function zb(a,b,c){if(0!==a.h)return!1;V(b,c,P(a.g));return!0}
function Ab(a,b,c){if(2!==a.h)return!1;var d=P(a.g);a=a.g;var e=a.g;a.g+=d;O(a);a=a.h;var g;if(Ca)(g=Ba)||(g=Ba=new TextDecoder("utf-8",{fatal:!1})),g=g.decode(a.subarray(e,e+d));else{d=e+d;for(var f=[],k=null,h,l,n;e<d;)h=a[e++],128>h?f.push(h):224>h?e>=d?f.push(65533):(l=a[e++],194>h||128!==(l&192)?(e--,f.push(65533)):f.push((h&31)<<6|l&63)):240>h?e>=d-1?f.push(65533):(l=a[e++],128!==(l&192)||224===h&&160>l||237===h&&160<=l||128!==((g=a[e++])&192)?(e--,f.push(65533)):f.push((h&15)<<12|(l&63)<<6|
g&63)):244>=h?e>=d-2?f.push(65533):(l=a[e++],128!==(l&192)||0!==(h<<28)+(l-144)>>30||128!==((g=a[e++])&192)||128!==((n=a[e++])&192)?(e--,f.push(65533)):(h=(h&7)<<18|(l&63)<<12|(g&63)<<6|n&63,h-=65536,f.push((h>>10&1023)+55296,(h&1023)+56320))):f.push(65533),8192<=f.length&&(k=Aa(k,f),f.length=0);g=Aa(k,f)}V(b,c,g);return!0}
function Bb(a,b,c,d,e){if(2!==a.h)return!1;var g=new d,f=a.g.i,k=P(a.g),h=a.g.g+k;a.g.i=h;e(g,a);e=h-a.g.g;if(0!==e)throw Error("Message parsing ended unexpectedly. Expected to read "+(k+" bytes, instead read "+(k-e)+" bytes, either the data ended unexpectedly or the message misreported its own length"));a.g.g=h;a.g.i=f;qb(b,c,g,d,void 0);return!0};function Cb(a){T.call(this,a)}var Db;E(Cb,T);function Eb(a,b){var c=U(a,1);if(null!=c&&null!=c){S(b.g,8);var d=b.g;if(0<=c)S(d,c);else{for(var e=0;9>e;e++)Q(d,c&127|128),c>>=7;Q(d,1)}}Y(b,a,2);d=U(a,3);null!=d&&bb(b,3,Fa(d));d=U(a,4);null!=d&&bb(b,4,Fa(d));tb(a,b)}function Fb(a,b){return vb(a,b,Db||(Db={1:zb,2:Z,3:Ab,4:Ab}))};function Gb(a){T.call(this,a,-1,Hb)}var Ib;E(Gb,T);Gb.prototype.addClassification=function(a,b){qb(this,1,a,Cb,b);return this};function Jb(a,b){return vb(a,b,Ib||(Ib={1:[Bb,Cb,Fb]}))}var Hb=[1];function Kb(a){T.call(this,a)}var Lb;E(Kb,T);function Mb(a,b){Y(b,a,1);Y(b,a,2);Y(b,a,3);Y(b,a,4);Y(b,a,5);tb(a,b)}function Nb(a,b){return vb(a,b,Lb||(Lb={1:Z,2:Z,3:Z,4:Z,5:Z}))};function Ob(a){T.call(this,a,-1,Pb)}var Qb;E(Ob,T);function Rb(a,b){return vb(a,b,Qb||(Qb={1:[Bb,Kb,Nb]}))}var Pb=[1];function Sb(a){T.call(this,a)}var Tb;E(Sb,T);function Ub(a,b){Y(b,a,1);Y(b,a,2);Y(b,a,3);Y(b,a,4);Y(b,a,5);var c=U(a,6);if(null!=c&&null!=c){S(b.g,48);var d=b.g,e=c;c=0>e;e=Math.abs(e);var g=e>>>0;e=Math.floor((e-g)/4294967296);e>>>=0;c&&(e=~e>>>0,g=(~g>>>0)+1,4294967295<g&&(g=0,e++,4294967295<e&&(e=0)));M=g;N=e;c=M;for(g=N;0<g||127<c;)Q(d,c&127|128),c=(c>>>7|g<<25)>>>0,g>>>=7;Q(d,c)}tb(a,b)}function Vb(a,b){return vb(a,b,Tb||(Tb={1:Z,2:Z,3:Z,4:Z,5:Z,6:yb}))};function Wb(a,b,c){c=a.createShader(0===c?a.VERTEX_SHADER:a.FRAGMENT_SHADER);a.shaderSource(c,b);a.compileShader(c);if(!a.getShaderParameter(c,a.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+a.getShaderInfoLog(c));return c};function Xb(a){return pb(a,Cb,1).map(function(b){return{index:rb(b,1),score:W(b,2),label:null!=U(b,3)?sb(b,3):void 0,displayName:null!=U(b,4)?sb(b,4):void 0}})};function Yb(a){return{x:W(a,1),y:W(a,2),z:W(a,3),visibility:null!=U(a,4)?W(a,4):void 0}}function Zb(a){return a.map(function(b){return pb(xb(b,Ob,Rb),Kb,1).map(Yb)})};function $b(a,b){this.h=a;this.g=b;this.l=0}
function ac(a,b,c){bc(a,b);if("function"===typeof a.g.canvas.transferToImageBitmap)return Promise.resolve(a.g.canvas.transferToImageBitmap());if(c)return Promise.resolve(a.g.canvas);if("function"===typeof createImageBitmap)return createImageBitmap(a.g.canvas);void 0===a.i&&(a.i=document.createElement("canvas"));return new Promise(function(d){a.i.height=a.g.canvas.height;a.i.width=a.g.canvas.width;a.i.getContext("2d",{}).drawImage(a.g.canvas,0,0,a.g.canvas.width,a.g.canvas.height);d(a.i)})}
function bc(a,b){var c=a.g;if(void 0===a.m){var d=Wb(c,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),e=Wb(c,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),g=c.createProgram();c.attachShader(g,d);c.attachShader(g,e);c.linkProgram(g);if(!c.getProgramParameter(g,c.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+
c.getProgramInfoLog(g));d=a.m=g;c.useProgram(d);e=c.getUniformLocation(d,"sampler0");a.j={I:c.getAttribLocation(d,"aVertex"),H:c.getAttribLocation(d,"aTex"),ca:e};a.s=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,a.s);c.enableVertexAttribArray(a.j.I);c.vertexAttribPointer(a.j.I,2,c.FLOAT,!1,0,0);c.bufferData(c.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),c.STATIC_DRAW);c.bindBuffer(c.ARRAY_BUFFER,null);a.o=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,a.o);c.enableVertexAttribArray(a.j.H);c.vertexAttribPointer(a.j.H,
2,c.FLOAT,!1,0,0);c.bufferData(c.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),c.STATIC_DRAW);c.bindBuffer(c.ARRAY_BUFFER,null);c.uniform1i(e,0)}d=a.j;c.useProgram(a.m);c.canvas.width=b.width;c.canvas.height=b.height;c.viewport(0,0,b.width,b.height);c.activeTexture(c.TEXTURE0);a.h.bindTexture2d(b.glName);c.enableVertexAttribArray(d.I);c.bindBuffer(c.ARRAY_BUFFER,a.s);c.vertexAttribPointer(d.I,2,c.FLOAT,!1,0,0);c.enableVertexAttribArray(d.H);c.bindBuffer(c.ARRAY_BUFFER,a.o);c.vertexAttribPointer(d.H,
2,c.FLOAT,!1,0,0);c.bindFramebuffer(c.DRAW_FRAMEBUFFER?c.DRAW_FRAMEBUFFER:c.FRAMEBUFFER,null);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);c.colorMask(!0,!0,!0,!0);c.drawArrays(c.TRIANGLE_FAN,0,4);c.disableVertexAttribArray(d.I);c.disableVertexAttribArray(d.H);c.bindBuffer(c.ARRAY_BUFFER,null);a.h.bindTexture2d(0)}function cc(a){this.g=a};var dc=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function ec(a,b){return b+a}function fc(a,b){window[a]=b}function gc(a){var b=document.createElement("script");b.setAttribute("src",a);b.setAttribute("crossorigin","anonymous");return new Promise(function(c){b.addEventListener("load",function(){c()},!1);b.addEventListener("error",function(){c()},!1);document.body.appendChild(b)})}
function hc(){return H(function(a){switch(a.g){case 1:return a.m=2,F(a,WebAssembly.instantiate(dc),4);case 4:a.g=3;a.m=0;break;case 2:return a.m=0,a.j=null,a.return(!1);case 3:return a.return(!0)}})}
function ic(a){this.g=a;this.listeners={};this.j={};this.F={};this.m={};this.s={};this.G=this.o=this.R=!0;this.C=Promise.resolve();this.P="";this.B={};this.locateFile=a&&a.locateFile||ec;if("object"===typeof window)var b=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if("undefined"!==typeof location)b=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");
this.S=b;if(a.options){b=C(Object.keys(a.options));for(var c=b.next();!c.done;c=b.next()){c=c.value;var d=a.options[c].default;void 0!==d&&(this.j[c]="function"===typeof d?d():d)}}}x=ic.prototype;x.close=function(){this.i&&this.i.delete();return Promise.resolve()};
function jc(a){var b,c,d,e,g,f,k,h,l,n,r;return H(function(p){switch(p.g){case 1:if(!a.R)return p.return();b=void 0===a.g.files?[]:"function"===typeof a.g.files?a.g.files(a.j):a.g.files;return F(p,hc(),2);case 2:c=p.h;if("object"===typeof window)return fc("createMediapipeSolutionsWasm",{locateFile:a.locateFile}),fc("createMediapipeSolutionsPackedAssets",{locateFile:a.locateFile}),f=b.filter(function(m){return void 0!==m.data}),k=b.filter(function(m){return void 0===m.data}),h=Promise.all(f.map(function(m){var q=
kc(a,m.url);if(void 0!==m.path){var t=m.path;q=q.then(function(w){a.overrideFile(t,w);return Promise.resolve(w)})}return q})),l=Promise.all(k.map(function(m){return void 0===m.simd||m.simd&&c||!m.simd&&!c?gc(a.locateFile(m.url,a.S)):Promise.resolve()})).then(function(){var m,q,t;return H(function(w){if(1==w.g)return m=window.createMediapipeSolutionsWasm,q=window.createMediapipeSolutionsPackedAssets,t=a,F(w,m(q),2);t.h=w.h;w.g=0})}),n=function(){return H(function(m){a.g.graph&&a.g.graph.url?m=F(m,
kc(a,a.g.graph.url),0):(m.g=0,m=void 0);return m})}(),F(p,Promise.all([l,h,n]),7);if("function"!==typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");d=b.filter(function(m){return void 0===m.simd||m.simd&&c||!m.simd&&!c}).map(function(m){return a.locateFile(m.url,a.S)});importScripts.apply(null,ea(d));e=a;return F(p,createMediapipeSolutionsWasm(Module),6);case 6:e.h=p.h;a.l=new OffscreenCanvas(1,1);a.h.canvas=a.l;g=a.h.GL.createContext(a.l,{antialias:!1,
alpha:!1,aa:"undefined"!==typeof WebGL2RenderingContext?2:1});a.h.GL.makeContextCurrent(g);p.g=4;break;case 7:a.l=document.createElement("canvas");r=a.l.getContext("webgl2",{});if(!r&&(r=a.l.getContext("webgl",{}),!r))return alert("Failed to create WebGL canvas context when passing video frame."),p.return();a.D=r;a.h.canvas=a.l;a.h.createContext(a.l,!0,!0,{});case 4:a.i=new a.h.SolutionWasm,a.R=!1,p.g=0}})}
function lc(a){var b,c,d,e,g,f,k,h;return H(function(l){if(1==l.g){if(a.g.graph&&a.g.graph.url&&a.P===a.g.graph.url)return l.return();a.o=!0;if(!a.g.graph||!a.g.graph.url){l.g=2;return}a.P=a.g.graph.url;return F(l,kc(a,a.g.graph.url),3)}2!=l.g&&(b=l.h,a.i.loadGraph(b));c=C(Object.keys(a.B));for(d=c.next();!d.done;d=c.next())e=d.value,a.i.overrideFile(e,a.B[e]);a.B={};if(a.g.listeners)for(g=C(a.g.listeners),f=g.next();!f.done;f=g.next())k=f.value,mc(a,k);h=a.j;a.j={};a.setOptions(h);l.g=0})}
x.reset=function(){var a=this;return H(function(b){a.i&&(a.i.reset(),a.m={},a.s={});b.g=0})};
x.setOptions=function(a,b){var c=this;if(b=b||this.g.options){for(var d=[],e=[],g={},f=C(Object.keys(a)),k=f.next();!k.done;g={K:g.K,L:g.L},k=f.next()){var h=k.value;h in this.j&&this.j[h]===a[h]||(this.j[h]=a[h],k=b[h],void 0!==k&&(k.onChange&&(g.K=k.onChange,g.L=a[h],d.push(function(l){return function(){var n;return H(function(r){if(1==r.g)return F(r,l.K(l.L),2);n=r.h;!0===n&&(c.o=!0);r.g=0})}}(g))),k.graphOptionXref&&(h={valueNumber:1===k.type?a[h]:0,valueBoolean:0===k.type?a[h]:!1,valueString:2===
k.type?a[h]:""},k=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),k.graphOptionXref),h),e.push(k))))}if(0!==d.length||0!==e.length)this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(e),this.v=(void 0===this.v?[]:this.v).concat(d)}};
function nc(a){var b,c,d,e,g,f,k;return H(function(h){switch(h.g){case 1:if(!a.o)return h.return();if(!a.v){h.g=2;break}b=C(a.v);c=b.next();case 3:if(c.done){h.g=5;break}d=c.value;return F(h,d(),4);case 4:c=b.next();h.g=3;break;case 5:a.v=void 0;case 2:if(a.A){e=new a.h.GraphOptionChangeRequestList;g=C(a.A);for(f=g.next();!f.done;f=g.next())k=f.value,e.push_back(k);a.i.changeOptions(e);e.delete();a.A=void 0}a.o=!1;h.g=0}})}
x.initialize=function(){var a=this;return H(function(b){return 1==b.g?F(b,jc(a),2):3!=b.g?F(b,lc(a),3):F(b,nc(a),0)})};function kc(a,b){var c,d;return H(function(e){if(b in a.F)return e.return(a.F[b]);c=a.locateFile(b,"");d=fetch(c).then(function(g){return g.arrayBuffer()});a.F[b]=d;return e.return(d)})}x.overrideFile=function(a,b){this.i?this.i.overrideFile(a,b):this.B[a]=b};x.clearOverriddenFiles=function(){this.B={};this.i&&this.i.clearOverriddenFiles()};
x.send=function(a,b){var c=this,d,e,g,f,k,h,l,n,r;return H(function(p){switch(p.g){case 1:if(!c.g.inputs)return p.return();d=1E3*(void 0===b||null===b?performance.now():b);return F(p,c.C,2);case 2:return F(p,c.initialize(),3);case 3:e=new c.h.PacketDataList;g=C(Object.keys(a));for(f=g.next();!f.done;f=g.next())if(k=f.value,h=c.g.inputs[k]){a:{var m=a[k];switch(h.type){case "video":var q=c.m[h.stream];q||(q=new $b(c.h,c.D),c.m[h.stream]=q);0===q.l&&(q.l=q.h.createTexture());if("undefined"!==typeof HTMLVideoElement&&
m instanceof HTMLVideoElement){var t=m.videoWidth;var w=m.videoHeight}else"undefined"!==typeof HTMLImageElement&&m instanceof HTMLImageElement?(t=m.naturalWidth,w=m.naturalHeight):(t=m.width,w=m.height);w={glName:q.l,width:t,height:w};t=q.g;t.canvas.width=w.width;t.canvas.height=w.height;t.activeTexture(t.TEXTURE0);q.h.bindTexture2d(q.l);t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,m);q.h.bindTexture2d(0);q=w;break a;case "detections":q=c.m[h.stream];q||(q=new cc(c.h),c.m[h.stream]=q);
q.data||(q.data=new q.g.DetectionListData);q.data.reset(m.length);for(w=0;w<m.length;++w){t=m[w];var v=q.data,A=v.setBoundingBox,I=w;var D=t.T;var u=new Sb;V(u,1,D.X);V(u,2,D.Y);V(u,3,D.height);V(u,4,D.width);V(u,5,D.rotation);V(u,6,D.W);D=wb(u,Ub);A.call(v,I,D);if(t.O)for(v=0;v<t.O.length;++v){u=t.O[v];var z=u.visibility?!0:!1;A=q.data;I=A.addNormalizedLandmark;D=w;u=Object.assign(Object.assign({},u),{visibility:z?u.visibility:0});z=new Kb;V(z,1,u.x);V(z,2,u.y);V(z,3,u.z);u.visibility&&V(z,4,u.visibility);
u=wb(z,Mb);I.call(A,D,u)}if(t.M)for(v=0;v<t.M.length;++v)A=q.data,I=A.addClassification,D=w,u=t.M[v],z=new Cb,V(z,2,u.score),u.index&&V(z,1,u.index),u.label&&V(z,3,u.label),u.displayName&&V(z,4,u.displayName),u=wb(z,Eb),I.call(A,D,u)}q=q.data;break a;default:q={}}}l=q;n=h.stream;switch(h.type){case "video":e.pushTexture2d(Object.assign(Object.assign({},l),{stream:n,timestamp:d}));break;case "detections":r=l;r.stream=n;r.timestamp=d;e.pushDetectionList(r);break;default:throw Error("Unknown input config type: '"+
h.type+"'");}}c.i.send(e);return F(p,c.C,4);case 4:e.delete(),p.g=0}})};
function oc(a,b,c){var d,e,g,f,k,h,l,n,r,p,m,q,t,w;return H(function(v){switch(v.g){case 1:if(!c)return v.return(b);d={};e=0;g=C(Object.keys(c));for(f=g.next();!f.done;f=g.next())k=f.value,h=c[k],"string"!==typeof h&&"texture"===h.type&&void 0!==b[h.stream]&&++e;1<e&&(a.G=!1);l=C(Object.keys(c));f=l.next();case 2:if(f.done){v.g=4;break}n=f.value;r=c[n];if("string"===typeof r)return t=d,w=n,F(v,pc(a,n,b[r]),14);p=b[r.stream];if("detection_list"===r.type){if(p){var A=p.getRectList();for(var I=p.getLandmarksList(),
D=p.getClassificationsList(),u=[],z=0;z<A.size();++z){var R=xb(A.get(z),Sb,Vb);R={T:{X:W(R,1),Y:W(R,2),height:W(R,3),width:W(R,4),rotation:W(R,5,0),W:rb(R,6)},O:pb(xb(I.get(z),Ob,Rb),Kb,1).map(Yb),M:Xb(xb(D.get(z),Gb,Jb))};u.push(R)}A=u}else A=[];d[n]=A;v.g=7;break}if("proto_list"===r.type){if(p){A=Array(p.size());for(I=0;I<p.size();I++)A[I]=p.get(I);p.delete()}else A=[];d[n]=A;v.g=7;break}if(void 0===p){v.g=3;break}if("float_list"===r.type){d[n]=p;v.g=7;break}if("proto"===r.type){d[n]=p;v.g=7;break}if("texture"!==
r.type)throw Error("Unknown output config type: '"+r.type+"'");m=a.s[n];m||(m=new $b(a.h,a.D),a.s[n]=m);return F(v,ac(m,p,a.G),13);case 13:q=v.h,d[n]=q;case 7:r.transform&&d[n]&&(d[n]=r.transform(d[n]));v.g=3;break;case 14:t[w]=v.h;case 3:f=l.next();v.g=2;break;case 4:return v.return(d)}})}
function pc(a,b,c){var d;return H(function(e){return"number"===typeof c||c instanceof Uint8Array||c instanceof a.h.Uint8BlobList?e.return(c):c instanceof a.h.Texture2dDataOut?(d=a.s[b],d||(d=new $b(a.h,a.D),a.s[b]=d),e.return(ac(d,c,a.G))):e.return(void 0)})}
function mc(a,b){for(var c=b.name||"$",d=[].concat(ea(b.wants)),e=new a.h.StringList,g=C(b.wants),f=g.next();!f.done;f=g.next())e.push_back(f.value);g=a.h.PacketListener.implement({onResults:function(k){for(var h={},l=0;l<b.wants.length;++l)h[d[l]]=k.get(l);var n=a.listeners[c];n&&(a.C=oc(a,h,b.outs).then(function(r){r=n(r);for(var p=0;p<b.wants.length;++p){var m=h[d[p]];"object"===typeof m&&m.hasOwnProperty&&m.hasOwnProperty("delete")&&m.delete()}r&&(a.C=r)}))}});a.i.attachMultiListener(e,g);e.delete()}
x.onResults=function(a,b){this.listeners[b||"$"]=a};J("Solution",ic);J("OptionType",{BOOL:0,NUMBER:1,Z:2,0:"BOOL",1:"NUMBER",2:"STRING"});function qc(a){void 0===a&&(a=0);return 1===a?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}
function rc(a){var b=this;a=a||{};this.g=new ic({locateFile:a.locateFile,files:function(c){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:qc(c.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",
multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:Zb},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:Zb},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(c){return c.map(function(d){return Xb(xb(d,Gb,Jb))[0]})}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||
navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},
onChange:function(c){var d,e,g;return H(function(f){if(1==f.g)return d=qc(c),e="third_party/mediapipe/modules/hand_landmark/"+d,F(f,kc(b.g,d),2);g=f.h;b.g.overrideFile(e,g);return f.return(!0)})}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",
fieldName:"threshold"}}}})}x=rc.prototype;x.close=function(){this.g.close();return Promise.resolve()};x.onResults=function(a){this.g.onResults(a)};x.initialize=function(){var a=this;return H(function(b){return F(b,a.g.initialize(),0)})};x.reset=function(){this.g.reset()};x.send=function(a){var b=this;return H(function(c){return F(c,b.g.send(a),0)})};x.setOptions=function(a){this.g.setOptions(a)};J("Hands",rc);
J("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]);J("VERSION","0.4.1635986972");}).call(this);


/***/ }),

/***/ "./src/tsc/Controller.ts":
/*!*******************************!*\
  !*** ./src/tsc/Controller.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Controller": () => (/* binding */ Controller)
/* harmony export */ });
/* harmony import */ var _handsUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./handsUtil */ "./src/tsc/handsUtil.ts");

var horizontalMsgElem = document.getElementById("horizontalMessageBox");
var verticalMsgElem = document.getElementById("verticalMessageBox");
var depthMsgElem = document.getElementById("depthMessageBox");
/**
 * Use the HandTracker's data and manipulate the scene using it.
 */
var Controller = /** @class */ (function () {
    function Controller() {
    }
    /**
     * Handle the onResults event of the Hands tracker.
     * @param results the result of the data parsing.
     * @param prevResults the result of the data parsing.
     */
    Controller.prototype.onResultsCallback = function (results, prevResults) {
        var horizontalMsg = "NONE";
        var verticalMsg = "NONE";
        var depthMsg = "NONE";
        if (results.multiHandLandmarks && results.multiHandLandmarks.length != 0) {
            // only care about 1 hand
            var hand = results.multiHandLandmarks[0];
            if (prevResults && prevResults.multiHandLandmarks.length != 0) {
                var prevHand = prevResults.multiHandLandmarks[0];
                // has to flip horizontal footage since camera flips the view
                var horizontalDelta = -this.getDelta(hand[_handsUtil__WEBPACK_IMPORTED_MODULE_0__.LANDMARK_INDEX.WRIST].x, prevHand[_handsUtil__WEBPACK_IMPORTED_MODULE_0__.LANDMARK_INDEX.WRIST].x);
                if (horizontalDelta == 0)
                    horizontalMsg = "STAY";
                else if (horizontalDelta > 0)
                    horizontalMsg = "RIGHT";
                else
                    horizontalMsg = "LEFT";
                // has to flip vertical footage since image y-axis run top to bottom (increase downward like js)
                var verticalDelta = -this.getDelta(hand[_handsUtil__WEBPACK_IMPORTED_MODULE_0__.LANDMARK_INDEX.WRIST].y, prevHand[_handsUtil__WEBPACK_IMPORTED_MODULE_0__.LANDMARK_INDEX.WRIST].y);
                if (verticalDelta == 0)
                    verticalMsg = "STAY";
                else if (verticalDelta > 0)
                    verticalMsg = "UP";
                else
                    verticalMsg = "DOWN";
                // can't use wrist for z index
                var depthDelta = this.getDelta(hand[_handsUtil__WEBPACK_IMPORTED_MODULE_0__.LANDMARK_INDEX.MID_FINGER_MCP].z, prevHand[_handsUtil__WEBPACK_IMPORTED_MODULE_0__.LANDMARK_INDEX.MID_FINGER_MCP].z);
                if (depthDelta == 0)
                    depthMsg = "STAY";
                else if (depthDelta > 0)
                    depthMsg = "TOWARD USER";
                else
                    depthMsg = "AWAY FROM USER";
            }
        }
        horizontalMsgElem.textContent = horizontalMsg;
        verticalMsgElem.textContent = verticalMsg;
        depthMsgElem.textContent = depthMsg;
    };
    /**
     * Get the difference between 2 numbers. Also round it
     * to decimalPlace.
     * @param a, the first number.
     * @param b, the second number.
     * @param decimalPlace, how much we are rounding the delta result.
     * Default to 2 decimal place.
     * @returns
     */
    Controller.prototype.getDelta = function (a, b, decimalPlace) {
        if (decimalPlace === void 0) { decimalPlace = 2; }
        var delta = a - b;
        // round to x decimal place, see https://stackoverflow.com/a/11832950/11683637
        var decimalConvertor = Math.pow(10, decimalPlace);
        delta = Math.round(delta * decimalConvertor) / decimalConvertor;
        return delta;
    };
    /**
     * Subscribe to the HandTracker object.
     * @param tracker a HandTracker object.
     */
    Controller.prototype.subscribe = function (tracker) {
        tracker.addListener(this.onResultsCallback.bind(this));
    };
    return Controller;
}());



/***/ }),

/***/ "./src/tsc/HandTracker.ts":
/*!********************************!*\
  !*** ./src/tsc/HandTracker.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HandTracker": () => (/* binding */ HandTracker)
/* harmony export */ });
/* harmony import */ var _mediapipe_hands__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mediapipe/hands */ "./node_modules/@mediapipe/hands/hands.js");
/* harmony import */ var _mediapipe_hands__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_mediapipe_hands__WEBPACK_IMPORTED_MODULE_0__);

/**
 * Track the hands using the MediaPipe Hands then preprocess
 * it to intepret gestures.
 */
var HandTracker = /** @class */ (function () {
    function HandTracker() {
        var hands = new _mediapipe_hands__WEBPACK_IMPORTED_MODULE_0__.Hands({ locateFile: function (file) {
                return "build/libs/".concat(file);
            } });
        hands.setOptions({
            maxNumHands: 1,
            modelComplexity: 1,
            minDetectionConfidence: 0.5,
            minTrackingConfidence: 0.5
        });
        hands.onResults(this.onResultsCallback.bind(this));
        this.hands = hands;
        this.prevResults = null;
        this.listeners = [];
    }
    /**
     * Handle the onResults event of the Hands tracker.
     */
    HandTracker.prototype.onResultsCallback = function (results) {
        var _this = this;
        this.listeners.forEach(function (listener) { return listener(results, _this.prevResults); });
        this.prevResults = results;
    };
    /**
     * Add a Listener to the HandTracker.
     * @param listener a new listener.
     */
    HandTracker.prototype.addListener = function (listener) {
        this.listeners.push(listener);
    };
    return HandTracker;
}());



/***/ }),

/***/ "./src/tsc/InputSource.ts":
/*!********************************!*\
  !*** ./src/tsc/InputSource.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "InputSource": () => (/* binding */ InputSource)
/* harmony export */ });
/* harmony import */ var _mediapipe_camera_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mediapipe/camera_utils */ "./node_modules/@mediapipe/camera_utils/camera_utils.js");
/* harmony import */ var _mediapipe_camera_utils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_mediapipe_camera_utils__WEBPACK_IMPORTED_MODULE_0__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};

var FPSElem = document.querySelector("#fps");
var STEPS_PER_SEC = 10;
var UPDATE_STEP_IN_SEC = 1000 / STEPS_PER_SEC;
/**
 * Handle work related to the camera.
 */
var InputSource = /** @class */ (function () {
    function InputSource() {
        this.videoElement = null;
        this.camera = null;
        this.isRunning = false;
        this.fps = 0;
        this.processedFrame = false;
    }
    /**
     * Init the camera.
     * This is taken from the camera util script
     * and relies on having a video element
     * @param tracker the Hands tracker.
     */
    InputSource.prototype.initCamera = function (tracker) {
        var _this = this;
        // need to init a <video> element in the DOM first
        if (this.videoElement == null)
            this.initVideoElement();
        this.camera = new _mediapipe_camera_utils__WEBPACK_IMPORTED_MODULE_0__.Camera(this.videoElement, {
            onFrame: function () { return __awaiter(_this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            if (!!this.processedFrame) return [3 /*break*/, 2];
                            // this.fps++
                            return [4 /*yield*/, tracker.hands.send({ image: this.videoElement })];
                        case 1:
                            // this.fps++
                            _a.sent();
                            this.processedFrame = true;
                            _a.label = 2;
                        case 2: return [2 /*return*/];
                    }
                });
            }); },
            width: 128,
            height: 72
        });
        // setInterval(this.displayFPS.bind(this), 1000)
        setInterval(this.setProcessedFrame.bind(this, false), UPDATE_STEP_IN_SEC);
    };
    /**
     * Create the video element in the DOM.
     * @param hideVid whether to hide the video element.
     */
    InputSource.prototype.initVideoElement = function (hideVid) {
        if (hideVid === void 0) { hideVid = true; }
        var videoElement = document.createElement("video");
        if (hideVid)
            videoElement.style.display = "none";
        document.body.append(videoElement);
        this.videoElement = videoElement;
    };
    InputSource.prototype.displayFPS = function () {
        FPSElem.textContent = "".concat(this.fps);
        this.fps = 0;
    };
    /**
     * @param value the new value.
     */
    InputSource.prototype.setProcessedFrame = function (value) {
        this.processedFrame = value;
    };
    /**
     * Start getting the inputs.
     */
    InputSource.prototype.start = function () {
        this.camera.start();
        this.isRunning = true;
    };
    /**
     * Stop getting the inputs.
     */
    InputSource.prototype.stop = function () {
        this.camera.stop();
        this.isRunning = false;
    };
    return InputSource;
}());



/***/ }),

/***/ "./src/tsc/handsUtil.ts":
/*!******************************!*\
  !*** ./src/tsc/handsUtil.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LANDMARK_INDEX": () => (/* binding */ LANDMARK_INDEX)
/* harmony export */ });
var LANDMARK_INDEX = {
    WRIST: 0,
    MID_FINGER_MCP: 9
};



/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!**************************!*\
  !*** ./src/tsc/index.ts ***!
  \**************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _InputSource__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InputSource */ "./src/tsc/InputSource.ts");
/* harmony import */ var _HandTracker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./HandTracker */ "./src/tsc/HandTracker.ts");
/* harmony import */ var _Controller__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Controller */ "./src/tsc/Controller.ts");



main();
function main() {
    var tracker = new _HandTracker__WEBPACK_IMPORTED_MODULE_1__.HandTracker();
    var inputSource = new _InputSource__WEBPACK_IMPORTED_MODULE_0__.InputSource();
    // for testing, do not hide the video
    inputSource.initVideoElement(false);
    inputSource.initCamera(tracker);
    var controller = new _Controller__WEBPACK_IMPORTED_MODULE_2__.Controller();
    controller.subscribe(tracker);
    inputSource.start();
    var checkbox = document.getElementById("runningCheckbox");
    checkbox.checked = true;
    // for testing
    checkbox.onclick = function () {
        inputSource.isRunning ? inputSource.stop() : inputSource.start();
    };
}

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDakZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDaEZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDdENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDM0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ1BBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDUEE7Ozs7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91d3Vtb3Rpb25kZXRlY3Rpb24vLi9ub2RlX21vZHVsZXMvQG1lZGlhcGlwZS9jYW1lcmFfdXRpbHMvY2FtZXJhX3V0aWxzLmpzIiwid2VicGFjazovL3V3dW1vdGlvbmRldGVjdGlvbi8uL25vZGVfbW9kdWxlcy9AbWVkaWFwaXBlL2hhbmRzL2hhbmRzLmpzIiwid2VicGFjazovL3V3dW1vdGlvbmRldGVjdGlvbi8uL3NyYy90c2MvQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly91d3Vtb3Rpb25kZXRlY3Rpb24vLi9zcmMvdHNjL0hhbmRUcmFja2VyLnRzIiwid2VicGFjazovL3V3dW1vdGlvbmRldGVjdGlvbi8uL3NyYy90c2MvSW5wdXRTb3VyY2UudHMiLCJ3ZWJwYWNrOi8vdXd1bW90aW9uZGV0ZWN0aW9uLy4vc3JjL3RzYy9oYW5kc1V0aWwudHMiLCJ3ZWJwYWNrOi8vdXd1bW90aW9uZGV0ZWN0aW9uL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3V3dW1vdGlvbmRldGVjdGlvbi93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly91d3Vtb3Rpb25kZXRlY3Rpb24vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3V3dW1vdGlvbmRldGVjdGlvbi93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3V3dW1vdGlvbmRldGVjdGlvbi93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3V3dW1vdGlvbmRldGVjdGlvbi93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3V3dW1vdGlvbmRldGVjdGlvbi8uL3NyYy90c2MvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7LypcblxuIENvcHlyaWdodCBUaGUgQ2xvc3VyZSBMaWJyYXJ5IEF1dGhvcnMuXG4gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiovXG4ndXNlIHN0cmljdCc7ZnVuY3Rpb24gbihhKXt2YXIgYj0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBiPGEubGVuZ3RoP3tkb25lOiExLHZhbHVlOmFbYisrXX06e2RvbmU6ITB9fX12YXIgcT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydGllcz9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oYSxiLGUpe2lmKGE9PUFycmF5LnByb3RvdHlwZXx8YT09T2JqZWN0LnByb3RvdHlwZSlyZXR1cm4gYTthW2JdPWUudmFsdWU7cmV0dXJuIGF9O1xuZnVuY3Rpb24gdChhKXthPVtcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyxhLFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyxcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZixcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsJiZnbG9iYWxdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKXt2YXIgZT1hW2JdO2lmKGUmJmUuTWF0aD09TWF0aClyZXR1cm4gZX10aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIGdsb2JhbCBvYmplY3RcIik7fXZhciB1PXQodGhpcyk7ZnVuY3Rpb24gdihhLGIpe2lmKGIpYTp7dmFyIGU9dTthPWEuc3BsaXQoXCIuXCIpO2Zvcih2YXIgZj0wO2Y8YS5sZW5ndGgtMTtmKyspe3ZhciBoPWFbZl07aWYoIShoIGluIGUpKWJyZWFrIGE7ZT1lW2hdfWE9YVthLmxlbmd0aC0xXTtmPWVbYV07Yj1iKGYpO2IhPWYmJm51bGwhPWImJnEoZSxhLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Yn0pfX1cbnYoXCJTeW1ib2xcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGwpe2lmKHRoaXMgaW5zdGFuY2VvZiBiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3JcIik7cmV0dXJuIG5ldyBlKGYrKGx8fFwiXCIpK1wiX1wiK2grKyxsKX1mdW5jdGlvbiBlKGwsYyl7dGhpcy5nPWw7cSh0aGlzLFwiZGVzY3JpcHRpb25cIix7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmN9KX1pZihhKXJldHVybiBhO2UucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307dmFyIGY9XCJqc2NvbXBfc3ltYm9sX1wiKygxRTkqTWF0aC5yYW5kb20oKT4+PjApK1wiX1wiLGg9MDtyZXR1cm4gYn0pO1xudihcIlN5bWJvbC5pdGVyYXRvclwiLGZ1bmN0aW9uKGEpe2lmKGEpcmV0dXJuIGE7YT1TeW1ib2woXCJTeW1ib2wuaXRlcmF0b3JcIik7Zm9yKHZhciBiPVwiQXJyYXkgSW50OEFycmF5IFVpbnQ4QXJyYXkgVWludDhDbGFtcGVkQXJyYXkgSW50MTZBcnJheSBVaW50MTZBcnJheSBJbnQzMkFycmF5IFVpbnQzMkFycmF5IEZsb2F0MzJBcnJheSBGbG9hdDY0QXJyYXlcIi5zcGxpdChcIiBcIiksZT0wO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgZj11W2JbZV1dO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBmJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBmLnByb3RvdHlwZVthXSYmcShmLnByb3RvdHlwZSxhLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdyhuKHRoaXMpKX19KX1yZXR1cm4gYX0pO2Z1bmN0aW9uIHcoYSl7YT17bmV4dDphfTthW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307cmV0dXJuIGF9XG5mdW5jdGlvbiB4KGEpe3ZhciBiPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciYmYVtTeW1ib2wuaXRlcmF0b3JdO3JldHVybiBiP2IuY2FsbChhKTp7bmV4dDpuKGEpfX1mdW5jdGlvbiB5KCl7dGhpcy5pPSExO3RoaXMuZz1udWxsO3RoaXMubz12b2lkIDA7dGhpcy5qPTE7dGhpcy5tPTA7dGhpcy5oPW51bGx9ZnVuY3Rpb24geihhKXtpZihhLmkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7YS5pPSEwfXkucHJvdG90eXBlLmw9ZnVuY3Rpb24oYSl7dGhpcy5vPWF9O2Z1bmN0aW9uIEEoYSxiKXthLmg9e0Y6YixHOiEwfTthLmo9YS5tfXkucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihhKXt0aGlzLmg9e3JldHVybjphfTt0aGlzLmo9dGhpcy5tfTtmdW5jdGlvbiBCKGEpe3RoaXMuZz1uZXcgeTt0aGlzLmg9YX1cbmZ1bmN0aW9uIEMoYSxiKXt6KGEuZyk7dmFyIGU9YS5nLmc7aWYoZSlyZXR1cm4gRChhLFwicmV0dXJuXCJpbiBlP2VbXCJyZXR1cm5cIl06ZnVuY3Rpb24oZil7cmV0dXJue3ZhbHVlOmYsZG9uZTohMH19LGIsYS5nLnJldHVybik7YS5nLnJldHVybihiKTtyZXR1cm4gSChhKX1mdW5jdGlvbiBEKGEsYixlLGYpe3RyeXt2YXIgaD1iLmNhbGwoYS5nLmcsZSk7aWYoIShoIGluc3RhbmNlb2YgT2JqZWN0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSXRlcmF0b3IgcmVzdWx0IFwiK2grXCIgaXMgbm90IGFuIG9iamVjdFwiKTtpZighaC5kb25lKXJldHVybiBhLmcuaT0hMSxoO3ZhciBsPWgudmFsdWV9Y2F0Y2goYyl7cmV0dXJuIGEuZy5nPW51bGwsQShhLmcsYyksSChhKX1hLmcuZz1udWxsO2YuY2FsbChhLmcsbCk7cmV0dXJuIEgoYSl9XG5mdW5jdGlvbiBIKGEpe2Zvcig7YS5nLmo7KXRyeXt2YXIgYj1hLmgoYS5nKTtpZihiKXJldHVybiBhLmcuaT0hMSx7dmFsdWU6Yi52YWx1ZSxkb25lOiExfX1jYXRjaChlKXthLmcubz12b2lkIDAsQShhLmcsZSl9YS5nLmk9ITE7aWYoYS5nLmgpe2I9YS5nLmg7YS5nLmg9bnVsbDtpZihiLkcpdGhyb3cgYi5GO3JldHVybnt2YWx1ZTpiLnJldHVybixkb25lOiEwfX1yZXR1cm57dmFsdWU6dm9pZCAwLGRvbmU6ITB9fVxuZnVuY3Rpb24gSShhKXt0aGlzLm5leHQ9ZnVuY3Rpb24oYil7eihhLmcpO2EuZy5nP2I9RChhLGEuZy5nLm5leHQsYixhLmcubCk6KGEuZy5sKGIpLGI9SChhKSk7cmV0dXJuIGJ9O3RoaXMudGhyb3c9ZnVuY3Rpb24oYil7eihhLmcpO2EuZy5nP2I9RChhLGEuZy5nW1widGhyb3dcIl0sYixhLmcubCk6KEEoYS5nLGIpLGI9SChhKSk7cmV0dXJuIGJ9O3RoaXMucmV0dXJuPWZ1bmN0aW9uKGIpe3JldHVybiBDKGEsYil9O3RoaXNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfX1mdW5jdGlvbiBKKGEpe2Z1bmN0aW9uIGIoZil7cmV0dXJuIGEubmV4dChmKX1mdW5jdGlvbiBlKGYpe3JldHVybiBhLnRocm93KGYpfXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihmLGgpe2Z1bmN0aW9uIGwoYyl7Yy5kb25lP2YoYy52YWx1ZSk6UHJvbWlzZS5yZXNvbHZlKGMudmFsdWUpLnRoZW4oYixlKS50aGVuKGwsaCl9bChhLm5leHQoKSl9KX1cbnYoXCJQcm9taXNlXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihjKXt0aGlzLmg9MDt0aGlzLmk9dm9pZCAwO3RoaXMuZz1bXTt0aGlzLm89ITE7dmFyIGQ9dGhpcy5qKCk7dHJ5e2MoZC5yZXNvbHZlLGQucmVqZWN0KX1jYXRjaChnKXtkLnJlamVjdChnKX19ZnVuY3Rpb24gZSgpe3RoaXMuZz1udWxsfWZ1bmN0aW9uIGYoYyl7cmV0dXJuIGMgaW5zdGFuY2VvZiBiP2M6bmV3IGIoZnVuY3Rpb24oZCl7ZChjKX0pfWlmKGEpcmV0dXJuIGE7ZS5wcm90b3R5cGUuaD1mdW5jdGlvbihjKXtpZihudWxsPT10aGlzLmcpe3RoaXMuZz1bXTt2YXIgZD10aGlzO3RoaXMuaShmdW5jdGlvbigpe2QubCgpfSl9dGhpcy5nLnB1c2goYyl9O3ZhciBoPXUuc2V0VGltZW91dDtlLnByb3RvdHlwZS5pPWZ1bmN0aW9uKGMpe2goYywwKX07ZS5wcm90b3R5cGUubD1mdW5jdGlvbigpe2Zvcig7dGhpcy5nJiZ0aGlzLmcubGVuZ3RoOyl7dmFyIGM9dGhpcy5nO3RoaXMuZz1bXTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGc9XG5jW2RdO2NbZF09bnVsbDt0cnl7ZygpfWNhdGNoKGspe3RoaXMuaihrKX19fXRoaXMuZz1udWxsfTtlLnByb3RvdHlwZS5qPWZ1bmN0aW9uKGMpe3RoaXMuaShmdW5jdGlvbigpe3Rocm93IGM7fSl9O2IucHJvdG90eXBlLmo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGspe3JldHVybiBmdW5jdGlvbihtKXtnfHwoZz0hMCxrLmNhbGwoZCxtKSl9fXZhciBkPXRoaXMsZz0hMTtyZXR1cm57cmVzb2x2ZTpjKHRoaXMuQSkscmVqZWN0OmModGhpcy5sKX19O2IucHJvdG90eXBlLkE9ZnVuY3Rpb24oYyl7aWYoYz09PXRoaXMpdGhpcy5sKG5ldyBUeXBlRXJyb3IoXCJBIFByb21pc2UgY2Fubm90IHJlc29sdmUgdG8gaXRzZWxmXCIpKTtlbHNlIGlmKGMgaW5zdGFuY2VvZiBiKXRoaXMuQyhjKTtlbHNle2E6c3dpdGNoKHR5cGVvZiBjKXtjYXNlIFwib2JqZWN0XCI6dmFyIGQ9bnVsbCE9YzticmVhayBhO2Nhc2UgXCJmdW5jdGlvblwiOmQ9ITA7YnJlYWsgYTtkZWZhdWx0OmQ9ITF9ZD90aGlzLnYoYyk6dGhpcy5tKGMpfX07XG5iLnByb3RvdHlwZS52PWZ1bmN0aW9uKGMpe3ZhciBkPXZvaWQgMDt0cnl7ZD1jLnRoZW59Y2F0Y2goZyl7dGhpcy5sKGcpO3JldHVybn1cImZ1bmN0aW9uXCI9PXR5cGVvZiBkP3RoaXMuRChkLGMpOnRoaXMubShjKX07Yi5wcm90b3R5cGUubD1mdW5jdGlvbihjKXt0aGlzLnUoMixjKX07Yi5wcm90b3R5cGUubT1mdW5jdGlvbihjKXt0aGlzLnUoMSxjKX07Yi5wcm90b3R5cGUudT1mdW5jdGlvbihjLGQpe2lmKDAhPXRoaXMuaCl0aHJvdyBFcnJvcihcIkNhbm5vdCBzZXR0bGUoXCIrYytcIiwgXCIrZCtcIik6IFByb21pc2UgYWxyZWFkeSBzZXR0bGVkIGluIHN0YXRlXCIrdGhpcy5oKTt0aGlzLmg9Yzt0aGlzLmk9ZDsyPT09dGhpcy5oJiZ0aGlzLkIoKTt0aGlzLkgoKX07Yi5wcm90b3R5cGUuQj1mdW5jdGlvbigpe3ZhciBjPXRoaXM7aChmdW5jdGlvbigpe2lmKGMuSSgpKXt2YXIgZD11LmNvbnNvbGU7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkJiZkLmVycm9yKGMuaSl9fSwxKX07Yi5wcm90b3R5cGUuST1cbmZ1bmN0aW9uKCl7aWYodGhpcy5vKXJldHVybiExO3ZhciBjPXUuQ3VzdG9tRXZlbnQsZD11LkV2ZW50LGc9dS5kaXNwYXRjaEV2ZW50O2lmKFwidW5kZWZpbmVkXCI9PT10eXBlb2YgZylyZXR1cm4hMDtcImZ1bmN0aW9uXCI9PT10eXBlb2YgYz9jPW5ldyBjKFwidW5oYW5kbGVkcmVqZWN0aW9uXCIse2NhbmNlbGFibGU6ITB9KTpcImZ1bmN0aW9uXCI9PT10eXBlb2YgZD9jPW5ldyBkKFwidW5oYW5kbGVkcmVqZWN0aW9uXCIse2NhbmNlbGFibGU6ITB9KTooYz11LmRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIiksYy5pbml0Q3VzdG9tRXZlbnQoXCJ1bmhhbmRsZWRyZWplY3Rpb25cIiwhMSwhMCxjKSk7Yy5wcm9taXNlPXRoaXM7Yy5yZWFzb249dGhpcy5pO3JldHVybiBnKGMpfTtiLnByb3RvdHlwZS5IPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5nKXtmb3IodmFyIGM9MDtjPHRoaXMuZy5sZW5ndGg7KytjKWwuaCh0aGlzLmdbY10pO3RoaXMuZz1udWxsfX07dmFyIGw9bmV3IGU7Yi5wcm90b3R5cGUuQz1cbmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuaigpO2MucyhkLnJlc29sdmUsZC5yZWplY3QpfTtiLnByb3RvdHlwZS5EPWZ1bmN0aW9uKGMsZCl7dmFyIGc9dGhpcy5qKCk7dHJ5e2MuY2FsbChkLGcucmVzb2x2ZSxnLnJlamVjdCl9Y2F0Y2goayl7Zy5yZWplY3Qoayl9fTtiLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGMsZCl7ZnVuY3Rpb24gZyhwLHIpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHA/ZnVuY3Rpb24oRSl7dHJ5e2socChFKSl9Y2F0Y2goRil7bShGKX19OnJ9dmFyIGssbSxHPW5ldyBiKGZ1bmN0aW9uKHAscil7az1wO209cn0pO3RoaXMucyhnKGMsayksZyhkLG0pKTtyZXR1cm4gR307Yi5wcm90b3R5cGUuY2F0Y2g9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsYyl9O2IucHJvdG90eXBlLnM9ZnVuY3Rpb24oYyxkKXtmdW5jdGlvbiBnKCl7c3dpdGNoKGsuaCl7Y2FzZSAxOmMoay5pKTticmVhaztjYXNlIDI6ZChrLmkpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmV4cGVjdGVkIHN0YXRlOiBcIitcbmsuaCk7fX12YXIgaz10aGlzO251bGw9PXRoaXMuZz9sLmgoZyk6dGhpcy5nLnB1c2goZyk7dGhpcy5vPSEwfTtiLnJlc29sdmU9ZjtiLnJlamVjdD1mdW5jdGlvbihjKXtyZXR1cm4gbmV3IGIoZnVuY3Rpb24oZCxnKXtnKGMpfSl9O2IucmFjZT1mdW5jdGlvbihjKXtyZXR1cm4gbmV3IGIoZnVuY3Rpb24oZCxnKXtmb3IodmFyIGs9eChjKSxtPWsubmV4dCgpOyFtLmRvbmU7bT1rLm5leHQoKSlmKG0udmFsdWUpLnMoZCxnKX0pfTtiLmFsbD1mdW5jdGlvbihjKXt2YXIgZD14KGMpLGc9ZC5uZXh0KCk7cmV0dXJuIGcuZG9uZT9mKFtdKTpuZXcgYihmdW5jdGlvbihrLG0pe2Z1bmN0aW9uIEcoRSl7cmV0dXJuIGZ1bmN0aW9uKEYpe3BbRV09RjtyLS07MD09ciYmayhwKX19dmFyIHA9W10scj0wO2RvIHAucHVzaCh2b2lkIDApLHIrKyxmKGcudmFsdWUpLnMoRyhwLmxlbmd0aC0xKSxtKSxnPWQubmV4dCgpO3doaWxlKCFnLmRvbmUpfSl9O3JldHVybiBifSk7XG52YXIgSz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuYXNzaWduP09iamVjdC5hc3NpZ246ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgZj1hcmd1bWVudHNbZV07aWYoZilmb3IodmFyIGggaW4gZilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZixoKSYmKGFbaF09ZltoXSl9cmV0dXJuIGF9O3YoXCJPYmplY3QuYXNzaWduXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGF8fEt9KTt2YXIgTD10aGlzfHxzZWxmO3ZhciBNPXtmYWNpbmdNb2RlOlwidXNlclwiLHdpZHRoOjY0MCxoZWlnaHQ6NDgwfTtmdW5jdGlvbiBOKGEsYil7dGhpcy52aWRlbz1hO3RoaXMuaT0wO3RoaXMuaD1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sTSksYil9Ti5wcm90b3R5cGUuc3RvcD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYixlLGYsaDtyZXR1cm4gSihuZXcgSShuZXcgQihmdW5jdGlvbihsKXtpZihhLmcpe2I9YS5nLmdldFRyYWNrcygpO2U9eChiKTtmb3IoZj1lLm5leHQoKTshZi5kb25lO2Y9ZS5uZXh0KCkpaD1mLnZhbHVlLGguc3RvcCgpO2EuZz12b2lkIDB9bC5qPTB9KSkpfTtcbk4ucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiO3JldHVybiBKKG5ldyBJKG5ldyBCKGZ1bmN0aW9uKGUpe25hdmlnYXRvci5tZWRpYURldmljZXMmJm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhfHxhbGVydChcIk5vIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhIGV4aXN0cy5cIik7Yj1hLmg7cmV0dXJuIGUucmV0dXJuKG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHt2aWRlbzp7ZmFjaW5nTW9kZTpiLmZhY2luZ01vZGUsd2lkdGg6Yi53aWR0aCxoZWlnaHQ6Yi5oZWlnaHR9fSkudGhlbihmdW5jdGlvbihmKXtPKGEsZil9KS5jYXRjaChmdW5jdGlvbihmKXt2YXIgaD1cIkZhaWxlZCB0byBhY3F1aXJlIGNhbWVyYSBmZWVkOiBcIitmO2NvbnNvbGUuZXJyb3IoaCk7YWxlcnQoaCk7dGhyb3cgZjt9KSl9KSkpfTtcbmZ1bmN0aW9uIFAoYSl7d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpe1EoYSl9KX1mdW5jdGlvbiBPKGEsYil7YS5nPWI7YS52aWRlby5zcmNPYmplY3Q9YjthLnZpZGVvLm9ubG9hZGVkbWV0YWRhdGE9ZnVuY3Rpb24oKXthLnZpZGVvLnBsYXkoKTtQKGEpfX1mdW5jdGlvbiBRKGEpe3ZhciBiPW51bGw7YS52aWRlby5wYXVzZWR8fGEudmlkZW8uY3VycmVudFRpbWU9PT1hLml8fChhLmk9YS52aWRlby5jdXJyZW50VGltZSxiPWEuaC5vbkZyYW1lKCkpO2I/Yi50aGVuKGZ1bmN0aW9uKCl7UChhKX0pOlAoYSl9dmFyIFI9W1wiQ2FtZXJhXCJdLFM9TDtSWzBdaW4gU3x8XCJ1bmRlZmluZWRcIj09dHlwZW9mIFMuZXhlY1NjcmlwdHx8Uy5leGVjU2NyaXB0KFwidmFyIFwiK1JbMF0pO1xuZm9yKHZhciBUO1IubGVuZ3RoJiYoVD1SLnNoaWZ0KCkpOylSLmxlbmd0aHx8dm9pZCAwPT09Tj9TW1RdJiZTW1RdIT09T2JqZWN0LnByb3RvdHlwZVtUXT9TPVNbVF06Uz1TW1RdPXt9OlNbVF09Tjt9KS5jYWxsKHRoaXMpO1xuIiwiKGZ1bmN0aW9uKCl7LypcblxuIENvcHlyaWdodCBUaGUgQ2xvc3VyZSBMaWJyYXJ5IEF1dGhvcnMuXG4gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiovXG4ndXNlIHN0cmljdCc7dmFyIHg7ZnVuY3Rpb24gYWEoYSl7dmFyIGI9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYjxhLmxlbmd0aD97ZG9uZTohMSx2YWx1ZTphW2IrK119Ontkb25lOiEwfX19dmFyIGJhPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihhLGIsYyl7aWYoYT09QXJyYXkucHJvdG90eXBlfHxhPT1PYmplY3QucHJvdG90eXBlKXJldHVybiBhO2FbYl09Yy52YWx1ZTtyZXR1cm4gYX07XG5mdW5jdGlvbiBjYShhKXthPVtcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsVGhpcyYmZ2xvYmFsVGhpcyxhLFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyxcIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZixcIm9iamVjdFwiPT10eXBlb2YgZ2xvYmFsJiZnbG9iYWxdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKXt2YXIgYz1hW2JdO2lmKGMmJmMuTWF0aD09TWF0aClyZXR1cm4gY310aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIGdsb2JhbCBvYmplY3RcIik7fXZhciB5PWNhKHRoaXMpO2Z1bmN0aW9uIEIoYSxiKXtpZihiKWE6e3ZhciBjPXk7YT1hLnNwbGl0KFwiLlwiKTtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoLTE7ZCsrKXt2YXIgZT1hW2RdO2lmKCEoZSBpbiBjKSlicmVhayBhO2M9Y1tlXX1hPWFbYS5sZW5ndGgtMV07ZD1jW2FdO2I9YihkKTtiIT1kJiZudWxsIT1iJiZiYShjLGEse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpifSl9fVxuQihcIlN5bWJvbFwiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoZyl7aWYodGhpcyBpbnN0YW5jZW9mIGIpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKTtyZXR1cm4gbmV3IGMoZCsoZ3x8XCJcIikrXCJfXCIrZSsrLGcpfWZ1bmN0aW9uIGMoZyxmKXt0aGlzLmc9ZztiYSh0aGlzLFwiZGVzY3JpcHRpb25cIix7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmZ9KX1pZihhKXJldHVybiBhO2MucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307dmFyIGQ9XCJqc2NvbXBfc3ltYm9sX1wiKygxRTkqTWF0aC5yYW5kb20oKT4+PjApK1wiX1wiLGU9MDtyZXR1cm4gYn0pO1xuQihcIlN5bWJvbC5pdGVyYXRvclwiLGZ1bmN0aW9uKGEpe2lmKGEpcmV0dXJuIGE7YT1TeW1ib2woXCJTeW1ib2wuaXRlcmF0b3JcIik7Zm9yKHZhciBiPVwiQXJyYXkgSW50OEFycmF5IFVpbnQ4QXJyYXkgVWludDhDbGFtcGVkQXJyYXkgSW50MTZBcnJheSBVaW50MTZBcnJheSBJbnQzMkFycmF5IFVpbnQzMkFycmF5IEZsb2F0MzJBcnJheSBGbG9hdDY0QXJyYXlcIi5zcGxpdChcIiBcIiksYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD15W2JbY11dO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBkJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBkLnByb3RvdHlwZVthXSYmYmEoZC5wcm90b3R5cGUsYSx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGRhKGFhKHRoaXMpKX19KX1yZXR1cm4gYX0pO2Z1bmN0aW9uIGRhKGEpe2E9e25leHQ6YX07YVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3JldHVybiBhfVxuZnVuY3Rpb24gQyhhKXt2YXIgYj1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3ImJmFbU3ltYm9sLml0ZXJhdG9yXTtyZXR1cm4gYj9iLmNhbGwoYSk6e25leHQ6YWEoYSl9fWZ1bmN0aW9uIGVhKGEpe2lmKCEoYSBpbnN0YW5jZW9mIEFycmF5KSl7YT1DKGEpO2Zvcih2YXIgYixjPVtdOyEoYj1hLm5leHQoKSkuZG9uZTspYy5wdXNoKGIudmFsdWUpO2E9Y31yZXR1cm4gYX12YXIgZmE9XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmNyZWF0ZT9PYmplY3QuY3JlYXRlOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXt9Yi5wcm90b3R5cGU9YTtyZXR1cm4gbmV3IGJ9LGhhO1xuaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LnNldFByb3RvdHlwZU9mKWhhPU9iamVjdC5zZXRQcm90b3R5cGVPZjtlbHNle3ZhciBpYTthOnt2YXIgamE9e2E6ITB9LGthPXt9O3RyeXtrYS5fX3Byb3RvX189amE7aWE9a2EuYTticmVhayBhfWNhdGNoKGEpe31pYT0hMX1oYT1pYT9mdW5jdGlvbihhLGIpe2EuX19wcm90b19fPWI7aWYoYS5fX3Byb3RvX18hPT1iKXRocm93IG5ldyBUeXBlRXJyb3IoYStcIiBpcyBub3QgZXh0ZW5zaWJsZVwiKTtyZXR1cm4gYX06bnVsbH12YXIgbGE9aGE7XG5mdW5jdGlvbiBFKGEsYil7YS5wcm90b3R5cGU9ZmEoYi5wcm90b3R5cGUpO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWE7aWYobGEpbGEoYSxiKTtlbHNlIGZvcih2YXIgYyBpbiBiKWlmKFwicHJvdG90eXBlXCIhPWMpaWYoT2JqZWN0LmRlZmluZVByb3BlcnRpZXMpe3ZhciBkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYixjKTtkJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxjLGQpfWVsc2UgYVtjXT1iW2NdO2EuZGE9Yi5wcm90b3R5cGV9ZnVuY3Rpb24gbWEoKXt0aGlzLmw9ITE7dGhpcy5pPW51bGw7dGhpcy5oPXZvaWQgMDt0aGlzLmc9MTt0aGlzLnM9dGhpcy5tPTA7dGhpcy5qPW51bGx9ZnVuY3Rpb24gbmEoYSl7aWYoYS5sKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2EubD0hMH1tYS5wcm90b3R5cGUubz1mdW5jdGlvbihhKXt0aGlzLmg9YX07XG5mdW5jdGlvbiBvYShhLGIpe2Euaj17VTpiLFY6ITB9O2EuZz1hLm18fGEuc31tYS5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKGEpe3RoaXMuaj17cmV0dXJuOmF9O3RoaXMuZz10aGlzLnN9O2Z1bmN0aW9uIEYoYSxiLGMpe2EuZz1jO3JldHVybnt2YWx1ZTpifX1mdW5jdGlvbiBwYShhKXt0aGlzLmc9bmV3IG1hO3RoaXMuaD1hfWZ1bmN0aW9uIHFhKGEsYil7bmEoYS5nKTt2YXIgYz1hLmcuaTtpZihjKXJldHVybiByYShhLFwicmV0dXJuXCJpbiBjP2NbXCJyZXR1cm5cIl06ZnVuY3Rpb24oZCl7cmV0dXJue3ZhbHVlOmQsZG9uZTohMH19LGIsYS5nLnJldHVybik7YS5nLnJldHVybihiKTtyZXR1cm4gRyhhKX1cbmZ1bmN0aW9uIHJhKGEsYixjLGQpe3RyeXt2YXIgZT1iLmNhbGwoYS5nLmksYyk7aWYoIShlIGluc3RhbmNlb2YgT2JqZWN0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSXRlcmF0b3IgcmVzdWx0IFwiK2UrXCIgaXMgbm90IGFuIG9iamVjdFwiKTtpZighZS5kb25lKXJldHVybiBhLmcubD0hMSxlO3ZhciBnPWUudmFsdWV9Y2F0Y2goZil7cmV0dXJuIGEuZy5pPW51bGwsb2EoYS5nLGYpLEcoYSl9YS5nLmk9bnVsbDtkLmNhbGwoYS5nLGcpO3JldHVybiBHKGEpfWZ1bmN0aW9uIEcoYSl7Zm9yKDthLmcuZzspdHJ5e3ZhciBiPWEuaChhLmcpO2lmKGIpcmV0dXJuIGEuZy5sPSExLHt2YWx1ZTpiLnZhbHVlLGRvbmU6ITF9fWNhdGNoKGMpe2EuZy5oPXZvaWQgMCxvYShhLmcsYyl9YS5nLmw9ITE7aWYoYS5nLmope2I9YS5nLmo7YS5nLmo9bnVsbDtpZihiLlYpdGhyb3cgYi5VO3JldHVybnt2YWx1ZTpiLnJldHVybixkb25lOiEwfX1yZXR1cm57dmFsdWU6dm9pZCAwLGRvbmU6ITB9fVxuZnVuY3Rpb24gc2EoYSl7dGhpcy5uZXh0PWZ1bmN0aW9uKGIpe25hKGEuZyk7YS5nLmk/Yj1yYShhLGEuZy5pLm5leHQsYixhLmcubyk6KGEuZy5vKGIpLGI9RyhhKSk7cmV0dXJuIGJ9O3RoaXMudGhyb3c9ZnVuY3Rpb24oYil7bmEoYS5nKTthLmcuaT9iPXJhKGEsYS5nLmlbXCJ0aHJvd1wiXSxiLGEuZy5vKToob2EoYS5nLGIpLGI9RyhhKSk7cmV0dXJuIGJ9O3RoaXMucmV0dXJuPWZ1bmN0aW9uKGIpe3JldHVybiBxYShhLGIpfTt0aGlzW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319ZnVuY3Rpb24gdGEoYSl7ZnVuY3Rpb24gYihkKXtyZXR1cm4gYS5uZXh0KGQpfWZ1bmN0aW9uIGMoZCl7cmV0dXJuIGEudGhyb3coZCl9cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGQsZSl7ZnVuY3Rpb24gZyhmKXtmLmRvbmU/ZChmLnZhbHVlKTpQcm9taXNlLnJlc29sdmUoZi52YWx1ZSkudGhlbihiLGMpLnRoZW4oZyxlKX1nKGEubmV4dCgpKX0pfVxuZnVuY3Rpb24gSChhKXtyZXR1cm4gdGEobmV3IHNhKG5ldyBwYShhKSkpfVxuQihcIlByb21pc2VcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGYpe3RoaXMuaD0wO3RoaXMuaT12b2lkIDA7dGhpcy5nPVtdO3RoaXMubz0hMTt2YXIgaz10aGlzLmooKTt0cnl7ZihrLnJlc29sdmUsay5yZWplY3QpfWNhdGNoKGgpe2sucmVqZWN0KGgpfX1mdW5jdGlvbiBjKCl7dGhpcy5nPW51bGx9ZnVuY3Rpb24gZChmKXtyZXR1cm4gZiBpbnN0YW5jZW9mIGI/ZjpuZXcgYihmdW5jdGlvbihrKXtrKGYpfSl9aWYoYSlyZXR1cm4gYTtjLnByb3RvdHlwZS5oPWZ1bmN0aW9uKGYpe2lmKG51bGw9PXRoaXMuZyl7dGhpcy5nPVtdO3ZhciBrPXRoaXM7dGhpcy5pKGZ1bmN0aW9uKCl7ay5sKCl9KX10aGlzLmcucHVzaChmKX07dmFyIGU9eS5zZXRUaW1lb3V0O2MucHJvdG90eXBlLmk9ZnVuY3Rpb24oZil7ZShmLDApfTtjLnByb3RvdHlwZS5sPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLmcmJnRoaXMuZy5sZW5ndGg7KXt2YXIgZj10aGlzLmc7dGhpcy5nPVtdO2Zvcih2YXIgaz0wO2s8Zi5sZW5ndGg7KytrKXt2YXIgaD1cbmZba107ZltrXT1udWxsO3RyeXtoKCl9Y2F0Y2gobCl7dGhpcy5qKGwpfX19dGhpcy5nPW51bGx9O2MucHJvdG90eXBlLmo9ZnVuY3Rpb24oZil7dGhpcy5pKGZ1bmN0aW9uKCl7dGhyb3cgZjt9KX07Yi5wcm90b3R5cGUuaj1mdW5jdGlvbigpe2Z1bmN0aW9uIGYobCl7cmV0dXJuIGZ1bmN0aW9uKG4pe2h8fChoPSEwLGwuY2FsbChrLG4pKX19dmFyIGs9dGhpcyxoPSExO3JldHVybntyZXNvbHZlOmYodGhpcy5DKSxyZWplY3Q6Zih0aGlzLmwpfX07Yi5wcm90b3R5cGUuQz1mdW5jdGlvbihmKXtpZihmPT09dGhpcyl0aGlzLmwobmV3IFR5cGVFcnJvcihcIkEgUHJvbWlzZSBjYW5ub3QgcmVzb2x2ZSB0byBpdHNlbGZcIikpO2Vsc2UgaWYoZiBpbnN0YW5jZW9mIGIpdGhpcy5GKGYpO2Vsc2V7YTpzd2l0Y2godHlwZW9mIGYpe2Nhc2UgXCJvYmplY3RcIjp2YXIgaz1udWxsIT1mO2JyZWFrIGE7Y2FzZSBcImZ1bmN0aW9uXCI6az0hMDticmVhayBhO2RlZmF1bHQ6az0hMX1rP3RoaXMudihmKTp0aGlzLm0oZil9fTtcbmIucHJvdG90eXBlLnY9ZnVuY3Rpb24oZil7dmFyIGs9dm9pZCAwO3RyeXtrPWYudGhlbn1jYXRjaChoKXt0aGlzLmwoaCk7cmV0dXJufVwiZnVuY3Rpb25cIj09dHlwZW9mIGs/dGhpcy5HKGssZik6dGhpcy5tKGYpfTtiLnByb3RvdHlwZS5sPWZ1bmN0aW9uKGYpe3RoaXMucygyLGYpfTtiLnByb3RvdHlwZS5tPWZ1bmN0aW9uKGYpe3RoaXMucygxLGYpfTtiLnByb3RvdHlwZS5zPWZ1bmN0aW9uKGYsayl7aWYoMCE9dGhpcy5oKXRocm93IEVycm9yKFwiQ2Fubm90IHNldHRsZShcIitmK1wiLCBcIitrK1wiKTogUHJvbWlzZSBhbHJlYWR5IHNldHRsZWQgaW4gc3RhdGVcIit0aGlzLmgpO3RoaXMuaD1mO3RoaXMuaT1rOzI9PT10aGlzLmgmJnRoaXMuRCgpO3RoaXMuQSgpfTtiLnByb3RvdHlwZS5EPWZ1bmN0aW9uKCl7dmFyIGY9dGhpcztlKGZ1bmN0aW9uKCl7aWYoZi5CKCkpe3ZhciBrPXkuY29uc29sZTtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGsmJmsuZXJyb3IoZi5pKX19LDEpfTtiLnByb3RvdHlwZS5CPVxuZnVuY3Rpb24oKXtpZih0aGlzLm8pcmV0dXJuITE7dmFyIGY9eS5DdXN0b21FdmVudCxrPXkuRXZlbnQsaD15LmRpc3BhdGNoRXZlbnQ7aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBoKXJldHVybiEwO1wiZnVuY3Rpb25cIj09PXR5cGVvZiBmP2Y9bmV3IGYoXCJ1bmhhbmRsZWRyZWplY3Rpb25cIix7Y2FuY2VsYWJsZTohMH0pOlwiZnVuY3Rpb25cIj09PXR5cGVvZiBrP2Y9bmV3IGsoXCJ1bmhhbmRsZWRyZWplY3Rpb25cIix7Y2FuY2VsYWJsZTohMH0pOihmPXkuZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKSxmLmluaXRDdXN0b21FdmVudChcInVuaGFuZGxlZHJlamVjdGlvblwiLCExLCEwLGYpKTtmLnByb21pc2U9dGhpcztmLnJlYXNvbj10aGlzLmk7cmV0dXJuIGgoZil9O2IucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtpZihudWxsIT10aGlzLmcpe2Zvcih2YXIgZj0wO2Y8dGhpcy5nLmxlbmd0aDsrK2YpZy5oKHRoaXMuZ1tmXSk7dGhpcy5nPW51bGx9fTt2YXIgZz1uZXcgYztiLnByb3RvdHlwZS5GPVxuZnVuY3Rpb24oZil7dmFyIGs9dGhpcy5qKCk7Zi5KKGsucmVzb2x2ZSxrLnJlamVjdCl9O2IucHJvdG90eXBlLkc9ZnVuY3Rpb24oZixrKXt2YXIgaD10aGlzLmooKTt0cnl7Zi5jYWxsKGssaC5yZXNvbHZlLGgucmVqZWN0KX1jYXRjaChsKXtoLnJlamVjdChsKX19O2IucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oZixrKXtmdW5jdGlvbiBoKHAsbSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgcD9mdW5jdGlvbihxKXt0cnl7bChwKHEpKX1jYXRjaCh0KXtuKHQpfX06bX12YXIgbCxuLHI9bmV3IGIoZnVuY3Rpb24ocCxtKXtsPXA7bj1tfSk7dGhpcy5KKGgoZixsKSxoKGssbikpO3JldHVybiByfTtiLnByb3RvdHlwZS5jYXRjaD1mdW5jdGlvbihmKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxmKX07Yi5wcm90b3R5cGUuSj1mdW5jdGlvbihmLGspe2Z1bmN0aW9uIGgoKXtzd2l0Y2gobC5oKXtjYXNlIDE6ZihsLmkpO2JyZWFrO2Nhc2UgMjprKGwuaSk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVuZXhwZWN0ZWQgc3RhdGU6IFwiK1xubC5oKTt9fXZhciBsPXRoaXM7bnVsbD09dGhpcy5nP2cuaChoKTp0aGlzLmcucHVzaChoKTt0aGlzLm89ITB9O2IucmVzb2x2ZT1kO2IucmVqZWN0PWZ1bmN0aW9uKGYpe3JldHVybiBuZXcgYihmdW5jdGlvbihrLGgpe2goZil9KX07Yi5yYWNlPWZ1bmN0aW9uKGYpe3JldHVybiBuZXcgYihmdW5jdGlvbihrLGgpe2Zvcih2YXIgbD1DKGYpLG49bC5uZXh0KCk7IW4uZG9uZTtuPWwubmV4dCgpKWQobi52YWx1ZSkuSihrLGgpfSl9O2IuYWxsPWZ1bmN0aW9uKGYpe3ZhciBrPUMoZiksaD1rLm5leHQoKTtyZXR1cm4gaC5kb25lP2QoW10pOm5ldyBiKGZ1bmN0aW9uKGwsbil7ZnVuY3Rpb24gcihxKXtyZXR1cm4gZnVuY3Rpb24odCl7cFtxXT10O20tLTswPT1tJiZsKHApfX12YXIgcD1bXSxtPTA7ZG8gcC5wdXNoKHZvaWQgMCksbSsrLGQoaC52YWx1ZSkuSihyKHAubGVuZ3RoLTEpLG4pLGg9ay5uZXh0KCk7d2hpbGUoIWguZG9uZSl9KX07cmV0dXJuIGJ9KTtcbmZ1bmN0aW9uIHVhKGEsYil7YSBpbnN0YW5jZW9mIFN0cmluZyYmKGErPVwiXCIpO3ZhciBjPTAsZD0hMSxlPXtuZXh0OmZ1bmN0aW9uKCl7aWYoIWQmJmM8YS5sZW5ndGgpe3ZhciBnPWMrKztyZXR1cm57dmFsdWU6YihnLGFbZ10pLGRvbmU6ITF9fWQ9ITA7cmV0dXJue2RvbmU6ITAsdmFsdWU6dm9pZCAwfX19O2VbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gZX12YXIgdmE9XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmFzc2lnbj9PYmplY3QuYXNzaWduOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyl7dmFyIGQ9YXJndW1lbnRzW2NdO2lmKGQpZm9yKHZhciBlIGluIGQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGQsZSkmJihhW2VdPWRbZV0pfXJldHVybiBhfTtCKFwiT2JqZWN0LmFzc2lnblwiLGZ1bmN0aW9uKGEpe3JldHVybiBhfHx2YX0pO1xuQihcIk9iamVjdC5pc1wiLGZ1bmN0aW9uKGEpe3JldHVybiBhP2E6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYj09PWM/MCE9PWJ8fDEvYj09PTEvYzpiIT09YiYmYyE9PWN9fSk7QihcIkFycmF5LnByb3RvdHlwZS5pbmNsdWRlc1wiLGZ1bmN0aW9uKGEpe3JldHVybiBhP2E6ZnVuY3Rpb24oYixjKXt2YXIgZD10aGlzO2QgaW5zdGFuY2VvZiBTdHJpbmcmJihkPVN0cmluZyhkKSk7dmFyIGU9ZC5sZW5ndGg7Yz1jfHwwO2ZvcigwPmMmJihjPU1hdGgubWF4KGMrZSwwKSk7YzxlO2MrKyl7dmFyIGc9ZFtjXTtpZihnPT09Ynx8T2JqZWN0LmlzKGcsYikpcmV0dXJuITB9cmV0dXJuITF9fSk7XG5CKFwiU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc1wiLGZ1bmN0aW9uKGEpe3JldHVybiBhP2E6ZnVuY3Rpb24oYixjKXtpZihudWxsPT10aGlzKXRocm93IG5ldyBUeXBlRXJyb3IoXCJUaGUgJ3RoaXMnIHZhbHVlIGZvciBTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzIG11c3Qgbm90IGJlIG51bGwgb3IgdW5kZWZpbmVkXCIpO2lmKGIgaW5zdGFuY2VvZiBSZWdFeHApdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZpcnN0IGFyZ3VtZW50IHRvIFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXMgbXVzdCBub3QgYmUgYSByZWd1bGFyIGV4cHJlc3Npb25cIik7cmV0dXJuLTEhPT10aGlzLmluZGV4T2YoYixjfHwwKX19KTtCKFwiQXJyYXkucHJvdG90eXBlLmtleXNcIixmdW5jdGlvbihhKXtyZXR1cm4gYT9hOmZ1bmN0aW9uKCl7cmV0dXJuIHVhKHRoaXMsZnVuY3Rpb24oYil7cmV0dXJuIGJ9KX19KTt2YXIgd2E9dGhpc3x8c2VsZjtcbmZ1bmN0aW9uIEooYSxiKXthPWEuc3BsaXQoXCIuXCIpO3ZhciBjPXdhO2FbMF1pbiBjfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgYy5leGVjU2NyaXB0fHxjLmV4ZWNTY3JpcHQoXCJ2YXIgXCIrYVswXSk7Zm9yKHZhciBkO2EubGVuZ3RoJiYoZD1hLnNoaWZ0KCkpOylhLmxlbmd0aHx8dm9pZCAwPT09Yj9jW2RdJiZjW2RdIT09T2JqZWN0LnByb3RvdHlwZVtkXT9jPWNbZF06Yz1jW2RdPXt9OmNbZF09Yn07ZnVuY3Rpb24geGEoYSl7d2Euc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGE7fSwwKX07ZnVuY3Rpb24gSyhhKXt4YShhKTtyZXR1cm47dGhyb3cgRXJyb3IoXCJpbnZhbGlkIGVycm9yIGxldmVsOiAxXCIpO31mdW5jdGlvbiB5YShhLGIpe0soRXJyb3IoXCJJbnZhbGlkIHdpcmUgdHlwZTogXCIrYStcIiAoYXQgcG9zaXRpb24gXCIrYitcIilcIikpfWZ1bmN0aW9uIHphKCl7SyhFcnJvcihcIkZhaWxlZCB0byByZWFkIHZhcmludCwgZW5jb2RpbmcgaXMgaW52YWxpZC5cIikpfTtmdW5jdGlvbiBBYShhLGIpe2I9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGIpO3JldHVybiBudWxsPT1hP2I6YStifXZhciBCYSxDYT1cInVuZGVmaW5lZFwiIT09dHlwZW9mIFRleHREZWNvZGVyLERhLEVhPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgVGV4dEVuY29kZXI7XG5mdW5jdGlvbiBGYShhKXtpZihFYSlhPShEYXx8KERhPW5ldyBUZXh0RW5jb2RlcikpLmVuY29kZShhKTtlbHNle3ZhciBiPXZvaWQgMDtiPXZvaWQgMD09PWI/ITE6Yjtmb3IodmFyIGM9MCxkPW5ldyBVaW50OEFycmF5KDMqYS5sZW5ndGgpLGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGc9YS5jaGFyQ29kZUF0KGUpO2lmKDEyOD5nKWRbYysrXT1nO2Vsc2V7aWYoMjA0OD5nKWRbYysrXT1nPj42fDE5MjtlbHNle2lmKDU1Mjk2PD1nJiY1NzM0Mz49Zyl7aWYoNTYzMTk+PWcmJmU8YS5sZW5ndGgpe3ZhciBmPWEuY2hhckNvZGVBdCgrK2UpO2lmKDU2MzIwPD1mJiY1NzM0Mz49Zil7Zz0xMDI0KihnLTU1Mjk2KStmLTU2MzIwKzY1NTM2O2RbYysrXT1nPj4xOHwyNDA7ZFtjKytdPWc+PjEyJjYzfDEyODtkW2MrK109Zz4+NiY2M3wxMjg7ZFtjKytdPWcmNjN8MTI4O2NvbnRpbnVlfWVsc2UgZS0tfWlmKGIpdGhyb3cgRXJyb3IoXCJGb3VuZCBhbiB1bnBhaXJlZCBzdXJyb2dhdGVcIik7Zz02NTUzM31kW2MrK109XG5nPj4xMnwyMjQ7ZFtjKytdPWc+PjYmNjN8MTI4fWRbYysrXT1nJjYzfDEyOH19YT1kLnN1YmFycmF5KDAsYyl9cmV0dXJuIGF9O3ZhciBHYT17fSxMPW51bGw7ZnVuY3Rpb24gSGEoYSl7dmFyIGI7dm9pZCAwPT09YiYmKGI9MCk7SWEoKTtiPUdhW2JdO2Zvcih2YXIgYz1BcnJheShNYXRoLmZsb29yKGEubGVuZ3RoLzMpKSxkPWJbNjRdfHxcIlwiLGU9MCxnPTA7ZTxhLmxlbmd0aC0yO2UrPTMpe3ZhciBmPWFbZV0saz1hW2UrMV0saD1hW2UrMl0sbD1iW2Y+PjJdO2Y9YlsoZiYzKTw8NHxrPj40XTtrPWJbKGsmMTUpPDwyfGg+PjZdO2g9YltoJjYzXTtjW2crK109bCtmK2sraH1sPTA7aD1kO3N3aXRjaChhLmxlbmd0aC1lKXtjYXNlIDI6bD1hW2UrMV0saD1iWyhsJjE1KTw8Ml18fGQ7Y2FzZSAxOmE9YVtlXSxjW2ddPWJbYT4+Ml0rYlsoYSYzKTw8NHxsPj40XStoK2R9cmV0dXJuIGMuam9pbihcIlwiKX1cbmZ1bmN0aW9uIEphKGEpe3ZhciBiPWEubGVuZ3RoLGM9MypiLzQ7YyUzP2M9TWF0aC5mbG9vcihjKTotMSE9XCI9LlwiLmluZGV4T2YoYVtiLTFdKSYmKGM9LTEhPVwiPS5cIi5pbmRleE9mKGFbYi0yXSk/Yy0yOmMtMSk7dmFyIGQ9bmV3IFVpbnQ4QXJyYXkoYyksZT0wO0thKGEsZnVuY3Rpb24oZyl7ZFtlKytdPWd9KTtyZXR1cm4gZC5zdWJhcnJheSgwLGUpfVxuZnVuY3Rpb24gS2EoYSxiKXtmdW5jdGlvbiBjKGgpe2Zvcig7ZDxhLmxlbmd0aDspe3ZhciBsPWEuY2hhckF0KGQrKyksbj1MW2xdO2lmKG51bGwhPW4pcmV0dXJuIG47aWYoIS9eW1xcc1xceGEwXSokLy50ZXN0KGwpKXRocm93IEVycm9yKFwiVW5rbm93biBiYXNlNjQgZW5jb2RpbmcgYXQgY2hhcjogXCIrbCk7fXJldHVybiBofUlhKCk7Zm9yKHZhciBkPTA7Oyl7dmFyIGU9YygtMSksZz1jKDApLGY9Yyg2NCksaz1jKDY0KTtpZig2ND09PWsmJi0xPT09ZSlicmVhaztiKGU8PDJ8Zz4+NCk7NjQhPWYmJihiKGc8PDQmMjQwfGY+PjIpLDY0IT1rJiZiKGY8PDYmMTkyfGspKX19XG5mdW5jdGlvbiBJYSgpe2lmKCFMKXtMPXt9O2Zvcih2YXIgYT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCIuc3BsaXQoXCJcIiksYj1bXCIrLz1cIixcIisvXCIsXCItXz1cIixcIi1fLlwiLFwiLV9cIl0sYz0wOzU+YztjKyspe3ZhciBkPWEuY29uY2F0KGJbY10uc3BsaXQoXCJcIikpO0dhW2NdPWQ7Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBnPWRbZV07dm9pZCAwPT09TFtnXSYmKExbZ109ZSl9fX19O3ZhciBMYT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgVWludDhBcnJheSxNYTtmdW5jdGlvbiBOYShhKXt0aGlzLmc9YTtpZihudWxsIT09YSYmMD09PWEubGVuZ3RoKXRocm93IEVycm9yKFwiQnl0ZVN0cmluZyBzaG91bGQgYmUgY29uc3RydWN0ZWQgd2l0aCBub24tZW1wdHkgdmFsdWVzXCIpO31OYS5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7aWYobnVsbD09dGhpcy5nKXZhciBhPVwiXCI7ZWxzZSBhPXRoaXMuZyxhPXRoaXMuZz1udWxsPT1hfHxcInN0cmluZ1wiPT09dHlwZW9mIGE/YTpMYSYmYSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/SGEoYSk6bnVsbDtyZXR1cm4gYX07dmFyIE9hPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5zbGljZTtmdW5jdGlvbiBQYShhLGIsYyl7cmV0dXJuIGI9PT1jP01hfHwoTWE9bmV3IFVpbnQ4QXJyYXkoMCkpOk9hP2Euc2xpY2UoYixjKTpuZXcgVWludDhBcnJheShhLnN1YmFycmF5KGIsYykpfXZhciBNPTAsTj0wO1xuZnVuY3Rpb24gUWEoYSl7aWYoYS5jb25zdHJ1Y3Rvcj09PVVpbnQ4QXJyYXkpcmV0dXJuIGE7aWYoYS5jb25zdHJ1Y3Rvcj09PUFycmF5QnVmZmVyKXJldHVybiBuZXcgVWludDhBcnJheShhKTtpZihhLmNvbnN0cnVjdG9yPT09QXJyYXkpcmV0dXJuIG5ldyBVaW50OEFycmF5KGEpO2lmKGEuY29uc3RydWN0b3I9PT1TdHJpbmcpcmV0dXJuIEphKGEpO2lmKGEuY29uc3RydWN0b3I9PT1OYSl7aWYobnVsbD09YS5nKXZhciBiPU1hfHwoTWE9bmV3IFVpbnQ4QXJyYXkoMCkpO2Vsc2V7Yj1VaW50OEFycmF5O3ZhciBjPWEuZztjPW51bGw9PWN8fExhJiZudWxsIT1jJiZjIGluc3RhbmNlb2YgVWludDhBcnJheT9jOlwic3RyaW5nXCI9PT10eXBlb2YgYz9KYShjKTpudWxsO2E9YS5nPWM7Yj1uZXcgYihhKX1yZXR1cm4gYn1pZihhIGluc3RhbmNlb2YgVWludDhBcnJheSlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYS5idWZmZXIsYS5ieXRlT2Zmc2V0LGEuYnl0ZUxlbmd0aCk7dGhyb3cgRXJyb3IoXCJUeXBlIG5vdCBjb252ZXJ0aWJsZSB0byBhIFVpbnQ4QXJyYXksIGV4cGVjdGVkIGEgVWludDhBcnJheSwgYW4gQXJyYXlCdWZmZXIsIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nLCBvciBBcnJheSBvZiBudW1iZXJzXCIpO1xufTtmdW5jdGlvbiBSYShhLGIpe2I9dm9pZCAwPT09Yj97fTpiO2I9dm9pZCAwPT09Yi51PyExOmIudTt0aGlzLmg9bnVsbDt0aGlzLmc9dGhpcy5pPXRoaXMubD0wO3RoaXMuaj0hMTt0aGlzLnU9YjthJiZTYSh0aGlzLGEpfWZ1bmN0aW9uIFNhKGEsYil7YS5oPVFhKGIpO2EubD0wO2EuaT1hLmgubGVuZ3RoO2EuZz1hLmx9UmEucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5nPXRoaXMubH07ZnVuY3Rpb24gTyhhKXthLmc+YS5pJiYoYS5qPSEwLEsoRXJyb3IoXCJUcmllZCB0byByZWFkIHBhc3QgdGhlIGVuZCBvZiB0aGUgZGF0YSBcIithLmcrXCIgPiBcIithLmkpKSl9XG5mdW5jdGlvbiBQKGEpe3ZhciBiPWEuaCxjPWJbYS5nXSxkPWMmMTI3O2lmKDEyOD5jKXJldHVybiBhLmcrPTEsTyhhKSxkO2M9YlthLmcrMV07ZHw9KGMmMTI3KTw8NztpZigxMjg+YylyZXR1cm4gYS5nKz0yLE8oYSksZDtjPWJbYS5nKzJdO2R8PShjJjEyNyk8PDE0O2lmKDEyOD5jKXJldHVybiBhLmcrPTMsTyhhKSxkO2M9YlthLmcrM107ZHw9KGMmMTI3KTw8MjE7aWYoMTI4PmMpcmV0dXJuIGEuZys9NCxPKGEpLGQ7Yz1iW2EuZys0XTtkfD0oYyYxNSk8PDI4O2lmKDEyOD5jKXJldHVybiBhLmcrPTUsTyhhKSxkPj4+MDthLmcrPTU7aWYoMTI4PD1iW2EuZysrXSYmMTI4PD1iW2EuZysrXSYmMTI4PD1iW2EuZysrXSYmMTI4PD1iW2EuZysrXSYmMTI4PD1iW2EuZysrXSlyZXR1cm4gYS5qPSEwLHphKCksZDtPKGEpO3JldHVybiBkfXZhciBUYT1bXTtmdW5jdGlvbiBVYSgpe3RoaXMuZz1uZXcgVWludDhBcnJheSg2NCk7dGhpcy5oPTB9ZnVuY3Rpb24gUShhLGIpe2lmKCEoYS5oKzE8YS5nLmxlbmd0aCkpe3ZhciBjPWEuZzthLmc9bmV3IFVpbnQ4QXJyYXkoTWF0aC5jZWlsKDErMiphLmcubGVuZ3RoKSk7YS5nLnNldChjKX1hLmdbYS5oKytdPWJ9VWEucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmh9O1VhLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmcsYj10aGlzLmg7dGhpcy5oPTA7cmV0dXJuIFBhKGEsMCxiKX07ZnVuY3Rpb24gUyhhLGIpe2Zvcig7MTI3PGI7KVEoYSxiJjEyN3wxMjgpLGI+Pj49NztRKGEsYil9O2Z1bmN0aW9uIFZhKGEpe3ZhciBiPXt9LGM9dm9pZCAwPT09Yi5OPyExOmIuTjt0aGlzLm09e3U6dm9pZCAwPT09Yi51PyExOmIudX07dGhpcy5OPWM7Yj10aGlzLm07VGEubGVuZ3RoPyhjPVRhLnBvcCgpLGImJihjLnU9Yi51KSxhJiZTYShjLGEpLGE9Yyk6YT1uZXcgUmEoYSxiKTt0aGlzLmc9YTt0aGlzLmw9dGhpcy5nLmc7dGhpcy5oPXRoaXMuaT0tMTt0aGlzLmo9ITF9VmEucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5nLnJlc2V0KCk7dGhpcy5oPXRoaXMuaT0tMX07ZnVuY3Rpb24gV2EoYSl7dmFyIGI9YS5nOyhiPWIuZz09Yi5pKXx8KGI9YS5qKXx8KGI9YS5nLGI9Yi5qfHwwPmIuZ3x8Yi5nPmIuaSk7aWYoYilyZXR1cm4hMTthLmw9YS5nLmc7dmFyIGM9UChhLmcpO2I9Yz4+PjM7YyY9NztpZighKDA8PWMmJjU+PWMpKXJldHVybiBhLmo9ITAseWEoYyxhLmwpLCExO2EuaT1iO2EuaD1jO3JldHVybiEwfVxuZnVuY3Rpb24gWGEoYSl7c3dpdGNoKGEuaCl7Y2FzZSAwOmlmKDAhPWEuaClYYShhKTtlbHNlIGE6e2E9YS5nO2Zvcih2YXIgYj1hLmcsYz0wOzEwPmM7YysrKXtpZigwPT09KGEuaFtiXSYxMjgpKXthLmc9YisxO08oYSk7YnJlYWsgYX1iKyt9YS5qPSEwO3phKCl9YnJlYWs7Y2FzZSAxOmE9YS5nO2EuZys9ODtPKGEpO2JyZWFrO2Nhc2UgMjoyIT1hLmg/WGEoYSk6KGI9UChhLmcpLGE9YS5nLGEuZys9YixPKGEpKTticmVhaztjYXNlIDU6YT1hLmc7YS5nKz00O08oYSk7YnJlYWs7Y2FzZSAzOmI9YS5pO2Rve2lmKCFXYShhKSl7YS5qPSEwO0soRXJyb3IoXCJVbm1hdGNoZWQgc3RhcnQtZ3JvdXAgdGFnOiBzdHJlYW0gRU9GXCIpKTticmVha31pZig0PT1hLmgpe2EuaSE9YiYmKGEuaj0hMCxLKEVycm9yKFwiVW5tYXRjaGVkIGVuZC1ncm91cCB0YWdcIikpKTticmVha31YYShhKX13aGlsZSgxKTticmVhaztkZWZhdWx0OmEuaj0hMCx5YShhLmgsYS5sKX19XG5mdW5jdGlvbiBZYShhLGIsYyl7YS5OfHwoYT1QYShhLmcuaCxjLGEuZy5nKSwoYz1iLm0pP2MucHVzaChhKTpiLm09W2FdKX12YXIgWmE9W107ZnVuY3Rpb24gJGEoKXt0aGlzLmg9W107dGhpcy5pPTA7dGhpcy5nPW5ldyBVYX1mdW5jdGlvbiBhYihhLGIpezAhPT1iLmxlbmd0aCYmKGEuaC5wdXNoKGIpLGEuaSs9Yi5sZW5ndGgpfWZ1bmN0aW9uIGJiKGEsYixjKXtTKGEuZyw4KmIrMik7UyhhLmcsYy5sZW5ndGgpO2FiKGEsYS5nLmVuZCgpKTthYihhLGMpfTt2YXIgY2I9XCJmdW5jdGlvblwiPT09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09PXR5cGVvZiBTeW1ib2woKT9TeW1ib2wodm9pZCAwKTp2b2lkIDA7ZnVuY3Rpb24gZGIoYSxiKXtPYmplY3QuaXNGcm96ZW4oYSl8fChjYj9hW2NiXXw9Yjp2b2lkIDAhPT1hLmc/YS5nfD1iOk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGEse2c6e3ZhbHVlOmIsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLGVudW1lcmFibGU6ITF9fSkpfWZ1bmN0aW9uIGViKGEpe2lmKCFhKXJldHVybiAwO3ZhciBiO2NiP2I9YVtjYl06Yj1hLmc7cmV0dXJuIG51bGw9PWI/MDpifWZ1bmN0aW9uIGZiKGEpe2lmKCFBcnJheS5pc0FycmF5KGEpKXJldHVybiBhO2RiKGEsMSk7cmV0dXJuIGF9ZnVuY3Rpb24gZ2IoYSl7aWYoIUFycmF5LmlzQXJyYXkoYSkpdGhyb3cgRXJyb3IoXCJjYW5ub3QgbWFyayBub24tYXJyYXkgYXMgaW1tdXRhYmxlXCIpO2RiKGEsMil9O2Z1bmN0aW9uIGhiKGEpe3JldHVybiBudWxsIT09YSYmXCJvYmplY3RcIj09PXR5cGVvZiBhJiZhLmNvbnN0cnVjdG9yPT09T2JqZWN0fWZ1bmN0aW9uIGliKGEpe3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSBcIm51bWJlclwiOnJldHVybiBpc0Zpbml0ZShhKT9hOlN0cmluZyhhKTtjYXNlIFwib2JqZWN0XCI6cmV0dXJuIExhJiZudWxsIT1hJiZhIGluc3RhbmNlb2YgVWludDhBcnJheT9IYShhKTphO2RlZmF1bHQ6cmV0dXJuIGF9fTtmdW5jdGlvbiBqYihhLGIpe2lmKG51bGwhPWEpcmV0dXJuIEFycmF5LmlzQXJyYXkoYSl8fGhiKGEpP2tiKGEsYik6YihhKX1mdW5jdGlvbiBrYihhLGIpe2lmKEFycmF5LmlzQXJyYXkoYSkpe2Zvcih2YXIgYz1BcnJheShhLmxlbmd0aCksZD0wO2Q8YS5sZW5ndGg7ZCsrKWNbZF09amIoYVtkXSxiKTtlYihhKSYxJiZmYihjKTtyZXR1cm4gY31jPXt9O2ZvcihkIGluIGEpY1tkXT1qYihhW2RdLGIpO3JldHVybiBjfTt2YXIgbGI7ZnVuY3Rpb24gVChhLGIsYyl7dmFyIGQ9bGI7bGI9bnVsbDthfHwoYT1kKTtkPXRoaXMuY29uc3RydWN0b3IuYmE7YXx8KGE9ZD9bZF06W10pO3RoaXMuaj0oZD8wOi0xKS0odGhpcy5jb25zdHJ1Y3Rvci4kfHwwKTt0aGlzLmk9bnVsbDt0aGlzLmc9YTthOntkPXRoaXMuZy5sZW5ndGg7YT1kLTE7aWYoZCYmKGQ9dGhpcy5nW2FdLGhiKGQpKSl7dGhpcy5sPWEtdGhpcy5qO3RoaXMuaD1kO2JyZWFrIGF9dm9pZCAwIT09YiYmLTE8Yj8odGhpcy5sPU1hdGgubWF4KGIsYSsxLXRoaXMuaiksdGhpcy5oPW51bGwpOnRoaXMubD1OdW1iZXIuTUFYX1ZBTFVFfWlmKGMpZm9yKGI9MDtiPGMubGVuZ3RoO2IrKylhPWNbYl0sYTx0aGlzLmw/KGErPXRoaXMuaiwoZD10aGlzLmdbYV0pP2ZiKGQpOnRoaXMuZ1thXT1tYik6KG5iKHRoaXMpLChkPXRoaXMuaFthXSk/ZmIoZCk6dGhpcy5oW2FdPW1iKX12YXIgbWI9T2JqZWN0LmZyZWV6ZShmYihbXSkpO1xuZnVuY3Rpb24gbmIoYSl7dmFyIGI9YS5sK2EuajthLmdbYl18fChhLmg9YS5nW2JdPXt9KX1mdW5jdGlvbiBVKGEsYixjKXtyZXR1cm4tMT09PWI/bnVsbDoodm9pZCAwPT09Yz8wOmMpfHxiPj1hLmw/YS5oP2EuaFtiXTp2b2lkIDA6YS5nW2IrYS5qXX1mdW5jdGlvbiBvYihhLGIsYyl7Yz12b2lkIDA9PT1jPyEwOmM7dmFyIGQ9dm9pZCAwPT09ZD8hMTpkO3ZhciBlPVUoYSxiLGQpO251bGw9PWUmJihlPW1iKTtlPT09bWI/KGU9ZmIoW10pLFYoYSxiLGUsZCkpOmMmJkFycmF5LmlzQXJyYXkoZSkmJmViKGUpJjImJihlPWUuc2xpY2UoKSxWKGEsYixlLGQpKTtyZXR1cm4gZX1mdW5jdGlvbiBXKGEsYixjKXthPVUoYSxiKTthPW51bGw9PWE/YTorYTtyZXR1cm4gbnVsbD09YT92b2lkIDA9PT1jPzA6YzphfWZ1bmN0aW9uIFYoYSxiLGMsZCl7KHZvaWQgMD09PWQ/MDpkKXx8Yj49YS5sPyhuYihhKSxhLmhbYl09Yyk6YS5nW2IrYS5qXT1jfVxuZnVuY3Rpb24gcGIoYSxiLGMpe2EuaXx8KGEuaT17fSk7dmFyIGQ9YS5pW2NdO2lmKCFkKXt2YXIgZT1vYihhLGMsITEpO2Q9W107Zm9yKHZhciBnPUFycmF5LmlzQXJyYXkoZSk/ISEoZWIoZSkmMik6ITEsZj0wO2Y8ZS5sZW5ndGg7ZisrKWRbZl09bmV3IGIoZVtmXSksZyYmZ2IoZFtmXS5nKTtnJiYoZ2IoZCksT2JqZWN0LmZyZWV6ZShkKSk7YS5pW2NdPWR9cmV0dXJuIGR9ZnVuY3Rpb24gcWIoYSxiLGMsZCxlKXt2YXIgZz1wYihhLGQsYik7Yz1jP2M6bmV3IGQ7YT1vYihhLGIpO3ZvaWQgMCE9ZT8oZy5zcGxpY2UoZSwwLGMpLGEuc3BsaWNlKGUsMCxYKGMpKSk6KGcucHVzaChjKSxhLnB1c2goWChjKSkpfVQucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe3ZhciBhPVgodGhpcyk7cmV0dXJuIGtiKGEsaWIpfTtcbmZ1bmN0aW9uIFgoYSl7aWYoYS5pKWZvcih2YXIgYiBpbiBhLmkpe3ZhciBjPWEuaVtiXTtpZihBcnJheS5pc0FycmF5KGMpKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWNbZF0mJlgoY1tkXSk7ZWxzZSBjJiZYKGMpfXJldHVybiBhLmd9VC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gWCh0aGlzKS50b1N0cmluZygpfTtmdW5jdGlvbiByYihhLGIpe2E9VShhLGIpO3JldHVybiBudWxsPT1hPzA6YX1mdW5jdGlvbiBzYihhLGIpe2E9VShhLGIpO3JldHVybiBudWxsPT1hP1wiXCI6YX07ZnVuY3Rpb24gdGIoYSxiKXtpZihhPWEubSl7YWIoYixiLmcuZW5kKCkpO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7YysrKWFiKGIsYVtjXSl9fWZ1bmN0aW9uIHViKGEpe3ZhciBiPWFbMF07c3dpdGNoKGEubGVuZ3RoKXtjYXNlIDI6dmFyIGM9YVsxXTtyZXR1cm4gZnVuY3Rpb24oaCxsLG4pe3JldHVybiBiKGgsbCxuLGMpfTtjYXNlIDM6dmFyIGQ9YVsxXSxlPWFbMl07cmV0dXJuIGZ1bmN0aW9uKGgsbCxuKXtyZXR1cm4gYihoLGwsbixkLGUpfTtjYXNlIDQ6dmFyIGc9YVsxXSxmPWFbMl0saz1hWzNdO3JldHVybiBmdW5jdGlvbihoLGwsbil7cmV0dXJuIGIoaCxsLG4sZyxmLGspfTtkZWZhdWx0OnRocm93IEVycm9yKFwidW5zdXBwb3J0ZWQgbnVtYmVyIG9mIHBhcmFtZXRlcnMsIGV4cGVjdGVkIFsyLTRdLCBnb3QgXCIrYS5sZW5ndGgpO319XG5mdW5jdGlvbiB2YihhLGIsYyl7Zm9yKDtXYShiKSYmNCE9Yi5oOyl7dmFyIGQ9Yi5pLGU9Y1tkXTtpZihlKXtpZihBcnJheS5pc0FycmF5KGUpJiYoZT1jW2RdPXViKGUpKSwhZShiLGEsZCkpe2Q9YjtlPWE7dmFyIGc9ZC5sO1hhKGQpO1lhKGQsZSxnKX19ZWxzZSBkPWIsZT1hLGc9ZC5sLFhhKGQpLFlhKGQsZSxnKX1yZXR1cm4gYX1mdW5jdGlvbiB3YihhLGIpe3ZhciBjPW5ldyAkYTtiKGEsYyk7YT1jLmkrYy5nLmxlbmd0aCgpO2lmKDA9PT1hKWM9bmV3IFVpbnQ4QXJyYXkoMCk7ZWxzZXthPW5ldyBVaW50OEFycmF5KGEpO2Zvcih2YXIgZD1jLmgsZT1kLmxlbmd0aCxnPWI9MDtnPGU7ZysrKXt2YXIgZj1kW2ddOzAhPT1mLmxlbmd0aCYmKGEuc2V0KGYsYiksYis9Zi5sZW5ndGgpfWQ9Yy5nO2U9ZC5oOzAhPT1lJiYoYS5zZXQoZC5nLnN1YmFycmF5KDAsZSksYiksZC5oPTApO2MuaD1bYV07Yz1hfXJldHVybiBjfVxuZnVuY3Rpb24geGIoYSxiLGMpe2lmKFphLmxlbmd0aCl7dmFyIGQ9WmEucG9wKCk7YSYmKFNhKGQuZyxhKSxkLmk9LTEsZC5oPS0xKTthPWR9ZWxzZSBhPW5ldyBWYShhKTt0cnl7cmV0dXJuIGMobmV3IGIsYSl9ZmluYWxseXtiPWEuZyxiLmg9bnVsbCxiLmw9MCxiLmk9MCxiLmc9MCxiLmo9ITEsYi51PSExLGEuaT0tMSxhLmg9LTEsYS5qPSExLDEwMD5aYS5sZW5ndGgmJlphLnB1c2goYSl9fVxuZnVuY3Rpb24gWShhLGIsYyl7Yj1VKGIsYyk7aWYobnVsbCE9Yil7UyhhLmcsOCpjKzUpO2E9YS5nO3ZhciBkPWI7ZD0oYz0wPmQ/MTowKT8tZDpkOzA9PT1kPzA8MS9kP009Tj0wOihOPTAsTT0yMTQ3NDgzNjQ4KTppc05hTihkKT8oTj0wLE09MjE0NzQ4MzY0Nyk6My40MDI4MjM0NjYzODUyODg2RTM4PGQ/KE49MCxNPShjPDwzMXwyMTM5MDk1MDQwKT4+PjApOjEuMTc1NDk0MzUwODIyMjg3NUUtMzg+ZD8oZD1NYXRoLnJvdW5kKGQvTWF0aC5wb3coMiwtMTQ5KSksTj0wLE09KGM8PDMxfGQpPj4+MCk6KGI9TWF0aC5mbG9vcihNYXRoLmxvZyhkKS9NYXRoLkxOMiksZCo9TWF0aC5wb3coMiwtYiksZD1NYXRoLnJvdW5kKDgzODg2MDgqZCksMTY3NzcyMTY8PWQmJisrYixOPTAsTT0oYzw8MzF8YisxMjc8PDIzfGQmODM4ODYwNyk+Pj4wKTtjPU07UShhLGM+Pj4wJjI1NSk7UShhLGM+Pj44JjI1NSk7UShhLGM+Pj4xNiYyNTUpO1EoYSxjPj4+MjQmMjU1KX19XG5mdW5jdGlvbiBaKGEsYixjKXtpZig1IT09YS5oKXJldHVybiExO2E9YS5nO3ZhciBkPWEuaFthLmddO3ZhciBlPWEuaFthLmcrMV07dmFyIGc9YS5oW2EuZysyXSxmPWEuaFthLmcrM107YS5nKz00O08oYSk7ZT0oZDw8MHxlPDw4fGc8PDE2fGY8PDI0KT4+PjA7YT0yKihlPj4zMSkrMTtkPWU+Pj4yMyYyNTU7ZSY9ODM4ODYwNztWKGIsYywyNTU9PWQ/ZT9OYU46SW5maW5pdHkqYTowPT1kP2EqTWF0aC5wb3coMiwtMTQ5KSplOmEqTWF0aC5wb3coMixkLTE1MCkqKGUrTWF0aC5wb3coMiwyMykpKTtyZXR1cm4hMH1cbmZ1bmN0aW9uIHliKGEsYixjKXtpZigwIT09YS5oKXJldHVybiExO2Zvcih2YXIgZD1hLmcsZT0xMjgsZz0wLGY9YT0wOzQ+ZiYmMTI4PD1lO2YrKyllPWQuaFtkLmcrK10sZ3w9KGUmMTI3KTw8NypmOzEyODw9ZSYmKGU9ZC5oW2QuZysrXSxnfD0oZSYxMjcpPDwyOCxhfD0oZSYxMjcpPj40KTtpZigxMjg8PWUpZm9yKGY9MDs1PmYmJjEyODw9ZTtmKyspZT1kLmhbZC5nKytdLGF8PShlJjEyNyk8PDcqZiszO2lmKDEyOD5lKXtkPWc+Pj4wO2U9YT4+PjA7aWYoYT1lJjIxNDc0ODM2NDgpZD1+ZCsxPj4+MCxlPX5lPj4+MCwwPT1kJiYoZT1lKzE+Pj4wKTtkPTQyOTQ5NjcyOTYqZSsoZD4+PjApO2E9YT8tZDpkfWVsc2UgZC5qPSEwLHphKCksYT12b2lkIDA7VihiLGMsYSk7cmV0dXJuITB9ZnVuY3Rpb24gemIoYSxiLGMpe2lmKDAhPT1hLmgpcmV0dXJuITE7VihiLGMsUChhLmcpKTtyZXR1cm4hMH1cbmZ1bmN0aW9uIEFiKGEsYixjKXtpZigyIT09YS5oKXJldHVybiExO3ZhciBkPVAoYS5nKTthPWEuZzt2YXIgZT1hLmc7YS5nKz1kO08oYSk7YT1hLmg7dmFyIGc7aWYoQ2EpKGc9QmEpfHwoZz1CYT1uZXcgVGV4dERlY29kZXIoXCJ1dGYtOFwiLHtmYXRhbDohMX0pKSxnPWcuZGVjb2RlKGEuc3ViYXJyYXkoZSxlK2QpKTtlbHNle2Q9ZStkO2Zvcih2YXIgZj1bXSxrPW51bGwsaCxsLG47ZTxkOyloPWFbZSsrXSwxMjg+aD9mLnB1c2goaCk6MjI0Pmg/ZT49ZD9mLnB1c2goNjU1MzMpOihsPWFbZSsrXSwxOTQ+aHx8MTI4IT09KGwmMTkyKT8oZS0tLGYucHVzaCg2NTUzMykpOmYucHVzaCgoaCYzMSk8PDZ8bCY2MykpOjI0MD5oP2U+PWQtMT9mLnB1c2goNjU1MzMpOihsPWFbZSsrXSwxMjghPT0obCYxOTIpfHwyMjQ9PT1oJiYxNjA+bHx8MjM3PT09aCYmMTYwPD1sfHwxMjghPT0oKGc9YVtlKytdKSYxOTIpPyhlLS0sZi5wdXNoKDY1NTMzKSk6Zi5wdXNoKChoJjE1KTw8MTJ8KGwmNjMpPDw2fFxuZyY2MykpOjI0ND49aD9lPj1kLTI/Zi5wdXNoKDY1NTMzKToobD1hW2UrK10sMTI4IT09KGwmMTkyKXx8MCE9PShoPDwyOCkrKGwtMTQ0KT4+MzB8fDEyOCE9PSgoZz1hW2UrK10pJjE5Mil8fDEyOCE9PSgobj1hW2UrK10pJjE5Mik/KGUtLSxmLnB1c2goNjU1MzMpKTooaD0oaCY3KTw8MTh8KGwmNjMpPDwxMnwoZyY2Myk8PDZ8biY2MyxoLT02NTUzNixmLnB1c2goKGg+PjEwJjEwMjMpKzU1Mjk2LChoJjEwMjMpKzU2MzIwKSkpOmYucHVzaCg2NTUzMyksODE5Mjw9Zi5sZW5ndGgmJihrPUFhKGssZiksZi5sZW5ndGg9MCk7Zz1BYShrLGYpfVYoYixjLGcpO3JldHVybiEwfVxuZnVuY3Rpb24gQmIoYSxiLGMsZCxlKXtpZigyIT09YS5oKXJldHVybiExO3ZhciBnPW5ldyBkLGY9YS5nLmksaz1QKGEuZyksaD1hLmcuZytrO2EuZy5pPWg7ZShnLGEpO2U9aC1hLmcuZztpZigwIT09ZSl0aHJvdyBFcnJvcihcIk1lc3NhZ2UgcGFyc2luZyBlbmRlZCB1bmV4cGVjdGVkbHkuIEV4cGVjdGVkIHRvIHJlYWQgXCIrKGsrXCIgYnl0ZXMsIGluc3RlYWQgcmVhZCBcIisoay1lKStcIiBieXRlcywgZWl0aGVyIHRoZSBkYXRhIGVuZGVkIHVuZXhwZWN0ZWRseSBvciB0aGUgbWVzc2FnZSBtaXNyZXBvcnRlZCBpdHMgb3duIGxlbmd0aFwiKSk7YS5nLmc9aDthLmcuaT1mO3FiKGIsYyxnLGQsdm9pZCAwKTtyZXR1cm4hMH07ZnVuY3Rpb24gQ2IoYSl7VC5jYWxsKHRoaXMsYSl9dmFyIERiO0UoQ2IsVCk7ZnVuY3Rpb24gRWIoYSxiKXt2YXIgYz1VKGEsMSk7aWYobnVsbCE9YyYmbnVsbCE9Yyl7UyhiLmcsOCk7dmFyIGQ9Yi5nO2lmKDA8PWMpUyhkLGMpO2Vsc2V7Zm9yKHZhciBlPTA7OT5lO2UrKylRKGQsYyYxMjd8MTI4KSxjPj49NztRKGQsMSl9fVkoYixhLDIpO2Q9VShhLDMpO251bGwhPWQmJmJiKGIsMyxGYShkKSk7ZD1VKGEsNCk7bnVsbCE9ZCYmYmIoYiw0LEZhKGQpKTt0YihhLGIpfWZ1bmN0aW9uIEZiKGEsYil7cmV0dXJuIHZiKGEsYixEYnx8KERiPXsxOnpiLDI6WiwzOkFiLDQ6QWJ9KSl9O2Z1bmN0aW9uIEdiKGEpe1QuY2FsbCh0aGlzLGEsLTEsSGIpfXZhciBJYjtFKEdiLFQpO0diLnByb3RvdHlwZS5hZGRDbGFzc2lmaWNhdGlvbj1mdW5jdGlvbihhLGIpe3FiKHRoaXMsMSxhLENiLGIpO3JldHVybiB0aGlzfTtmdW5jdGlvbiBKYihhLGIpe3JldHVybiB2YihhLGIsSWJ8fChJYj17MTpbQmIsQ2IsRmJdfSkpfXZhciBIYj1bMV07ZnVuY3Rpb24gS2IoYSl7VC5jYWxsKHRoaXMsYSl9dmFyIExiO0UoS2IsVCk7ZnVuY3Rpb24gTWIoYSxiKXtZKGIsYSwxKTtZKGIsYSwyKTtZKGIsYSwzKTtZKGIsYSw0KTtZKGIsYSw1KTt0YihhLGIpfWZ1bmN0aW9uIE5iKGEsYil7cmV0dXJuIHZiKGEsYixMYnx8KExiPXsxOlosMjpaLDM6Wiw0OlosNTpafSkpfTtmdW5jdGlvbiBPYihhKXtULmNhbGwodGhpcyxhLC0xLFBiKX12YXIgUWI7RShPYixUKTtmdW5jdGlvbiBSYihhLGIpe3JldHVybiB2YihhLGIsUWJ8fChRYj17MTpbQmIsS2IsTmJdfSkpfXZhciBQYj1bMV07ZnVuY3Rpb24gU2IoYSl7VC5jYWxsKHRoaXMsYSl9dmFyIFRiO0UoU2IsVCk7ZnVuY3Rpb24gVWIoYSxiKXtZKGIsYSwxKTtZKGIsYSwyKTtZKGIsYSwzKTtZKGIsYSw0KTtZKGIsYSw1KTt2YXIgYz1VKGEsNik7aWYobnVsbCE9YyYmbnVsbCE9Yyl7UyhiLmcsNDgpO3ZhciBkPWIuZyxlPWM7Yz0wPmU7ZT1NYXRoLmFicyhlKTt2YXIgZz1lPj4+MDtlPU1hdGguZmxvb3IoKGUtZykvNDI5NDk2NzI5Nik7ZT4+Pj0wO2MmJihlPX5lPj4+MCxnPSh+Zz4+PjApKzEsNDI5NDk2NzI5NTxnJiYoZz0wLGUrKyw0Mjk0OTY3Mjk1PGUmJihlPTApKSk7TT1nO049ZTtjPU07Zm9yKGc9TjswPGd8fDEyNzxjOylRKGQsYyYxMjd8MTI4KSxjPShjPj4+N3xnPDwyNSk+Pj4wLGc+Pj49NztRKGQsYyl9dGIoYSxiKX1mdW5jdGlvbiBWYihhLGIpe3JldHVybiB2YihhLGIsVGJ8fChUYj17MTpaLDI6WiwzOlosNDpaLDU6Wiw2OnlifSkpfTtmdW5jdGlvbiBXYihhLGIsYyl7Yz1hLmNyZWF0ZVNoYWRlcigwPT09Yz9hLlZFUlRFWF9TSEFERVI6YS5GUkFHTUVOVF9TSEFERVIpO2Euc2hhZGVyU291cmNlKGMsYik7YS5jb21waWxlU2hhZGVyKGMpO2lmKCFhLmdldFNoYWRlclBhcmFtZXRlcihjLGEuQ09NUElMRV9TVEFUVVMpKXRocm93IEVycm9yKFwiQ291bGQgbm90IGNvbXBpbGUgV2ViR0wgc2hhZGVyLlxcblxcblwiK2EuZ2V0U2hhZGVySW5mb0xvZyhjKSk7cmV0dXJuIGN9O2Z1bmN0aW9uIFhiKGEpe3JldHVybiBwYihhLENiLDEpLm1hcChmdW5jdGlvbihiKXtyZXR1cm57aW5kZXg6cmIoYiwxKSxzY29yZTpXKGIsMiksbGFiZWw6bnVsbCE9VShiLDMpP3NiKGIsMyk6dm9pZCAwLGRpc3BsYXlOYW1lOm51bGwhPVUoYiw0KT9zYihiLDQpOnZvaWQgMH19KX07ZnVuY3Rpb24gWWIoYSl7cmV0dXJue3g6VyhhLDEpLHk6VyhhLDIpLHo6VyhhLDMpLHZpc2liaWxpdHk6bnVsbCE9VShhLDQpP1coYSw0KTp2b2lkIDB9fWZ1bmN0aW9uIFpiKGEpe3JldHVybiBhLm1hcChmdW5jdGlvbihiKXtyZXR1cm4gcGIoeGIoYixPYixSYiksS2IsMSkubWFwKFliKX0pfTtmdW5jdGlvbiAkYihhLGIpe3RoaXMuaD1hO3RoaXMuZz1iO3RoaXMubD0wfVxuZnVuY3Rpb24gYWMoYSxiLGMpe2JjKGEsYik7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEuZy5jYW52YXMudHJhbnNmZXJUb0ltYWdlQml0bWFwKXJldHVybiBQcm9taXNlLnJlc29sdmUoYS5nLmNhbnZhcy50cmFuc2ZlclRvSW1hZ2VCaXRtYXAoKSk7aWYoYylyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEuZy5jYW52YXMpO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBjcmVhdGVJbWFnZUJpdG1hcClyZXR1cm4gY3JlYXRlSW1hZ2VCaXRtYXAoYS5nLmNhbnZhcyk7dm9pZCAwPT09YS5pJiYoYS5pPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihkKXthLmkuaGVpZ2h0PWEuZy5jYW52YXMuaGVpZ2h0O2EuaS53aWR0aD1hLmcuY2FudmFzLndpZHRoO2EuaS5nZXRDb250ZXh0KFwiMmRcIix7fSkuZHJhd0ltYWdlKGEuZy5jYW52YXMsMCwwLGEuZy5jYW52YXMud2lkdGgsYS5nLmNhbnZhcy5oZWlnaHQpO2QoYS5pKX0pfVxuZnVuY3Rpb24gYmMoYSxiKXt2YXIgYz1hLmc7aWYodm9pZCAwPT09YS5tKXt2YXIgZD1XYihjLFwiXFxuICBhdHRyaWJ1dGUgdmVjMiBhVmVydGV4O1xcbiAgYXR0cmlidXRlIHZlYzIgYVRleDtcXG4gIHZhcnlpbmcgdmVjMiB2VGV4O1xcbiAgdm9pZCBtYWluKHZvaWQpIHtcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KGFWZXJ0ZXgsIDAuMCwgMS4wKTtcXG4gICAgdlRleCA9IGFUZXg7XFxuICB9XCIsMCksZT1XYihjLFwiXFxuICBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4gIHZhcnlpbmcgdmVjMiB2VGV4O1xcbiAgdW5pZm9ybSBzYW1wbGVyMkQgc2FtcGxlcjA7XFxuICB2b2lkIG1haW4oKXtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHNhbXBsZXIwLCB2VGV4KTtcXG4gIH1cIiwxKSxnPWMuY3JlYXRlUHJvZ3JhbSgpO2MuYXR0YWNoU2hhZGVyKGcsZCk7Yy5hdHRhY2hTaGFkZXIoZyxlKTtjLmxpbmtQcm9ncmFtKGcpO2lmKCFjLmdldFByb2dyYW1QYXJhbWV0ZXIoZyxjLkxJTktfU1RBVFVTKSl0aHJvdyBFcnJvcihcIkNvdWxkIG5vdCBjb21waWxlIFdlYkdMIHByb2dyYW0uXFxuXFxuXCIrXG5jLmdldFByb2dyYW1JbmZvTG9nKGcpKTtkPWEubT1nO2MudXNlUHJvZ3JhbShkKTtlPWMuZ2V0VW5pZm9ybUxvY2F0aW9uKGQsXCJzYW1wbGVyMFwiKTthLmo9e0k6Yy5nZXRBdHRyaWJMb2NhdGlvbihkLFwiYVZlcnRleFwiKSxIOmMuZ2V0QXR0cmliTG9jYXRpb24oZCxcImFUZXhcIiksY2E6ZX07YS5zPWMuY3JlYXRlQnVmZmVyKCk7Yy5iaW5kQnVmZmVyKGMuQVJSQVlfQlVGRkVSLGEucyk7Yy5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhLmouSSk7Yy52ZXJ0ZXhBdHRyaWJQb2ludGVyKGEuai5JLDIsYy5GTE9BVCwhMSwwLDApO2MuYnVmZmVyRGF0YShjLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KFstMSwtMSwtMSwxLDEsMSwxLC0xXSksYy5TVEFUSUNfRFJBVyk7Yy5iaW5kQnVmZmVyKGMuQVJSQVlfQlVGRkVSLG51bGwpO2Eubz1jLmNyZWF0ZUJ1ZmZlcigpO2MuYmluZEJ1ZmZlcihjLkFSUkFZX0JVRkZFUixhLm8pO2MuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYS5qLkgpO2MudmVydGV4QXR0cmliUG9pbnRlcihhLmouSCxcbjIsYy5GTE9BVCwhMSwwLDApO2MuYnVmZmVyRGF0YShjLkFSUkFZX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KFswLDEsMCwwLDEsMCwxLDFdKSxjLlNUQVRJQ19EUkFXKTtjLmJpbmRCdWZmZXIoYy5BUlJBWV9CVUZGRVIsbnVsbCk7Yy51bmlmb3JtMWkoZSwwKX1kPWEuajtjLnVzZVByb2dyYW0oYS5tKTtjLmNhbnZhcy53aWR0aD1iLndpZHRoO2MuY2FudmFzLmhlaWdodD1iLmhlaWdodDtjLnZpZXdwb3J0KDAsMCxiLndpZHRoLGIuaGVpZ2h0KTtjLmFjdGl2ZVRleHR1cmUoYy5URVhUVVJFMCk7YS5oLmJpbmRUZXh0dXJlMmQoYi5nbE5hbWUpO2MuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZC5JKTtjLmJpbmRCdWZmZXIoYy5BUlJBWV9CVUZGRVIsYS5zKTtjLnZlcnRleEF0dHJpYlBvaW50ZXIoZC5JLDIsYy5GTE9BVCwhMSwwLDApO2MuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZC5IKTtjLmJpbmRCdWZmZXIoYy5BUlJBWV9CVUZGRVIsYS5vKTtjLnZlcnRleEF0dHJpYlBvaW50ZXIoZC5ILFxuMixjLkZMT0FULCExLDAsMCk7Yy5iaW5kRnJhbWVidWZmZXIoYy5EUkFXX0ZSQU1FQlVGRkVSP2MuRFJBV19GUkFNRUJVRkZFUjpjLkZSQU1FQlVGRkVSLG51bGwpO2MuY2xlYXJDb2xvcigwLDAsMCwwKTtjLmNsZWFyKGMuQ09MT1JfQlVGRkVSX0JJVCk7Yy5jb2xvck1hc2soITAsITAsITAsITApO2MuZHJhd0FycmF5cyhjLlRSSUFOR0xFX0ZBTiwwLDQpO2MuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGQuSSk7Yy5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoZC5IKTtjLmJpbmRCdWZmZXIoYy5BUlJBWV9CVUZGRVIsbnVsbCk7YS5oLmJpbmRUZXh0dXJlMmQoMCl9ZnVuY3Rpb24gY2MoYSl7dGhpcy5nPWF9O3ZhciBkYz1uZXcgVWludDhBcnJheShbMCw5NywxMTUsMTA5LDEsMCwwLDAsMSw0LDEsOTYsMCwwLDMsMiwxLDAsMTAsOSwxLDcsMCw2NSwwLDI1MywxNSwyNiwxMV0pO2Z1bmN0aW9uIGVjKGEsYil7cmV0dXJuIGIrYX1mdW5jdGlvbiBmYyhhLGIpe3dpbmRvd1thXT1ifWZ1bmN0aW9uIGdjKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7Yi5zZXRBdHRyaWJ1dGUoXCJzcmNcIixhKTtiLnNldEF0dHJpYnV0ZShcImNyb3Nzb3JpZ2luXCIsXCJhbm9ueW1vdXNcIik7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGMpe2IuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixmdW5jdGlvbigpe2MoKX0sITEpO2IuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsZnVuY3Rpb24oKXtjKCl9LCExKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGIpfSl9XG5mdW5jdGlvbiBoYygpe3JldHVybiBIKGZ1bmN0aW9uKGEpe3N3aXRjaChhLmcpe2Nhc2UgMTpyZXR1cm4gYS5tPTIsRihhLFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGRjKSw0KTtjYXNlIDQ6YS5nPTM7YS5tPTA7YnJlYWs7Y2FzZSAyOnJldHVybiBhLm09MCxhLmo9bnVsbCxhLnJldHVybighMSk7Y2FzZSAzOnJldHVybiBhLnJldHVybighMCl9fSl9XG5mdW5jdGlvbiBpYyhhKXt0aGlzLmc9YTt0aGlzLmxpc3RlbmVycz17fTt0aGlzLmo9e307dGhpcy5GPXt9O3RoaXMubT17fTt0aGlzLnM9e307dGhpcy5HPXRoaXMubz10aGlzLlI9ITA7dGhpcy5DPVByb21pc2UucmVzb2x2ZSgpO3RoaXMuUD1cIlwiO3RoaXMuQj17fTt0aGlzLmxvY2F0ZUZpbGU9YSYmYS5sb2NhdGVGaWxlfHxlYztpZihcIm9iamVjdFwiPT09dHlwZW9mIHdpbmRvdyl2YXIgYj13aW5kb3cubG9jYXRpb24ucGF0aG5hbWUudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCx3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUudG9TdHJpbmcoKS5sYXN0SW5kZXhPZihcIi9cIikpK1wiL1wiO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBsb2NhdGlvbiliPWxvY2F0aW9uLnBhdGhuYW1lLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsbG9jYXRpb24ucGF0aG5hbWUudG9TdHJpbmcoKS5sYXN0SW5kZXhPZihcIi9cIikpK1wiL1wiO2Vsc2UgdGhyb3cgRXJyb3IoXCJzb2x1dGlvbnMgY2FuIG9ubHkgYmUgbG9hZGVkIG9uIGEgd2ViIHBhZ2Ugb3IgaW4gYSB3ZWIgd29ya2VyXCIpO1xudGhpcy5TPWI7aWYoYS5vcHRpb25zKXtiPUMoT2JqZWN0LmtleXMoYS5vcHRpb25zKSk7Zm9yKHZhciBjPWIubmV4dCgpOyFjLmRvbmU7Yz1iLm5leHQoKSl7Yz1jLnZhbHVlO3ZhciBkPWEub3B0aW9uc1tjXS5kZWZhdWx0O3ZvaWQgMCE9PWQmJih0aGlzLmpbY109XCJmdW5jdGlvblwiPT09dHlwZW9mIGQ/ZCgpOmQpfX19eD1pYy5wcm90b3R5cGU7eC5jbG9zZT1mdW5jdGlvbigpe3RoaXMuaSYmdGhpcy5pLmRlbGV0ZSgpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX07XG5mdW5jdGlvbiBqYyhhKXt2YXIgYixjLGQsZSxnLGYsayxoLGwsbixyO3JldHVybiBIKGZ1bmN0aW9uKHApe3N3aXRjaChwLmcpe2Nhc2UgMTppZighYS5SKXJldHVybiBwLnJldHVybigpO2I9dm9pZCAwPT09YS5nLmZpbGVzP1tdOlwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLmcuZmlsZXM/YS5nLmZpbGVzKGEuaik6YS5nLmZpbGVzO3JldHVybiBGKHAsaGMoKSwyKTtjYXNlIDI6Yz1wLmg7aWYoXCJvYmplY3RcIj09PXR5cGVvZiB3aW5kb3cpcmV0dXJuIGZjKFwiY3JlYXRlTWVkaWFwaXBlU29sdXRpb25zV2FzbVwiLHtsb2NhdGVGaWxlOmEubG9jYXRlRmlsZX0pLGZjKFwiY3JlYXRlTWVkaWFwaXBlU29sdXRpb25zUGFja2VkQXNzZXRzXCIse2xvY2F0ZUZpbGU6YS5sb2NhdGVGaWxlfSksZj1iLmZpbHRlcihmdW5jdGlvbihtKXtyZXR1cm4gdm9pZCAwIT09bS5kYXRhfSksaz1iLmZpbHRlcihmdW5jdGlvbihtKXtyZXR1cm4gdm9pZCAwPT09bS5kYXRhfSksaD1Qcm9taXNlLmFsbChmLm1hcChmdW5jdGlvbihtKXt2YXIgcT1cbmtjKGEsbS51cmwpO2lmKHZvaWQgMCE9PW0ucGF0aCl7dmFyIHQ9bS5wYXRoO3E9cS50aGVuKGZ1bmN0aW9uKHcpe2Eub3ZlcnJpZGVGaWxlKHQsdyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh3KX0pfXJldHVybiBxfSkpLGw9UHJvbWlzZS5hbGwoay5tYXAoZnVuY3Rpb24obSl7cmV0dXJuIHZvaWQgMD09PW0uc2ltZHx8bS5zaW1kJiZjfHwhbS5zaW1kJiYhYz9nYyhhLmxvY2F0ZUZpbGUobS51cmwsYS5TKSk6UHJvbWlzZS5yZXNvbHZlKCl9KSkudGhlbihmdW5jdGlvbigpe3ZhciBtLHEsdDtyZXR1cm4gSChmdW5jdGlvbih3KXtpZigxPT13LmcpcmV0dXJuIG09d2luZG93LmNyZWF0ZU1lZGlhcGlwZVNvbHV0aW9uc1dhc20scT13aW5kb3cuY3JlYXRlTWVkaWFwaXBlU29sdXRpb25zUGFja2VkQXNzZXRzLHQ9YSxGKHcsbShxKSwyKTt0Lmg9dy5oO3cuZz0wfSl9KSxuPWZ1bmN0aW9uKCl7cmV0dXJuIEgoZnVuY3Rpb24obSl7YS5nLmdyYXBoJiZhLmcuZ3JhcGgudXJsP209RihtLFxua2MoYSxhLmcuZ3JhcGgudXJsKSwwKToobS5nPTAsbT12b2lkIDApO3JldHVybiBtfSl9KCksRihwLFByb21pc2UuYWxsKFtsLGgsbl0pLDcpO2lmKFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBpbXBvcnRTY3JpcHRzKXRocm93IEVycm9yKFwic29sdXRpb25zIGNhbiBvbmx5IGJlIGxvYWRlZCBvbiBhIHdlYiBwYWdlIG9yIGluIGEgd2ViIHdvcmtlclwiKTtkPWIuZmlsdGVyKGZ1bmN0aW9uKG0pe3JldHVybiB2b2lkIDA9PT1tLnNpbWR8fG0uc2ltZCYmY3x8IW0uc2ltZCYmIWN9KS5tYXAoZnVuY3Rpb24obSl7cmV0dXJuIGEubG9jYXRlRmlsZShtLnVybCxhLlMpfSk7aW1wb3J0U2NyaXB0cy5hcHBseShudWxsLGVhKGQpKTtlPWE7cmV0dXJuIEYocCxjcmVhdGVNZWRpYXBpcGVTb2x1dGlvbnNXYXNtKE1vZHVsZSksNik7Y2FzZSA2OmUuaD1wLmg7YS5sPW5ldyBPZmZzY3JlZW5DYW52YXMoMSwxKTthLmguY2FudmFzPWEubDtnPWEuaC5HTC5jcmVhdGVDb250ZXh0KGEubCx7YW50aWFsaWFzOiExLFxuYWxwaGE6ITEsYWE6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0PzI6MX0pO2EuaC5HTC5tYWtlQ29udGV4dEN1cnJlbnQoZyk7cC5nPTQ7YnJlYWs7Y2FzZSA3OmEubD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3I9YS5sLmdldENvbnRleHQoXCJ3ZWJnbDJcIix7fSk7aWYoIXImJihyPWEubC5nZXRDb250ZXh0KFwid2ViZ2xcIix7fSksIXIpKXJldHVybiBhbGVydChcIkZhaWxlZCB0byBjcmVhdGUgV2ViR0wgY2FudmFzIGNvbnRleHQgd2hlbiBwYXNzaW5nIHZpZGVvIGZyYW1lLlwiKSxwLnJldHVybigpO2EuRD1yO2EuaC5jYW52YXM9YS5sO2EuaC5jcmVhdGVDb250ZXh0KGEubCwhMCwhMCx7fSk7Y2FzZSA0OmEuaT1uZXcgYS5oLlNvbHV0aW9uV2FzbSxhLlI9ITEscC5nPTB9fSl9XG5mdW5jdGlvbiBsYyhhKXt2YXIgYixjLGQsZSxnLGYsayxoO3JldHVybiBIKGZ1bmN0aW9uKGwpe2lmKDE9PWwuZyl7aWYoYS5nLmdyYXBoJiZhLmcuZ3JhcGgudXJsJiZhLlA9PT1hLmcuZ3JhcGgudXJsKXJldHVybiBsLnJldHVybigpO2Eubz0hMDtpZighYS5nLmdyYXBofHwhYS5nLmdyYXBoLnVybCl7bC5nPTI7cmV0dXJufWEuUD1hLmcuZ3JhcGgudXJsO3JldHVybiBGKGwsa2MoYSxhLmcuZ3JhcGgudXJsKSwzKX0yIT1sLmcmJihiPWwuaCxhLmkubG9hZEdyYXBoKGIpKTtjPUMoT2JqZWN0LmtleXMoYS5CKSk7Zm9yKGQ9Yy5uZXh0KCk7IWQuZG9uZTtkPWMubmV4dCgpKWU9ZC52YWx1ZSxhLmkub3ZlcnJpZGVGaWxlKGUsYS5CW2VdKTthLkI9e307aWYoYS5nLmxpc3RlbmVycylmb3IoZz1DKGEuZy5saXN0ZW5lcnMpLGY9Zy5uZXh0KCk7IWYuZG9uZTtmPWcubmV4dCgpKWs9Zi52YWx1ZSxtYyhhLGspO2g9YS5qO2Euaj17fTthLnNldE9wdGlvbnMoaCk7bC5nPTB9KX1cbngucmVzZXQ9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBIKGZ1bmN0aW9uKGIpe2EuaSYmKGEuaS5yZXNldCgpLGEubT17fSxhLnM9e30pO2IuZz0wfSl9O1xueC5zZXRPcHRpb25zPWZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztpZihiPWJ8fHRoaXMuZy5vcHRpb25zKXtmb3IodmFyIGQ9W10sZT1bXSxnPXt9LGY9QyhPYmplY3Qua2V5cyhhKSksaz1mLm5leHQoKTshay5kb25lO2c9e0s6Zy5LLEw6Zy5MfSxrPWYubmV4dCgpKXt2YXIgaD1rLnZhbHVlO2ggaW4gdGhpcy5qJiZ0aGlzLmpbaF09PT1hW2hdfHwodGhpcy5qW2hdPWFbaF0saz1iW2hdLHZvaWQgMCE9PWsmJihrLm9uQ2hhbmdlJiYoZy5LPWsub25DaGFuZ2UsZy5MPWFbaF0sZC5wdXNoKGZ1bmN0aW9uKGwpe3JldHVybiBmdW5jdGlvbigpe3ZhciBuO3JldHVybiBIKGZ1bmN0aW9uKHIpe2lmKDE9PXIuZylyZXR1cm4gRihyLGwuSyhsLkwpLDIpO249ci5oOyEwPT09biYmKGMubz0hMCk7ci5nPTB9KX19KGcpKSksay5ncmFwaE9wdGlvblhyZWYmJihoPXt2YWx1ZU51bWJlcjoxPT09ay50eXBlP2FbaF06MCx2YWx1ZUJvb2xlYW46MD09PWsudHlwZT9hW2hdOiExLHZhbHVlU3RyaW5nOjI9PT1cbmsudHlwZT9hW2hdOlwiXCJ9LGs9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30se2NhbGN1bGF0b3JOYW1lOlwiXCIsY2FsY3VsYXRvckluZGV4OjB9KSxrLmdyYXBoT3B0aW9uWHJlZiksaCksZS5wdXNoKGspKSkpfWlmKDAhPT1kLmxlbmd0aHx8MCE9PWUubGVuZ3RoKXRoaXMubz0hMCx0aGlzLkE9KHZvaWQgMD09PXRoaXMuQT9bXTp0aGlzLkEpLmNvbmNhdChlKSx0aGlzLnY9KHZvaWQgMD09PXRoaXMudj9bXTp0aGlzLnYpLmNvbmNhdChkKX19O1xuZnVuY3Rpb24gbmMoYSl7dmFyIGIsYyxkLGUsZyxmLGs7cmV0dXJuIEgoZnVuY3Rpb24oaCl7c3dpdGNoKGguZyl7Y2FzZSAxOmlmKCFhLm8pcmV0dXJuIGgucmV0dXJuKCk7aWYoIWEudil7aC5nPTI7YnJlYWt9Yj1DKGEudik7Yz1iLm5leHQoKTtjYXNlIDM6aWYoYy5kb25lKXtoLmc9NTticmVha31kPWMudmFsdWU7cmV0dXJuIEYoaCxkKCksNCk7Y2FzZSA0OmM9Yi5uZXh0KCk7aC5nPTM7YnJlYWs7Y2FzZSA1OmEudj12b2lkIDA7Y2FzZSAyOmlmKGEuQSl7ZT1uZXcgYS5oLkdyYXBoT3B0aW9uQ2hhbmdlUmVxdWVzdExpc3Q7Zz1DKGEuQSk7Zm9yKGY9Zy5uZXh0KCk7IWYuZG9uZTtmPWcubmV4dCgpKWs9Zi52YWx1ZSxlLnB1c2hfYmFjayhrKTthLmkuY2hhbmdlT3B0aW9ucyhlKTtlLmRlbGV0ZSgpO2EuQT12b2lkIDB9YS5vPSExO2guZz0wfX0pfVxueC5pbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gSChmdW5jdGlvbihiKXtyZXR1cm4gMT09Yi5nP0YoYixqYyhhKSwyKTozIT1iLmc/RihiLGxjKGEpLDMpOkYoYixuYyhhKSwwKX0pfTtmdW5jdGlvbiBrYyhhLGIpe3ZhciBjLGQ7cmV0dXJuIEgoZnVuY3Rpb24oZSl7aWYoYiBpbiBhLkYpcmV0dXJuIGUucmV0dXJuKGEuRltiXSk7Yz1hLmxvY2F0ZUZpbGUoYixcIlwiKTtkPWZldGNoKGMpLnRoZW4oZnVuY3Rpb24oZyl7cmV0dXJuIGcuYXJyYXlCdWZmZXIoKX0pO2EuRltiXT1kO3JldHVybiBlLnJldHVybihkKX0pfXgub3ZlcnJpZGVGaWxlPWZ1bmN0aW9uKGEsYil7dGhpcy5pP3RoaXMuaS5vdmVycmlkZUZpbGUoYSxiKTp0aGlzLkJbYV09Yn07eC5jbGVhck92ZXJyaWRkZW5GaWxlcz1mdW5jdGlvbigpe3RoaXMuQj17fTt0aGlzLmkmJnRoaXMuaS5jbGVhck92ZXJyaWRkZW5GaWxlcygpfTtcbnguc2VuZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZCxlLGcsZixrLGgsbCxuLHI7cmV0dXJuIEgoZnVuY3Rpb24ocCl7c3dpdGNoKHAuZyl7Y2FzZSAxOmlmKCFjLmcuaW5wdXRzKXJldHVybiBwLnJldHVybigpO2Q9MUUzKih2b2lkIDA9PT1ifHxudWxsPT09Yj9wZXJmb3JtYW5jZS5ub3coKTpiKTtyZXR1cm4gRihwLGMuQywyKTtjYXNlIDI6cmV0dXJuIEYocCxjLmluaXRpYWxpemUoKSwzKTtjYXNlIDM6ZT1uZXcgYy5oLlBhY2tldERhdGFMaXN0O2c9QyhPYmplY3Qua2V5cyhhKSk7Zm9yKGY9Zy5uZXh0KCk7IWYuZG9uZTtmPWcubmV4dCgpKWlmKGs9Zi52YWx1ZSxoPWMuZy5pbnB1dHNba10pe2E6e3ZhciBtPWFba107c3dpdGNoKGgudHlwZSl7Y2FzZSBcInZpZGVvXCI6dmFyIHE9Yy5tW2guc3RyZWFtXTtxfHwocT1uZXcgJGIoYy5oLGMuRCksYy5tW2guc3RyZWFtXT1xKTswPT09cS5sJiYocS5sPXEuaC5jcmVhdGVUZXh0dXJlKCkpO2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgSFRNTFZpZGVvRWxlbWVudCYmXG5tIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCl7dmFyIHQ9bS52aWRlb1dpZHRoO3ZhciB3PW0udmlkZW9IZWlnaHR9ZWxzZVwidW5kZWZpbmVkXCIhPT10eXBlb2YgSFRNTEltYWdlRWxlbWVudCYmbSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnQ/KHQ9bS5uYXR1cmFsV2lkdGgsdz1tLm5hdHVyYWxIZWlnaHQpOih0PW0ud2lkdGgsdz1tLmhlaWdodCk7dz17Z2xOYW1lOnEubCx3aWR0aDp0LGhlaWdodDp3fTt0PXEuZzt0LmNhbnZhcy53aWR0aD13LndpZHRoO3QuY2FudmFzLmhlaWdodD13LmhlaWdodDt0LmFjdGl2ZVRleHR1cmUodC5URVhUVVJFMCk7cS5oLmJpbmRUZXh0dXJlMmQocS5sKTt0LnRleEltYWdlMkQodC5URVhUVVJFXzJELDAsdC5SR0JBLHQuUkdCQSx0LlVOU0lHTkVEX0JZVEUsbSk7cS5oLmJpbmRUZXh0dXJlMmQoMCk7cT13O2JyZWFrIGE7Y2FzZSBcImRldGVjdGlvbnNcIjpxPWMubVtoLnN0cmVhbV07cXx8KHE9bmV3IGNjKGMuaCksYy5tW2guc3RyZWFtXT1xKTtcbnEuZGF0YXx8KHEuZGF0YT1uZXcgcS5nLkRldGVjdGlvbkxpc3REYXRhKTtxLmRhdGEucmVzZXQobS5sZW5ndGgpO2Zvcih3PTA7dzxtLmxlbmd0aDsrK3cpe3Q9bVt3XTt2YXIgdj1xLmRhdGEsQT12LnNldEJvdW5kaW5nQm94LEk9dzt2YXIgRD10LlQ7dmFyIHU9bmV3IFNiO1YodSwxLEQuWCk7Vih1LDIsRC5ZKTtWKHUsMyxELmhlaWdodCk7Vih1LDQsRC53aWR0aCk7Vih1LDUsRC5yb3RhdGlvbik7Vih1LDYsRC5XKTtEPXdiKHUsVWIpO0EuY2FsbCh2LEksRCk7aWYodC5PKWZvcih2PTA7djx0Lk8ubGVuZ3RoOysrdil7dT10Lk9bdl07dmFyIHo9dS52aXNpYmlsaXR5PyEwOiExO0E9cS5kYXRhO0k9QS5hZGROb3JtYWxpemVkTGFuZG1hcms7RD13O3U9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHUpLHt2aXNpYmlsaXR5Ono/dS52aXNpYmlsaXR5OjB9KTt6PW5ldyBLYjtWKHosMSx1LngpO1YoeiwyLHUueSk7Vih6LDMsdS56KTt1LnZpc2liaWxpdHkmJlYoeiw0LHUudmlzaWJpbGl0eSk7XG51PXdiKHosTWIpO0kuY2FsbChBLEQsdSl9aWYodC5NKWZvcih2PTA7djx0Lk0ubGVuZ3RoOysrdilBPXEuZGF0YSxJPUEuYWRkQ2xhc3NpZmljYXRpb24sRD13LHU9dC5NW3ZdLHo9bmV3IENiLFYoeiwyLHUuc2NvcmUpLHUuaW5kZXgmJlYoeiwxLHUuaW5kZXgpLHUubGFiZWwmJlYoeiwzLHUubGFiZWwpLHUuZGlzcGxheU5hbWUmJlYoeiw0LHUuZGlzcGxheU5hbWUpLHU9d2IoeixFYiksSS5jYWxsKEEsRCx1KX1xPXEuZGF0YTticmVhayBhO2RlZmF1bHQ6cT17fX19bD1xO249aC5zdHJlYW07c3dpdGNoKGgudHlwZSl7Y2FzZSBcInZpZGVvXCI6ZS5wdXNoVGV4dHVyZTJkKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxsKSx7c3RyZWFtOm4sdGltZXN0YW1wOmR9KSk7YnJlYWs7Y2FzZSBcImRldGVjdGlvbnNcIjpyPWw7ci5zdHJlYW09bjtyLnRpbWVzdGFtcD1kO2UucHVzaERldGVjdGlvbkxpc3Qocik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcIlVua25vd24gaW5wdXQgY29uZmlnIHR5cGU6ICdcIitcbmgudHlwZStcIidcIik7fX1jLmkuc2VuZChlKTtyZXR1cm4gRihwLGMuQyw0KTtjYXNlIDQ6ZS5kZWxldGUoKSxwLmc9MH19KX07XG5mdW5jdGlvbiBvYyhhLGIsYyl7dmFyIGQsZSxnLGYsayxoLGwsbixyLHAsbSxxLHQsdztyZXR1cm4gSChmdW5jdGlvbih2KXtzd2l0Y2godi5nKXtjYXNlIDE6aWYoIWMpcmV0dXJuIHYucmV0dXJuKGIpO2Q9e307ZT0wO2c9QyhPYmplY3Qua2V5cyhjKSk7Zm9yKGY9Zy5uZXh0KCk7IWYuZG9uZTtmPWcubmV4dCgpKWs9Zi52YWx1ZSxoPWNba10sXCJzdHJpbmdcIiE9PXR5cGVvZiBoJiZcInRleHR1cmVcIj09PWgudHlwZSYmdm9pZCAwIT09YltoLnN0cmVhbV0mJisrZTsxPGUmJihhLkc9ITEpO2w9QyhPYmplY3Qua2V5cyhjKSk7Zj1sLm5leHQoKTtjYXNlIDI6aWYoZi5kb25lKXt2Lmc9NDticmVha31uPWYudmFsdWU7cj1jW25dO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgcilyZXR1cm4gdD1kLHc9bixGKHYscGMoYSxuLGJbcl0pLDE0KTtwPWJbci5zdHJlYW1dO2lmKFwiZGV0ZWN0aW9uX2xpc3RcIj09PXIudHlwZSl7aWYocCl7dmFyIEE9cC5nZXRSZWN0TGlzdCgpO2Zvcih2YXIgST1wLmdldExhbmRtYXJrc0xpc3QoKSxcbkQ9cC5nZXRDbGFzc2lmaWNhdGlvbnNMaXN0KCksdT1bXSx6PTA7ejxBLnNpemUoKTsrK3ope3ZhciBSPXhiKEEuZ2V0KHopLFNiLFZiKTtSPXtUOntYOlcoUiwxKSxZOlcoUiwyKSxoZWlnaHQ6VyhSLDMpLHdpZHRoOlcoUiw0KSxyb3RhdGlvbjpXKFIsNSwwKSxXOnJiKFIsNil9LE86cGIoeGIoSS5nZXQoeiksT2IsUmIpLEtiLDEpLm1hcChZYiksTTpYYih4YihELmdldCh6KSxHYixKYikpfTt1LnB1c2goUil9QT11fWVsc2UgQT1bXTtkW25dPUE7di5nPTc7YnJlYWt9aWYoXCJwcm90b19saXN0XCI9PT1yLnR5cGUpe2lmKHApe0E9QXJyYXkocC5zaXplKCkpO2ZvcihJPTA7STxwLnNpemUoKTtJKyspQVtJXT1wLmdldChJKTtwLmRlbGV0ZSgpfWVsc2UgQT1bXTtkW25dPUE7di5nPTc7YnJlYWt9aWYodm9pZCAwPT09cCl7di5nPTM7YnJlYWt9aWYoXCJmbG9hdF9saXN0XCI9PT1yLnR5cGUpe2Rbbl09cDt2Lmc9NzticmVha31pZihcInByb3RvXCI9PT1yLnR5cGUpe2Rbbl09cDt2Lmc9NzticmVha31pZihcInRleHR1cmVcIiE9PVxuci50eXBlKXRocm93IEVycm9yKFwiVW5rbm93biBvdXRwdXQgY29uZmlnIHR5cGU6ICdcIityLnR5cGUrXCInXCIpO209YS5zW25dO218fChtPW5ldyAkYihhLmgsYS5EKSxhLnNbbl09bSk7cmV0dXJuIEYodixhYyhtLHAsYS5HKSwxMyk7Y2FzZSAxMzpxPXYuaCxkW25dPXE7Y2FzZSA3OnIudHJhbnNmb3JtJiZkW25dJiYoZFtuXT1yLnRyYW5zZm9ybShkW25dKSk7di5nPTM7YnJlYWs7Y2FzZSAxNDp0W3ddPXYuaDtjYXNlIDM6Zj1sLm5leHQoKTt2Lmc9MjticmVhaztjYXNlIDQ6cmV0dXJuIHYucmV0dXJuKGQpfX0pfVxuZnVuY3Rpb24gcGMoYSxiLGMpe3ZhciBkO3JldHVybiBIKGZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PT10eXBlb2YgY3x8YyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXl8fGMgaW5zdGFuY2VvZiBhLmguVWludDhCbG9iTGlzdD9lLnJldHVybihjKTpjIGluc3RhbmNlb2YgYS5oLlRleHR1cmUyZERhdGFPdXQ/KGQ9YS5zW2JdLGR8fChkPW5ldyAkYihhLmgsYS5EKSxhLnNbYl09ZCksZS5yZXR1cm4oYWMoZCxjLGEuRykpKTplLnJldHVybih2b2lkIDApfSl9XG5mdW5jdGlvbiBtYyhhLGIpe2Zvcih2YXIgYz1iLm5hbWV8fFwiJFwiLGQ9W10uY29uY2F0KGVhKGIud2FudHMpKSxlPW5ldyBhLmguU3RyaW5nTGlzdCxnPUMoYi53YW50cyksZj1nLm5leHQoKTshZi5kb25lO2Y9Zy5uZXh0KCkpZS5wdXNoX2JhY2soZi52YWx1ZSk7Zz1hLmguUGFja2V0TGlzdGVuZXIuaW1wbGVtZW50KHtvblJlc3VsdHM6ZnVuY3Rpb24oayl7Zm9yKHZhciBoPXt9LGw9MDtsPGIud2FudHMubGVuZ3RoOysrbCloW2RbbF1dPWsuZ2V0KGwpO3ZhciBuPWEubGlzdGVuZXJzW2NdO24mJihhLkM9b2MoYSxoLGIub3V0cykudGhlbihmdW5jdGlvbihyKXtyPW4ocik7Zm9yKHZhciBwPTA7cDxiLndhbnRzLmxlbmd0aDsrK3Ape3ZhciBtPWhbZFtwXV07XCJvYmplY3RcIj09PXR5cGVvZiBtJiZtLmhhc093blByb3BlcnR5JiZtLmhhc093blByb3BlcnR5KFwiZGVsZXRlXCIpJiZtLmRlbGV0ZSgpfXImJihhLkM9cil9KSl9fSk7YS5pLmF0dGFjaE11bHRpTGlzdGVuZXIoZSxnKTtlLmRlbGV0ZSgpfVxueC5vblJlc3VsdHM9ZnVuY3Rpb24oYSxiKXt0aGlzLmxpc3RlbmVyc1tifHxcIiRcIl09YX07SihcIlNvbHV0aW9uXCIsaWMpO0ooXCJPcHRpb25UeXBlXCIse0JPT0w6MCxOVU1CRVI6MSxaOjIsMDpcIkJPT0xcIiwxOlwiTlVNQkVSXCIsMjpcIlNUUklOR1wifSk7ZnVuY3Rpb24gcWMoYSl7dm9pZCAwPT09YSYmKGE9MCk7cmV0dXJuIDE9PT1hP1wiaGFuZF9sYW5kbWFya19mdWxsLnRmbGl0ZVwiOlwiaGFuZF9sYW5kbWFya19saXRlLnRmbGl0ZVwifVxuZnVuY3Rpb24gcmMoYSl7dmFyIGI9dGhpczthPWF8fHt9O3RoaXMuZz1uZXcgaWMoe2xvY2F0ZUZpbGU6YS5sb2NhdGVGaWxlLGZpbGVzOmZ1bmN0aW9uKGMpe3JldHVyblt7dXJsOlwiaGFuZHNfc29sdXRpb25fcGFja2VkX2Fzc2V0c19sb2FkZXIuanNcIn0se3NpbWQ6ITEsdXJsOlwiaGFuZHNfc29sdXRpb25fd2FzbV9iaW4uanNcIn0se3NpbWQ6ITAsdXJsOlwiaGFuZHNfc29sdXRpb25fc2ltZF93YXNtX2Jpbi5qc1wifSx7ZGF0YTohMCx1cmw6cWMoYy5tb2RlbENvbXBsZXhpdHkpfV19LGdyYXBoOnt1cmw6XCJoYW5kcy5iaW5hcnlwYlwifSxpbnB1dHM6e2ltYWdlOnt0eXBlOlwidmlkZW9cIixzdHJlYW06XCJpbnB1dF9mcmFtZXNfZ3B1XCJ9fSxsaXN0ZW5lcnM6W3t3YW50czpbXCJtdWx0aV9oYW5kX2xhbmRtYXJrc1wiLFwibXVsdGlfaGFuZF93b3JsZF9sYW5kbWFya3NcIixcImltYWdlX3RyYW5zZm9ybWVkXCIsXCJtdWx0aV9oYW5kZWRuZXNzXCJdLG91dHM6e2ltYWdlOlwiaW1hZ2VfdHJhbnNmb3JtZWRcIixcbm11bHRpSGFuZExhbmRtYXJrczp7dHlwZTpcInByb3RvX2xpc3RcIixzdHJlYW06XCJtdWx0aV9oYW5kX2xhbmRtYXJrc1wiLHRyYW5zZm9ybTpaYn0sbXVsdGlIYW5kV29ybGRMYW5kbWFya3M6e3R5cGU6XCJwcm90b19saXN0XCIsc3RyZWFtOlwibXVsdGlfaGFuZF93b3JsZF9sYW5kbWFya3NcIix0cmFuc2Zvcm06WmJ9LG11bHRpSGFuZGVkbmVzczp7dHlwZTpcInByb3RvX2xpc3RcIixzdHJlYW06XCJtdWx0aV9oYW5kZWRuZXNzXCIsdHJhbnNmb3JtOmZ1bmN0aW9uKGMpe3JldHVybiBjLm1hcChmdW5jdGlvbihkKXtyZXR1cm4gWGIoeGIoZCxHYixKYikpWzBdfSl9fX19XSxvcHRpb25zOnt1c2VDcHVJbmZlcmVuY2U6e3R5cGU6MCxncmFwaE9wdGlvblhyZWY6e2NhbGN1bGF0b3JUeXBlOlwiSW5mZXJlbmNlQ2FsY3VsYXRvclwiLGZpZWxkTmFtZTpcInVzZV9jcHVfaW5mZXJlbmNlXCJ9LGRlZmF1bHQ6XCJpUGFkIFNpbXVsYXRvcjtpUGhvbmUgU2ltdWxhdG9yO2lQb2QgU2ltdWxhdG9yO2lQYWQ7aVBob25lO2lQb2RcIi5zcGxpdChcIjtcIikuaW5jbHVkZXMobmF2aWdhdG9yLnBsYXRmb3JtKXx8XG5uYXZpZ2F0b3IudXNlckFnZW50LmluY2x1ZGVzKFwiTWFjXCIpJiZcIm9udG91Y2hlbmRcImluIGRvY3VtZW50fSxzZWxmaWVNb2RlOnt0eXBlOjAsZ3JhcGhPcHRpb25YcmVmOntjYWxjdWxhdG9yVHlwZTpcIkdsU2NhbGVyQ2FsY3VsYXRvclwiLGNhbGN1bGF0b3JJbmRleDoxLGZpZWxkTmFtZTpcImZsaXBfaG9yaXpvbnRhbFwifX0sbWF4TnVtSGFuZHM6e3R5cGU6MSxncmFwaE9wdGlvblhyZWY6e2NhbGN1bGF0b3JUeXBlOlwiQ29uc3RhbnRTaWRlUGFja2V0Q2FsY3VsYXRvclwiLGNhbGN1bGF0b3JOYW1lOlwiQ29uc3RhbnRTaWRlUGFja2V0Q2FsY3VsYXRvclwiLGZpZWxkTmFtZTpcImludF92YWx1ZVwifX0sbW9kZWxDb21wbGV4aXR5Ont0eXBlOjEsZ3JhcGhPcHRpb25YcmVmOntjYWxjdWxhdG9yVHlwZTpcIkNvbnN0YW50U2lkZVBhY2tldENhbGN1bGF0b3JcIixjYWxjdWxhdG9yTmFtZTpcIkNvbnN0YW50U2lkZVBhY2tldENhbGN1bGF0b3JNb2RlbENvbXBsZXhpdHlcIixmaWVsZE5hbWU6XCJpbnRfdmFsdWVcIn0sXG5vbkNoYW5nZTpmdW5jdGlvbihjKXt2YXIgZCxlLGc7cmV0dXJuIEgoZnVuY3Rpb24oZil7aWYoMT09Zi5nKXJldHVybiBkPXFjKGMpLGU9XCJ0aGlyZF9wYXJ0eS9tZWRpYXBpcGUvbW9kdWxlcy9oYW5kX2xhbmRtYXJrL1wiK2QsRihmLGtjKGIuZyxkKSwyKTtnPWYuaDtiLmcub3ZlcnJpZGVGaWxlKGUsZyk7cmV0dXJuIGYucmV0dXJuKCEwKX0pfX0sbWluRGV0ZWN0aW9uQ29uZmlkZW5jZTp7dHlwZToxLGdyYXBoT3B0aW9uWHJlZjp7Y2FsY3VsYXRvclR5cGU6XCJUZW5zb3JzVG9EZXRlY3Rpb25zQ2FsY3VsYXRvclwiLGNhbGN1bGF0b3JOYW1lOlwiaGFuZGxhbmRtYXJrdHJhY2tpbmdncHVfX3BhbG1kZXRlY3Rpb25ncHVfX1RlbnNvcnNUb0RldGVjdGlvbnNDYWxjdWxhdG9yXCIsZmllbGROYW1lOlwibWluX3Njb3JlX3RocmVzaFwifX0sbWluVHJhY2tpbmdDb25maWRlbmNlOnt0eXBlOjEsZ3JhcGhPcHRpb25YcmVmOntjYWxjdWxhdG9yVHlwZTpcIlRocmVzaG9sZGluZ0NhbGN1bGF0b3JcIixjYWxjdWxhdG9yTmFtZTpcImhhbmRsYW5kbWFya3RyYWNraW5nZ3B1X19oYW5kbGFuZG1hcmtncHVfX1RocmVzaG9sZGluZ0NhbGN1bGF0b3JcIixcbmZpZWxkTmFtZTpcInRocmVzaG9sZFwifX19fSl9eD1yYy5wcm90b3R5cGU7eC5jbG9zZT1mdW5jdGlvbigpe3RoaXMuZy5jbG9zZSgpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX07eC5vblJlc3VsdHM9ZnVuY3Rpb24oYSl7dGhpcy5nLm9uUmVzdWx0cyhhKX07eC5pbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gSChmdW5jdGlvbihiKXtyZXR1cm4gRihiLGEuZy5pbml0aWFsaXplKCksMCl9KX07eC5yZXNldD1mdW5jdGlvbigpe3RoaXMuZy5yZXNldCgpfTt4LnNlbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gSChmdW5jdGlvbihjKXtyZXR1cm4gRihjLGIuZy5zZW5kKGEpLDApfSl9O3guc2V0T3B0aW9ucz1mdW5jdGlvbihhKXt0aGlzLmcuc2V0T3B0aW9ucyhhKX07SihcIkhhbmRzXCIscmMpO1xuSihcIkhBTkRfQ09OTkVDVElPTlNcIixbWzAsMV0sWzEsMl0sWzIsM10sWzMsNF0sWzAsNV0sWzUsNl0sWzYsN10sWzcsOF0sWzUsOV0sWzksMTBdLFsxMCwxMV0sWzExLDEyXSxbOSwxM10sWzEzLDE0XSxbMTQsMTVdLFsxNSwxNl0sWzEzLDE3XSxbMCwxN10sWzE3LDE4XSxbMTgsMTldLFsxOSwyMF1dKTtKKFwiVkVSU0lPTlwiLFwiMC40LjE2MzU5ODY5NzJcIik7fSkuY2FsbCh0aGlzKTtcbiIsImltcG9ydCB7IExBTkRNQVJLX0lOREVYIH0gZnJvbSBcIi4vaGFuZHNVdGlsXCI7XHJcbnZhciBob3Jpem9udGFsTXNnRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaG9yaXpvbnRhbE1lc3NhZ2VCb3hcIik7XHJcbnZhciB2ZXJ0aWNhbE1zZ0VsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZlcnRpY2FsTWVzc2FnZUJveFwiKTtcclxudmFyIGRlcHRoTXNnRWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVwdGhNZXNzYWdlQm94XCIpO1xyXG4vKipcclxuICogVXNlIHRoZSBIYW5kVHJhY2tlcidzIGRhdGEgYW5kIG1hbmlwdWxhdGUgdGhlIHNjZW5lIHVzaW5nIGl0LlxyXG4gKi9cclxudmFyIENvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDb250cm9sbGVyKCkge1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGUgdGhlIG9uUmVzdWx0cyBldmVudCBvZiB0aGUgSGFuZHMgdHJhY2tlci5cclxuICAgICAqIEBwYXJhbSByZXN1bHRzIHRoZSByZXN1bHQgb2YgdGhlIGRhdGEgcGFyc2luZy5cclxuICAgICAqIEBwYXJhbSBwcmV2UmVzdWx0cyB0aGUgcmVzdWx0IG9mIHRoZSBkYXRhIHBhcnNpbmcuXHJcbiAgICAgKi9cclxuICAgIENvbnRyb2xsZXIucHJvdG90eXBlLm9uUmVzdWx0c0NhbGxiYWNrID0gZnVuY3Rpb24gKHJlc3VsdHMsIHByZXZSZXN1bHRzKSB7XHJcbiAgICAgICAgdmFyIGhvcml6b250YWxNc2cgPSBcIk5PTkVcIjtcclxuICAgICAgICB2YXIgdmVydGljYWxNc2cgPSBcIk5PTkVcIjtcclxuICAgICAgICB2YXIgZGVwdGhNc2cgPSBcIk5PTkVcIjtcclxuICAgICAgICBpZiAocmVzdWx0cy5tdWx0aUhhbmRMYW5kbWFya3MgJiYgcmVzdWx0cy5tdWx0aUhhbmRMYW5kbWFya3MubGVuZ3RoICE9IDApIHtcclxuICAgICAgICAgICAgLy8gb25seSBjYXJlIGFib3V0IDEgaGFuZFxyXG4gICAgICAgICAgICB2YXIgaGFuZCA9IHJlc3VsdHMubXVsdGlIYW5kTGFuZG1hcmtzWzBdO1xyXG4gICAgICAgICAgICBpZiAocHJldlJlc3VsdHMgJiYgcHJldlJlc3VsdHMubXVsdGlIYW5kTGFuZG1hcmtzLmxlbmd0aCAhPSAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJldkhhbmQgPSBwcmV2UmVzdWx0cy5tdWx0aUhhbmRMYW5kbWFya3NbMF07XHJcbiAgICAgICAgICAgICAgICAvLyBoYXMgdG8gZmxpcCBob3Jpem9udGFsIGZvb3RhZ2Ugc2luY2UgY2FtZXJhIGZsaXBzIHRoZSB2aWV3XHJcbiAgICAgICAgICAgICAgICB2YXIgaG9yaXpvbnRhbERlbHRhID0gLXRoaXMuZ2V0RGVsdGEoaGFuZFtMQU5ETUFSS19JTkRFWC5XUklTVF0ueCwgcHJldkhhbmRbTEFORE1BUktfSU5ERVguV1JJU1RdLngpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGhvcml6b250YWxEZWx0YSA9PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgIGhvcml6b250YWxNc2cgPSBcIlNUQVlcIjtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGhvcml6b250YWxEZWx0YSA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbE1zZyA9IFwiUklHSFRcIjtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsTXNnID0gXCJMRUZUXCI7XHJcbiAgICAgICAgICAgICAgICAvLyBoYXMgdG8gZmxpcCB2ZXJ0aWNhbCBmb290YWdlIHNpbmNlIGltYWdlIHktYXhpcyBydW4gdG9wIHRvIGJvdHRvbSAoaW5jcmVhc2UgZG93bndhcmQgbGlrZSBqcylcclxuICAgICAgICAgICAgICAgIHZhciB2ZXJ0aWNhbERlbHRhID0gLXRoaXMuZ2V0RGVsdGEoaGFuZFtMQU5ETUFSS19JTkRFWC5XUklTVF0ueSwgcHJldkhhbmRbTEFORE1BUktfSU5ERVguV1JJU1RdLnkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZlcnRpY2FsRGVsdGEgPT0gMClcclxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbE1zZyA9IFwiU1RBWVwiO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodmVydGljYWxEZWx0YSA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxNc2cgPSBcIlVQXCI7XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdmVydGljYWxNc2cgPSBcIkRPV05cIjtcclxuICAgICAgICAgICAgICAgIC8vIGNhbid0IHVzZSB3cmlzdCBmb3IgeiBpbmRleFxyXG4gICAgICAgICAgICAgICAgdmFyIGRlcHRoRGVsdGEgPSB0aGlzLmdldERlbHRhKGhhbmRbTEFORE1BUktfSU5ERVguTUlEX0ZJTkdFUl9NQ1BdLnosIHByZXZIYW5kW0xBTkRNQVJLX0lOREVYLk1JRF9GSU5HRVJfTUNQXS56KTtcclxuICAgICAgICAgICAgICAgIGlmIChkZXB0aERlbHRhID09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgZGVwdGhNc2cgPSBcIlNUQVlcIjtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRlcHRoRGVsdGEgPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgIGRlcHRoTXNnID0gXCJUT1dBUkQgVVNFUlwiO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIGRlcHRoTXNnID0gXCJBV0FZIEZST00gVVNFUlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvcml6b250YWxNc2dFbGVtLnRleHRDb250ZW50ID0gaG9yaXpvbnRhbE1zZztcclxuICAgICAgICB2ZXJ0aWNhbE1zZ0VsZW0udGV4dENvbnRlbnQgPSB2ZXJ0aWNhbE1zZztcclxuICAgICAgICBkZXB0aE1zZ0VsZW0udGV4dENvbnRlbnQgPSBkZXB0aE1zZztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIDIgbnVtYmVycy4gQWxzbyByb3VuZCBpdFxyXG4gICAgICogdG8gZGVjaW1hbFBsYWNlLlxyXG4gICAgICogQHBhcmFtIGEsIHRoZSBmaXJzdCBudW1iZXIuXHJcbiAgICAgKiBAcGFyYW0gYiwgdGhlIHNlY29uZCBudW1iZXIuXHJcbiAgICAgKiBAcGFyYW0gZGVjaW1hbFBsYWNlLCBob3cgbXVjaCB3ZSBhcmUgcm91bmRpbmcgdGhlIGRlbHRhIHJlc3VsdC5cclxuICAgICAqIERlZmF1bHQgdG8gMiBkZWNpbWFsIHBsYWNlLlxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0RGVsdGEgPSBmdW5jdGlvbiAoYSwgYiwgZGVjaW1hbFBsYWNlKSB7XHJcbiAgICAgICAgaWYgKGRlY2ltYWxQbGFjZSA9PT0gdm9pZCAwKSB7IGRlY2ltYWxQbGFjZSA9IDI7IH1cclxuICAgICAgICB2YXIgZGVsdGEgPSBhIC0gYjtcclxuICAgICAgICAvLyByb3VuZCB0byB4IGRlY2ltYWwgcGxhY2UsIHNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTE4MzI5NTAvMTE2ODM2MzdcclxuICAgICAgICB2YXIgZGVjaW1hbENvbnZlcnRvciA9IE1hdGgucG93KDEwLCBkZWNpbWFsUGxhY2UpO1xyXG4gICAgICAgIGRlbHRhID0gTWF0aC5yb3VuZChkZWx0YSAqIGRlY2ltYWxDb252ZXJ0b3IpIC8gZGVjaW1hbENvbnZlcnRvcjtcclxuICAgICAgICByZXR1cm4gZGVsdGE7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJzY3JpYmUgdG8gdGhlIEhhbmRUcmFja2VyIG9iamVjdC5cclxuICAgICAqIEBwYXJhbSB0cmFja2VyIGEgSGFuZFRyYWNrZXIgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAodHJhY2tlcikge1xyXG4gICAgICAgIHRyYWNrZXIuYWRkTGlzdGVuZXIodGhpcy5vblJlc3VsdHNDYWxsYmFjay5iaW5kKHRoaXMpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ29udHJvbGxlcjtcclxufSgpKTtcclxuZXhwb3J0IHsgQ29udHJvbGxlciB9O1xyXG4iLCJpbXBvcnQgeyBIYW5kcyB9IGZyb20gXCJAbWVkaWFwaXBlL2hhbmRzXCI7XHJcbi8qKlxyXG4gKiBUcmFjayB0aGUgaGFuZHMgdXNpbmcgdGhlIE1lZGlhUGlwZSBIYW5kcyB0aGVuIHByZXByb2Nlc3NcclxuICogaXQgdG8gaW50ZXByZXQgZ2VzdHVyZXMuXHJcbiAqL1xyXG52YXIgSGFuZFRyYWNrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBIYW5kVHJhY2tlcigpIHtcclxuICAgICAgICB2YXIgaGFuZHMgPSBuZXcgSGFuZHMoeyBsb2NhdGVGaWxlOiBmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYnVpbGQvbGlicy9cIi5jb25jYXQoZmlsZSk7XHJcbiAgICAgICAgICAgIH0gfSk7XHJcbiAgICAgICAgaGFuZHMuc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgIG1heE51bUhhbmRzOiAxLFxyXG4gICAgICAgICAgICBtb2RlbENvbXBsZXhpdHk6IDEsXHJcbiAgICAgICAgICAgIG1pbkRldGVjdGlvbkNvbmZpZGVuY2U6IDAuNSxcclxuICAgICAgICAgICAgbWluVHJhY2tpbmdDb25maWRlbmNlOiAwLjVcclxuICAgICAgICB9KTtcclxuICAgICAgICBoYW5kcy5vblJlc3VsdHModGhpcy5vblJlc3VsdHNDYWxsYmFjay5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLmhhbmRzID0gaGFuZHM7XHJcbiAgICAgICAgdGhpcy5wcmV2UmVzdWx0cyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIHRoZSBvblJlc3VsdHMgZXZlbnQgb2YgdGhlIEhhbmRzIHRyYWNrZXIuXHJcbiAgICAgKi9cclxuICAgIEhhbmRUcmFja2VyLnByb3RvdHlwZS5vblJlc3VsdHNDYWxsYmFjayA9IGZ1bmN0aW9uIChyZXN1bHRzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikgeyByZXR1cm4gbGlzdGVuZXIocmVzdWx0cywgX3RoaXMucHJldlJlc3VsdHMpOyB9KTtcclxuICAgICAgICB0aGlzLnByZXZSZXN1bHRzID0gcmVzdWx0cztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZCBhIExpc3RlbmVyIHRvIHRoZSBIYW5kVHJhY2tlci5cclxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBhIG5ldyBsaXN0ZW5lci5cclxuICAgICAqL1xyXG4gICAgSGFuZFRyYWNrZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEhhbmRUcmFja2VyO1xyXG59KCkpO1xyXG5leHBvcnQgeyBIYW5kVHJhY2tlciB9O1xyXG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufTtcclxuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIkBtZWRpYXBpcGUvY2FtZXJhX3V0aWxzXCI7XHJcbnZhciBGUFNFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmcHNcIik7XHJcbnZhciBTVEVQU19QRVJfU0VDID0gMTA7XHJcbnZhciBVUERBVEVfU1RFUF9JTl9TRUMgPSAxMDAwIC8gU1RFUFNfUEVSX1NFQztcclxuLyoqXHJcbiAqIEhhbmRsZSB3b3JrIHJlbGF0ZWQgdG8gdGhlIGNhbWVyYS5cclxuICovXHJcbnZhciBJbnB1dFNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIElucHV0U291cmNlKCkge1xyXG4gICAgICAgIHRoaXMudmlkZW9FbGVtZW50ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNhbWVyYSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmZwcyA9IDA7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzZWRGcmFtZSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0IHRoZSBjYW1lcmEuXHJcbiAgICAgKiBUaGlzIGlzIHRha2VuIGZyb20gdGhlIGNhbWVyYSB1dGlsIHNjcmlwdFxyXG4gICAgICogYW5kIHJlbGllcyBvbiBoYXZpbmcgYSB2aWRlbyBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gdHJhY2tlciB0aGUgSGFuZHMgdHJhY2tlci5cclxuICAgICAqL1xyXG4gICAgSW5wdXRTb3VyY2UucHJvdG90eXBlLmluaXRDYW1lcmEgPSBmdW5jdGlvbiAodHJhY2tlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gbmVlZCB0byBpbml0IGEgPHZpZGVvPiBlbGVtZW50IGluIHRoZSBET00gZmlyc3RcclxuICAgICAgICBpZiAodGhpcy52aWRlb0VsZW1lbnQgPT0gbnVsbClcclxuICAgICAgICAgICAgdGhpcy5pbml0VmlkZW9FbGVtZW50KCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKHRoaXMudmlkZW9FbGVtZW50LCB7XHJcbiAgICAgICAgICAgIG9uRnJhbWU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIXRoaXMucHJvY2Vzc2VkRnJhbWUpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5mcHMrK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdHJhY2tlci5oYW5kcy5zZW5kKHsgaW1hZ2U6IHRoaXMudmlkZW9FbGVtZW50IH0pXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5mcHMrK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzZWRGcmFtZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTsgfSxcclxuICAgICAgICAgICAgd2lkdGg6IDEyOCxcclxuICAgICAgICAgICAgaGVpZ2h0OiA3MlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIHNldEludGVydmFsKHRoaXMuZGlzcGxheUZQUy5iaW5kKHRoaXMpLCAxMDAwKVxyXG4gICAgICAgIHNldEludGVydmFsKHRoaXMuc2V0UHJvY2Vzc2VkRnJhbWUuYmluZCh0aGlzLCBmYWxzZSksIFVQREFURV9TVEVQX0lOX1NFQyk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgdGhlIHZpZGVvIGVsZW1lbnQgaW4gdGhlIERPTS5cclxuICAgICAqIEBwYXJhbSBoaWRlVmlkIHdoZXRoZXIgdG8gaGlkZSB0aGUgdmlkZW8gZWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgSW5wdXRTb3VyY2UucHJvdG90eXBlLmluaXRWaWRlb0VsZW1lbnQgPSBmdW5jdGlvbiAoaGlkZVZpZCkge1xyXG4gICAgICAgIGlmIChoaWRlVmlkID09PSB2b2lkIDApIHsgaGlkZVZpZCA9IHRydWU7IH1cclxuICAgICAgICB2YXIgdmlkZW9FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO1xyXG4gICAgICAgIGlmIChoaWRlVmlkKVxyXG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKHZpZGVvRWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy52aWRlb0VsZW1lbnQgPSB2aWRlb0VsZW1lbnQ7XHJcbiAgICB9O1xyXG4gICAgSW5wdXRTb3VyY2UucHJvdG90eXBlLmRpc3BsYXlGUFMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgRlBTRWxlbS50ZXh0Q29udGVudCA9IFwiXCIuY29uY2F0KHRoaXMuZnBzKTtcclxuICAgICAgICB0aGlzLmZwcyA9IDA7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgdGhlIG5ldyB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgSW5wdXRTb3VyY2UucHJvdG90eXBlLnNldFByb2Nlc3NlZEZyYW1lID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzZWRGcmFtZSA9IHZhbHVlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogU3RhcnQgZ2V0dGluZyB0aGUgaW5wdXRzLlxyXG4gICAgICovXHJcbiAgICBJbnB1dFNvdXJjZS5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEuc3RhcnQoKTtcclxuICAgICAgICB0aGlzLmlzUnVubmluZyA9IHRydWU7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wIGdldHRpbmcgdGhlIGlucHV0cy5cclxuICAgICAqL1xyXG4gICAgSW5wdXRTb3VyY2UucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEuc3RvcCgpO1xyXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIElucHV0U291cmNlO1xyXG59KCkpO1xyXG5leHBvcnQgeyBJbnB1dFNvdXJjZSB9O1xyXG4iLCJ2YXIgTEFORE1BUktfSU5ERVggPSB7XHJcbiAgICBXUklTVDogMCxcclxuICAgIE1JRF9GSU5HRVJfTUNQOiA5XHJcbn07XHJcbmV4cG9ydCB7IExBTkRNQVJLX0lOREVYIH07XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IElucHV0U291cmNlIH0gZnJvbSBcIi4vSW5wdXRTb3VyY2VcIjtcclxuaW1wb3J0IHsgSGFuZFRyYWNrZXIgfSBmcm9tIFwiLi9IYW5kVHJhY2tlclwiO1xyXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xyXG5tYWluKCk7XHJcbmZ1bmN0aW9uIG1haW4oKSB7XHJcbiAgICB2YXIgdHJhY2tlciA9IG5ldyBIYW5kVHJhY2tlcigpO1xyXG4gICAgdmFyIGlucHV0U291cmNlID0gbmV3IElucHV0U291cmNlKCk7XHJcbiAgICAvLyBmb3IgdGVzdGluZywgZG8gbm90IGhpZGUgdGhlIHZpZGVvXHJcbiAgICBpbnB1dFNvdXJjZS5pbml0VmlkZW9FbGVtZW50KGZhbHNlKTtcclxuICAgIGlucHV0U291cmNlLmluaXRDYW1lcmEodHJhY2tlcik7XHJcbiAgICB2YXIgY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKCk7XHJcbiAgICBjb250cm9sbGVyLnN1YnNjcmliZSh0cmFja2VyKTtcclxuICAgIGlucHV0U291cmNlLnN0YXJ0KCk7XHJcbiAgICB2YXIgY2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJ1bm5pbmdDaGVja2JveFwiKTtcclxuICAgIGNoZWNrYm94LmNoZWNrZWQgPSB0cnVlO1xyXG4gICAgLy8gZm9yIHRlc3RpbmdcclxuICAgIGNoZWNrYm94Lm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaW5wdXRTb3VyY2UuaXNSdW5uaW5nID8gaW5wdXRTb3VyY2Uuc3RvcCgpIDogaW5wdXRTb3VyY2Uuc3RhcnQoKTtcclxuICAgIH07XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9