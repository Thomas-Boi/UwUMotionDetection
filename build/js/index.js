/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@mediapipe/camera_utils/camera_utils.js":
/*!**************************************************************!*\
  !*** ./node_modules/@mediapipe/camera_utils/camera_utils.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';function n(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var q="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,e){if(a==Array.prototype||a==Object.prototype)return a;a[b]=e.value;return a};
function t(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof __webpack_require__.g&&__webpack_require__.g];for(var b=0;b<a.length;++b){var e=a[b];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");}var u=t(this);function v(a,b){if(b)a:{var e=u;a=a.split(".");for(var f=0;f<a.length-1;f++){var h=a[f];if(!(h in e))break a;e=e[h]}a=a[a.length-1];f=e[a];b=b(f);b!=f&&null!=b&&q(e,a,{configurable:!0,writable:!0,value:b})}}
v("Symbol",function(a){function b(l){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new e(f+(l||"")+"_"+h++,l)}function e(l,c){this.g=l;q(this,"description",{configurable:!0,writable:!0,value:c})}if(a)return a;e.prototype.toString=function(){return this.g};var f="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",h=0;return b});
v("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),e=0;e<b.length;e++){var f=u[b[e]];"function"===typeof f&&"function"!=typeof f.prototype[a]&&q(f.prototype,a,{configurable:!0,writable:!0,value:function(){return w(n(this))}})}return a});function w(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function x(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:n(a)}}function y(){this.i=!1;this.g=null;this.o=void 0;this.j=1;this.m=0;this.h=null}function z(a){if(a.i)throw new TypeError("Generator is already running");a.i=!0}y.prototype.l=function(a){this.o=a};function A(a,b){a.h={F:b,G:!0};a.j=a.m}y.prototype.return=function(a){this.h={return:a};this.j=this.m};function B(a){this.g=new y;this.h=a}
function C(a,b){z(a.g);var e=a.g.g;if(e)return D(a,"return"in e?e["return"]:function(f){return{value:f,done:!0}},b,a.g.return);a.g.return(b);return H(a)}function D(a,b,e,f){try{var h=b.call(a.g.g,e);if(!(h instanceof Object))throw new TypeError("Iterator result "+h+" is not an object");if(!h.done)return a.g.i=!1,h;var l=h.value}catch(c){return a.g.g=null,A(a.g,c),H(a)}a.g.g=null;f.call(a.g,l);return H(a)}
function H(a){for(;a.g.j;)try{var b=a.h(a.g);if(b)return a.g.i=!1,{value:b.value,done:!1}}catch(e){a.g.o=void 0,A(a.g,e)}a.g.i=!1;if(a.g.h){b=a.g.h;a.g.h=null;if(b.G)throw b.F;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
function I(a){this.next=function(b){z(a.g);a.g.g?b=D(a,a.g.g.next,b,a.g.l):(a.g.l(b),b=H(a));return b};this.throw=function(b){z(a.g);a.g.g?b=D(a,a.g.g["throw"],b,a.g.l):(A(a.g,b),b=H(a));return b};this.return=function(b){return C(a,b)};this[Symbol.iterator]=function(){return this}}function J(a){function b(f){return a.next(f)}function e(f){return a.throw(f)}return new Promise(function(f,h){function l(c){c.done?f(c.value):Promise.resolve(c.value).then(b,e).then(l,h)}l(a.next())})}
v("Promise",function(a){function b(c){this.h=0;this.i=void 0;this.g=[];this.o=!1;var d=this.j();try{c(d.resolve,d.reject)}catch(g){d.reject(g)}}function e(){this.g=null}function f(c){return c instanceof b?c:new b(function(d){d(c)})}if(a)return a;e.prototype.h=function(c){if(null==this.g){this.g=[];var d=this;this.i(function(){d.l()})}this.g.push(c)};var h=u.setTimeout;e.prototype.i=function(c){h(c,0)};e.prototype.l=function(){for(;this.g&&this.g.length;){var c=this.g;this.g=[];for(var d=0;d<c.length;++d){var g=
c[d];c[d]=null;try{g()}catch(k){this.j(k)}}}this.g=null};e.prototype.j=function(c){this.i(function(){throw c;})};b.prototype.j=function(){function c(k){return function(m){g||(g=!0,k.call(d,m))}}var d=this,g=!1;return{resolve:c(this.A),reject:c(this.l)}};b.prototype.A=function(c){if(c===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(c instanceof b)this.C(c);else{a:switch(typeof c){case "object":var d=null!=c;break a;case "function":d=!0;break a;default:d=!1}d?this.v(c):this.m(c)}};
b.prototype.v=function(c){var d=void 0;try{d=c.then}catch(g){this.l(g);return}"function"==typeof d?this.D(d,c):this.m(c)};b.prototype.l=function(c){this.u(2,c)};b.prototype.m=function(c){this.u(1,c)};b.prototype.u=function(c,d){if(0!=this.h)throw Error("Cannot settle("+c+", "+d+"): Promise already settled in state"+this.h);this.h=c;this.i=d;2===this.h&&this.B();this.H()};b.prototype.B=function(){var c=this;h(function(){if(c.I()){var d=u.console;"undefined"!==typeof d&&d.error(c.i)}},1)};b.prototype.I=
function(){if(this.o)return!1;var c=u.CustomEvent,d=u.Event,g=u.dispatchEvent;if("undefined"===typeof g)return!0;"function"===typeof c?c=new c("unhandledrejection",{cancelable:!0}):"function"===typeof d?c=new d("unhandledrejection",{cancelable:!0}):(c=u.document.createEvent("CustomEvent"),c.initCustomEvent("unhandledrejection",!1,!0,c));c.promise=this;c.reason=this.i;return g(c)};b.prototype.H=function(){if(null!=this.g){for(var c=0;c<this.g.length;++c)l.h(this.g[c]);this.g=null}};var l=new e;b.prototype.C=
function(c){var d=this.j();c.s(d.resolve,d.reject)};b.prototype.D=function(c,d){var g=this.j();try{c.call(d,g.resolve,g.reject)}catch(k){g.reject(k)}};b.prototype.then=function(c,d){function g(p,r){return"function"==typeof p?function(E){try{k(p(E))}catch(F){m(F)}}:r}var k,m,G=new b(function(p,r){k=p;m=r});this.s(g(c,k),g(d,m));return G};b.prototype.catch=function(c){return this.then(void 0,c)};b.prototype.s=function(c,d){function g(){switch(k.h){case 1:c(k.i);break;case 2:d(k.i);break;default:throw Error("Unexpected state: "+
k.h);}}var k=this;null==this.g?l.h(g):this.g.push(g);this.o=!0};b.resolve=f;b.reject=function(c){return new b(function(d,g){g(c)})};b.race=function(c){return new b(function(d,g){for(var k=x(c),m=k.next();!m.done;m=k.next())f(m.value).s(d,g)})};b.all=function(c){var d=x(c),g=d.next();return g.done?f([]):new b(function(k,m){function G(E){return function(F){p[E]=F;r--;0==r&&k(p)}}var p=[],r=0;do p.push(void 0),r++,f(g.value).s(G(p.length-1),m),g=d.next();while(!g.done)})};return b});
var K="function"==typeof Object.assign?Object.assign:function(a,b){for(var e=1;e<arguments.length;e++){var f=arguments[e];if(f)for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(a[h]=f[h])}return a};v("Object.assign",function(a){return a||K});var L=this||self;var M={facingMode:"user",width:640,height:480};function N(a,b){this.video=a;this.i=0;this.h=Object.assign(Object.assign({},M),b)}N.prototype.stop=function(){var a=this,b,e,f,h;return J(new I(new B(function(l){if(a.g){b=a.g.getTracks();e=x(b);for(f=e.next();!f.done;f=e.next())h=f.value,h.stop();a.g=void 0}l.j=0})))};
N.prototype.start=function(){var a=this,b;return J(new I(new B(function(e){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists.");b=a.h;return e.return(navigator.mediaDevices.getUserMedia({video:{facingMode:b.facingMode,width:b.width,height:b.height}}).then(function(f){O(a,f)}).catch(function(f){var h="Failed to acquire camera feed: "+f;console.error(h);alert(h);throw f;}))})))};
function P(a){window.requestAnimationFrame(function(){Q(a)})}function O(a,b){a.g=b;a.video.srcObject=b;a.video.onloadedmetadata=function(){a.video.play();P(a)}}function Q(a){var b=null;a.video.paused||a.video.currentTime===a.i||(a.i=a.video.currentTime,b=a.h.onFrame());b?b.then(function(){P(a)}):P(a)}var R=["Camera"],S=L;R[0]in S||"undefined"==typeof S.execScript||S.execScript("var "+R[0]);
for(var T;R.length&&(T=R.shift());)R.length||void 0===N?S[T]&&S[T]!==Object.prototype[T]?S=S[T]:S=S[T]={}:S[T]=N;}).call(this);


/***/ }),

/***/ "./node_modules/@mediapipe/hands/hands.js":
/*!************************************************!*\
  !*** ./node_modules/@mediapipe/hands/hands.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var x;function aa(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}var ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof __webpack_require__.g&&__webpack_require__.g];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var y=ca(this);function B(a,b){if(b)a:{var c=y;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}
B("Symbol",function(a){function b(g){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new c(d+(g||"")+"_"+e++,g)}function c(g,f){this.g=g;ba(this,"description",{configurable:!0,writable:!0,value:f})}if(a)return a;c.prototype.toString=function(){return this.g};var d="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",e=0;return b});
B("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=y[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&ba(d.prototype,a,{configurable:!0,writable:!0,value:function(){return da(aa(this))}})}return a});function da(a){a={next:a};a[Symbol.iterator]=function(){return this};return a}
function C(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}}function ea(a){if(!(a instanceof Array)){a=C(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a}var fa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ha;
if("function"==typeof Object.setPrototypeOf)ha=Object.setPrototypeOf;else{var ia;a:{var ja={a:!0},ka={};try{ka.__proto__=ja;ia=ka.a;break a}catch(a){}ia=!1}ha=ia?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var la=ha;
function E(a,b){a.prototype=fa(b.prototype);a.prototype.constructor=a;if(la)la(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.da=b.prototype}function ma(){this.l=!1;this.i=null;this.h=void 0;this.g=1;this.s=this.m=0;this.j=null}function na(a){if(a.l)throw new TypeError("Generator is already running");a.l=!0}ma.prototype.o=function(a){this.h=a};
function oa(a,b){a.j={U:b,V:!0};a.g=a.m||a.s}ma.prototype.return=function(a){this.j={return:a};this.g=this.s};function F(a,b,c){a.g=c;return{value:b}}function pa(a){this.g=new ma;this.h=a}function qa(a,b){na(a.g);var c=a.g.i;if(c)return ra(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.g.return);a.g.return(b);return G(a)}
function ra(a,b,c,d){try{var e=b.call(a.g.i,c);if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object");if(!e.done)return a.g.l=!1,e;var g=e.value}catch(f){return a.g.i=null,oa(a.g,f),G(a)}a.g.i=null;d.call(a.g,g);return G(a)}function G(a){for(;a.g.g;)try{var b=a.h(a.g);if(b)return a.g.l=!1,{value:b.value,done:!1}}catch(c){a.g.h=void 0,oa(a.g,c)}a.g.l=!1;if(a.g.j){b=a.g.j;a.g.j=null;if(b.V)throw b.U;return{value:b.return,done:!0}}return{value:void 0,done:!0}}
function sa(a){this.next=function(b){na(a.g);a.g.i?b=ra(a,a.g.i.next,b,a.g.o):(a.g.o(b),b=G(a));return b};this.throw=function(b){na(a.g);a.g.i?b=ra(a,a.g.i["throw"],b,a.g.o):(oa(a.g,b),b=G(a));return b};this.return=function(b){return qa(a,b)};this[Symbol.iterator]=function(){return this}}function ta(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function g(f){f.done?d(f.value):Promise.resolve(f.value).then(b,c).then(g,e)}g(a.next())})}
function H(a){return ta(new sa(new pa(a)))}
B("Promise",function(a){function b(f){this.h=0;this.i=void 0;this.g=[];this.o=!1;var k=this.j();try{f(k.resolve,k.reject)}catch(h){k.reject(h)}}function c(){this.g=null}function d(f){return f instanceof b?f:new b(function(k){k(f)})}if(a)return a;c.prototype.h=function(f){if(null==this.g){this.g=[];var k=this;this.i(function(){k.l()})}this.g.push(f)};var e=y.setTimeout;c.prototype.i=function(f){e(f,0)};c.prototype.l=function(){for(;this.g&&this.g.length;){var f=this.g;this.g=[];for(var k=0;k<f.length;++k){var h=
f[k];f[k]=null;try{h()}catch(l){this.j(l)}}}this.g=null};c.prototype.j=function(f){this.i(function(){throw f;})};b.prototype.j=function(){function f(l){return function(n){h||(h=!0,l.call(k,n))}}var k=this,h=!1;return{resolve:f(this.C),reject:f(this.l)}};b.prototype.C=function(f){if(f===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(f instanceof b)this.F(f);else{a:switch(typeof f){case "object":var k=null!=f;break a;case "function":k=!0;break a;default:k=!1}k?this.v(f):this.m(f)}};
b.prototype.v=function(f){var k=void 0;try{k=f.then}catch(h){this.l(h);return}"function"==typeof k?this.G(k,f):this.m(f)};b.prototype.l=function(f){this.s(2,f)};b.prototype.m=function(f){this.s(1,f)};b.prototype.s=function(f,k){if(0!=this.h)throw Error("Cannot settle("+f+", "+k+"): Promise already settled in state"+this.h);this.h=f;this.i=k;2===this.h&&this.D();this.A()};b.prototype.D=function(){var f=this;e(function(){if(f.B()){var k=y.console;"undefined"!==typeof k&&k.error(f.i)}},1)};b.prototype.B=
function(){if(this.o)return!1;var f=y.CustomEvent,k=y.Event,h=y.dispatchEvent;if("undefined"===typeof h)return!0;"function"===typeof f?f=new f("unhandledrejection",{cancelable:!0}):"function"===typeof k?f=new k("unhandledrejection",{cancelable:!0}):(f=y.document.createEvent("CustomEvent"),f.initCustomEvent("unhandledrejection",!1,!0,f));f.promise=this;f.reason=this.i;return h(f)};b.prototype.A=function(){if(null!=this.g){for(var f=0;f<this.g.length;++f)g.h(this.g[f]);this.g=null}};var g=new c;b.prototype.F=
function(f){var k=this.j();f.J(k.resolve,k.reject)};b.prototype.G=function(f,k){var h=this.j();try{f.call(k,h.resolve,h.reject)}catch(l){h.reject(l)}};b.prototype.then=function(f,k){function h(p,m){return"function"==typeof p?function(q){try{l(p(q))}catch(t){n(t)}}:m}var l,n,r=new b(function(p,m){l=p;n=m});this.J(h(f,l),h(k,n));return r};b.prototype.catch=function(f){return this.then(void 0,f)};b.prototype.J=function(f,k){function h(){switch(l.h){case 1:f(l.i);break;case 2:k(l.i);break;default:throw Error("Unexpected state: "+
l.h);}}var l=this;null==this.g?g.h(h):this.g.push(h);this.o=!0};b.resolve=d;b.reject=function(f){return new b(function(k,h){h(f)})};b.race=function(f){return new b(function(k,h){for(var l=C(f),n=l.next();!n.done;n=l.next())d(n.value).J(k,h)})};b.all=function(f){var k=C(f),h=k.next();return h.done?d([]):new b(function(l,n){function r(q){return function(t){p[q]=t;m--;0==m&&l(p)}}var p=[],m=0;do p.push(void 0),m++,d(h.value).J(r(p.length-1),n),h=k.next();while(!h.done)})};return b});
function ua(a,b){a instanceof String&&(a+="");var c=0,d=!1,e={next:function(){if(!d&&c<a.length){var g=c++;return{value:b(g,a[g]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e}var va="function"==typeof Object.assign?Object.assign:function(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&(a[e]=d[e])}return a};B("Object.assign",function(a){return a||va});
B("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});B("Array.prototype.includes",function(a){return a?a:function(b,c){var d=this;d instanceof String&&(d=String(d));var e=d.length;c=c||0;for(0>c&&(c=Math.max(c+e,0));c<e;c++){var g=d[c];if(g===b||Object.is(g,b))return!0}return!1}});
B("String.prototype.includes",function(a){return a?a:function(b,c){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(b,c||0)}});B("Array.prototype.keys",function(a){return a?a:function(){return ua(this,function(b){return b})}});var wa=this||self;
function J(a,b){a=a.split(".");var c=wa;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b};function xa(a){wa.setTimeout(function(){throw a;},0)};function K(a){xa(a);return;throw Error("invalid error level: 1");}function ya(a,b){K(Error("Invalid wire type: "+a+" (at position "+b+")"))}function za(){K(Error("Failed to read varint, encoding is invalid."))};function Aa(a,b){b=String.fromCharCode.apply(null,b);return null==a?b:a+b}var Ba,Ca="undefined"!==typeof TextDecoder,Da,Ea="undefined"!==typeof TextEncoder;
function Fa(a){if(Ea)a=(Da||(Da=new TextEncoder)).encode(a);else{var b=void 0;b=void 0===b?!1:b;for(var c=0,d=new Uint8Array(3*a.length),e=0;e<a.length;e++){var g=a.charCodeAt(e);if(128>g)d[c++]=g;else{if(2048>g)d[c++]=g>>6|192;else{if(55296<=g&&57343>=g){if(56319>=g&&e<a.length){var f=a.charCodeAt(++e);if(56320<=f&&57343>=f){g=1024*(g-55296)+f-56320+65536;d[c++]=g>>18|240;d[c++]=g>>12&63|128;d[c++]=g>>6&63|128;d[c++]=g&63|128;continue}else e--}if(b)throw Error("Found an unpaired surrogate");g=65533}d[c++]=
g>>12|224;d[c++]=g>>6&63|128}d[c++]=g&63|128}}a=d.subarray(0,c)}return a};var Ga={},L=null;function Ha(a){var b;void 0===b&&(b=0);Ia();b=Ga[b];for(var c=Array(Math.floor(a.length/3)),d=b[64]||"",e=0,g=0;e<a.length-2;e+=3){var f=a[e],k=a[e+1],h=a[e+2],l=b[f>>2];f=b[(f&3)<<4|k>>4];k=b[(k&15)<<2|h>>6];h=b[h&63];c[g++]=l+f+k+h}l=0;h=d;switch(a.length-e){case 2:l=a[e+1],h=b[(l&15)<<2]||d;case 1:a=a[e],c[g]=b[a>>2]+b[(a&3)<<4|l>>4]+h+d}return c.join("")}
function Ja(a){var b=a.length,c=3*b/4;c%3?c=Math.floor(c):-1!="=.".indexOf(a[b-1])&&(c=-1!="=.".indexOf(a[b-2])?c-2:c-1);var d=new Uint8Array(c),e=0;Ka(a,function(g){d[e++]=g});return d.subarray(0,e)}
function Ka(a,b){function c(h){for(;d<a.length;){var l=a.charAt(d++),n=L[l];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(l))throw Error("Unknown base64 encoding at char: "+l);}return h}Ia();for(var d=0;;){var e=c(-1),g=c(0),f=c(64),k=c(64);if(64===k&&-1===e)break;b(e<<2|g>>4);64!=f&&(b(g<<4&240|f>>2),64!=k&&b(f<<6&192|k))}}
function Ia(){if(!L){L={};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),b=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++){var d=a.concat(b[c].split(""));Ga[c]=d;for(var e=0;e<d.length;e++){var g=d[e];void 0===L[g]&&(L[g]=e)}}}};var La="function"===typeof Uint8Array,Ma;function Na(a){this.g=a;if(null!==a&&0===a.length)throw Error("ByteString should be constructed with non-empty values");}Na.prototype.toJSON=function(){if(null==this.g)var a="";else a=this.g,a=this.g=null==a||"string"===typeof a?a:La&&a instanceof Uint8Array?Ha(a):null;return a};var Oa="function"===typeof Uint8Array.prototype.slice;function Pa(a,b,c){return b===c?Ma||(Ma=new Uint8Array(0)):Oa?a.slice(b,c):new Uint8Array(a.subarray(b,c))}var M=0,N=0;
function Qa(a){if(a.constructor===Uint8Array)return a;if(a.constructor===ArrayBuffer)return new Uint8Array(a);if(a.constructor===Array)return new Uint8Array(a);if(a.constructor===String)return Ja(a);if(a.constructor===Na){if(null==a.g)var b=Ma||(Ma=new Uint8Array(0));else{b=Uint8Array;var c=a.g;c=null==c||La&&null!=c&&c instanceof Uint8Array?c:"string"===typeof c?Ja(c):null;a=a.g=c;b=new b(a)}return b}if(a instanceof Uint8Array)return new Uint8Array(a.buffer,a.byteOffset,a.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers");
};function Ra(a,b){b=void 0===b?{}:b;b=void 0===b.u?!1:b.u;this.h=null;this.g=this.i=this.l=0;this.j=!1;this.u=b;a&&Sa(this,a)}function Sa(a,b){a.h=Qa(b);a.l=0;a.i=a.h.length;a.g=a.l}Ra.prototype.reset=function(){this.g=this.l};function O(a){a.g>a.i&&(a.j=!0,K(Error("Tried to read past the end of the data "+a.g+" > "+a.i)))}
function P(a){var b=a.h,c=b[a.g],d=c&127;if(128>c)return a.g+=1,O(a),d;c=b[a.g+1];d|=(c&127)<<7;if(128>c)return a.g+=2,O(a),d;c=b[a.g+2];d|=(c&127)<<14;if(128>c)return a.g+=3,O(a),d;c=b[a.g+3];d|=(c&127)<<21;if(128>c)return a.g+=4,O(a),d;c=b[a.g+4];d|=(c&15)<<28;if(128>c)return a.g+=5,O(a),d>>>0;a.g+=5;if(128<=b[a.g++]&&128<=b[a.g++]&&128<=b[a.g++]&&128<=b[a.g++]&&128<=b[a.g++])return a.j=!0,za(),d;O(a);return d}var Ta=[];function Ua(){this.g=new Uint8Array(64);this.h=0}function Q(a,b){if(!(a.h+1<a.g.length)){var c=a.g;a.g=new Uint8Array(Math.ceil(1+2*a.g.length));a.g.set(c)}a.g[a.h++]=b}Ua.prototype.length=function(){return this.h};Ua.prototype.end=function(){var a=this.g,b=this.h;this.h=0;return Pa(a,0,b)};function S(a,b){for(;127<b;)Q(a,b&127|128),b>>>=7;Q(a,b)};function Va(a){var b={},c=void 0===b.N?!1:b.N;this.m={u:void 0===b.u?!1:b.u};this.N=c;b=this.m;Ta.length?(c=Ta.pop(),b&&(c.u=b.u),a&&Sa(c,a),a=c):a=new Ra(a,b);this.g=a;this.l=this.g.g;this.h=this.i=-1;this.j=!1}Va.prototype.reset=function(){this.g.reset();this.h=this.i=-1};function Wa(a){var b=a.g;(b=b.g==b.i)||(b=a.j)||(b=a.g,b=b.j||0>b.g||b.g>b.i);if(b)return!1;a.l=a.g.g;var c=P(a.g);b=c>>>3;c&=7;if(!(0<=c&&5>=c))return a.j=!0,ya(c,a.l),!1;a.i=b;a.h=c;return!0}
function Xa(a){switch(a.h){case 0:if(0!=a.h)Xa(a);else a:{a=a.g;for(var b=a.g,c=0;10>c;c++){if(0===(a.h[b]&128)){a.g=b+1;O(a);break a}b++}a.j=!0;za()}break;case 1:a=a.g;a.g+=8;O(a);break;case 2:2!=a.h?Xa(a):(b=P(a.g),a=a.g,a.g+=b,O(a));break;case 5:a=a.g;a.g+=4;O(a);break;case 3:b=a.i;do{if(!Wa(a)){a.j=!0;K(Error("Unmatched start-group tag: stream EOF"));break}if(4==a.h){a.i!=b&&(a.j=!0,K(Error("Unmatched end-group tag")));break}Xa(a)}while(1);break;default:a.j=!0,ya(a.h,a.l)}}
function Ya(a,b,c){a.N||(a=Pa(a.g.h,c,a.g.g),(c=b.m)?c.push(a):b.m=[a])}var Za=[];function $a(){this.h=[];this.i=0;this.g=new Ua}function ab(a,b){0!==b.length&&(a.h.push(b),a.i+=b.length)}function bb(a,b,c){S(a.g,8*b+2);S(a.g,c.length);ab(a,a.g.end());ab(a,c)};var cb="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol(void 0):void 0;function db(a,b){Object.isFrozen(a)||(cb?a[cb]|=b:void 0!==a.g?a.g|=b:Object.defineProperties(a,{g:{value:b,configurable:!0,writable:!0,enumerable:!1}}))}function eb(a){if(!a)return 0;var b;cb?b=a[cb]:b=a.g;return null==b?0:b}function fb(a){if(!Array.isArray(a))return a;db(a,1);return a}function gb(a){if(!Array.isArray(a))throw Error("cannot mark non-array as immutable");db(a,2)};function hb(a){return null!==a&&"object"===typeof a&&a.constructor===Object}function ib(a){switch(typeof a){case "number":return isFinite(a)?a:String(a);case "object":return La&&null!=a&&a instanceof Uint8Array?Ha(a):a;default:return a}};function jb(a,b){if(null!=a)return Array.isArray(a)||hb(a)?kb(a,b):b(a)}function kb(a,b){if(Array.isArray(a)){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]=jb(a[d],b);eb(a)&1&&fb(c);return c}c={};for(d in a)c[d]=jb(a[d],b);return c};var lb;function T(a,b,c){var d=lb;lb=null;a||(a=d);d=this.constructor.ba;a||(a=d?[d]:[]);this.j=(d?0:-1)-(this.constructor.$||0);this.i=null;this.g=a;a:{d=this.g.length;a=d-1;if(d&&(d=this.g[a],hb(d))){this.l=a-this.j;this.h=d;break a}void 0!==b&&-1<b?(this.l=Math.max(b,a+1-this.j),this.h=null):this.l=Number.MAX_VALUE}if(c)for(b=0;b<c.length;b++)a=c[b],a<this.l?(a+=this.j,(d=this.g[a])?fb(d):this.g[a]=mb):(nb(this),(d=this.h[a])?fb(d):this.h[a]=mb)}var mb=Object.freeze(fb([]));
function nb(a){var b=a.l+a.j;a.g[b]||(a.h=a.g[b]={})}function U(a,b,c){return-1===b?null:(void 0===c?0:c)||b>=a.l?a.h?a.h[b]:void 0:a.g[b+a.j]}function ob(a,b,c){c=void 0===c?!0:c;var d=void 0===d?!1:d;var e=U(a,b,d);null==e&&(e=mb);e===mb?(e=fb([]),V(a,b,e,d)):c&&Array.isArray(e)&&eb(e)&2&&(e=e.slice(),V(a,b,e,d));return e}function W(a,b,c){a=U(a,b);a=null==a?a:+a;return null==a?void 0===c?0:c:a}function V(a,b,c,d){(void 0===d?0:d)||b>=a.l?(nb(a),a.h[b]=c):a.g[b+a.j]=c}
function pb(a,b,c){a.i||(a.i={});var d=a.i[c];if(!d){var e=ob(a,c,!1);d=[];for(var g=Array.isArray(e)?!!(eb(e)&2):!1,f=0;f<e.length;f++)d[f]=new b(e[f]),g&&gb(d[f].g);g&&(gb(d),Object.freeze(d));a.i[c]=d}return d}function qb(a,b,c,d,e){var g=pb(a,d,b);c=c?c:new d;a=ob(a,b);void 0!=e?(g.splice(e,0,c),a.splice(e,0,X(c))):(g.push(c),a.push(X(c)))}T.prototype.toJSON=function(){var a=X(this);return kb(a,ib)};
function X(a){if(a.i)for(var b in a.i){var c=a.i[b];if(Array.isArray(c))for(var d=0;d<c.length;d++)c[d]&&X(c[d]);else c&&X(c)}return a.g}T.prototype.toString=function(){return X(this).toString()};function rb(a,b){a=U(a,b);return null==a?0:a}function sb(a,b){a=U(a,b);return null==a?"":a};function tb(a,b){if(a=a.m){ab(b,b.g.end());for(var c=0;c<a.length;c++)ab(b,a[c])}}function ub(a){var b=a[0];switch(a.length){case 2:var c=a[1];return function(h,l,n){return b(h,l,n,c)};case 3:var d=a[1],e=a[2];return function(h,l,n){return b(h,l,n,d,e)};case 4:var g=a[1],f=a[2],k=a[3];return function(h,l,n){return b(h,l,n,g,f,k)};default:throw Error("unsupported number of parameters, expected [2-4], got "+a.length);}}
function vb(a,b,c){for(;Wa(b)&&4!=b.h;){var d=b.i,e=c[d];if(e){if(Array.isArray(e)&&(e=c[d]=ub(e)),!e(b,a,d)){d=b;e=a;var g=d.l;Xa(d);Ya(d,e,g)}}else d=b,e=a,g=d.l,Xa(d),Ya(d,e,g)}return a}function wb(a,b){var c=new $a;b(a,c);a=c.i+c.g.length();if(0===a)c=new Uint8Array(0);else{a=new Uint8Array(a);for(var d=c.h,e=d.length,g=b=0;g<e;g++){var f=d[g];0!==f.length&&(a.set(f,b),b+=f.length)}d=c.g;e=d.h;0!==e&&(a.set(d.g.subarray(0,e),b),d.h=0);c.h=[a];c=a}return c}
function xb(a,b,c){if(Za.length){var d=Za.pop();a&&(Sa(d.g,a),d.i=-1,d.h=-1);a=d}else a=new Va(a);try{return c(new b,a)}finally{b=a.g,b.h=null,b.l=0,b.i=0,b.g=0,b.j=!1,b.u=!1,a.i=-1,a.h=-1,a.j=!1,100>Za.length&&Za.push(a)}}
function Y(a,b,c){b=U(b,c);if(null!=b){S(a.g,8*c+5);a=a.g;var d=b;d=(c=0>d?1:0)?-d:d;0===d?0<1/d?M=N=0:(N=0,M=2147483648):isNaN(d)?(N=0,M=2147483647):3.4028234663852886E38<d?(N=0,M=(c<<31|2139095040)>>>0):1.1754943508222875E-38>d?(d=Math.round(d/Math.pow(2,-149)),N=0,M=(c<<31|d)>>>0):(b=Math.floor(Math.log(d)/Math.LN2),d*=Math.pow(2,-b),d=Math.round(8388608*d),16777216<=d&&++b,N=0,M=(c<<31|b+127<<23|d&8388607)>>>0);c=M;Q(a,c>>>0&255);Q(a,c>>>8&255);Q(a,c>>>16&255);Q(a,c>>>24&255)}}
function Z(a,b,c){if(5!==a.h)return!1;a=a.g;var d=a.h[a.g];var e=a.h[a.g+1];var g=a.h[a.g+2],f=a.h[a.g+3];a.g+=4;O(a);e=(d<<0|e<<8|g<<16|f<<24)>>>0;a=2*(e>>31)+1;d=e>>>23&255;e&=8388607;V(b,c,255==d?e?NaN:Infinity*a:0==d?a*Math.pow(2,-149)*e:a*Math.pow(2,d-150)*(e+Math.pow(2,23)));return!0}
function yb(a,b,c){if(0!==a.h)return!1;for(var d=a.g,e=128,g=0,f=a=0;4>f&&128<=e;f++)e=d.h[d.g++],g|=(e&127)<<7*f;128<=e&&(e=d.h[d.g++],g|=(e&127)<<28,a|=(e&127)>>4);if(128<=e)for(f=0;5>f&&128<=e;f++)e=d.h[d.g++],a|=(e&127)<<7*f+3;if(128>e){d=g>>>0;e=a>>>0;if(a=e&2147483648)d=~d+1>>>0,e=~e>>>0,0==d&&(e=e+1>>>0);d=4294967296*e+(d>>>0);a=a?-d:d}else d.j=!0,za(),a=void 0;V(b,c,a);return!0}function zb(a,b,c){if(0!==a.h)return!1;V(b,c,P(a.g));return!0}
function Ab(a,b,c){if(2!==a.h)return!1;var d=P(a.g);a=a.g;var e=a.g;a.g+=d;O(a);a=a.h;var g;if(Ca)(g=Ba)||(g=Ba=new TextDecoder("utf-8",{fatal:!1})),g=g.decode(a.subarray(e,e+d));else{d=e+d;for(var f=[],k=null,h,l,n;e<d;)h=a[e++],128>h?f.push(h):224>h?e>=d?f.push(65533):(l=a[e++],194>h||128!==(l&192)?(e--,f.push(65533)):f.push((h&31)<<6|l&63)):240>h?e>=d-1?f.push(65533):(l=a[e++],128!==(l&192)||224===h&&160>l||237===h&&160<=l||128!==((g=a[e++])&192)?(e--,f.push(65533)):f.push((h&15)<<12|(l&63)<<6|
g&63)):244>=h?e>=d-2?f.push(65533):(l=a[e++],128!==(l&192)||0!==(h<<28)+(l-144)>>30||128!==((g=a[e++])&192)||128!==((n=a[e++])&192)?(e--,f.push(65533)):(h=(h&7)<<18|(l&63)<<12|(g&63)<<6|n&63,h-=65536,f.push((h>>10&1023)+55296,(h&1023)+56320))):f.push(65533),8192<=f.length&&(k=Aa(k,f),f.length=0);g=Aa(k,f)}V(b,c,g);return!0}
function Bb(a,b,c,d,e){if(2!==a.h)return!1;var g=new d,f=a.g.i,k=P(a.g),h=a.g.g+k;a.g.i=h;e(g,a);e=h-a.g.g;if(0!==e)throw Error("Message parsing ended unexpectedly. Expected to read "+(k+" bytes, instead read "+(k-e)+" bytes, either the data ended unexpectedly or the message misreported its own length"));a.g.g=h;a.g.i=f;qb(b,c,g,d,void 0);return!0};function Cb(a){T.call(this,a)}var Db;E(Cb,T);function Eb(a,b){var c=U(a,1);if(null!=c&&null!=c){S(b.g,8);var d=b.g;if(0<=c)S(d,c);else{for(var e=0;9>e;e++)Q(d,c&127|128),c>>=7;Q(d,1)}}Y(b,a,2);d=U(a,3);null!=d&&bb(b,3,Fa(d));d=U(a,4);null!=d&&bb(b,4,Fa(d));tb(a,b)}function Fb(a,b){return vb(a,b,Db||(Db={1:zb,2:Z,3:Ab,4:Ab}))};function Gb(a){T.call(this,a,-1,Hb)}var Ib;E(Gb,T);Gb.prototype.addClassification=function(a,b){qb(this,1,a,Cb,b);return this};function Jb(a,b){return vb(a,b,Ib||(Ib={1:[Bb,Cb,Fb]}))}var Hb=[1];function Kb(a){T.call(this,a)}var Lb;E(Kb,T);function Mb(a,b){Y(b,a,1);Y(b,a,2);Y(b,a,3);Y(b,a,4);Y(b,a,5);tb(a,b)}function Nb(a,b){return vb(a,b,Lb||(Lb={1:Z,2:Z,3:Z,4:Z,5:Z}))};function Ob(a){T.call(this,a,-1,Pb)}var Qb;E(Ob,T);function Rb(a,b){return vb(a,b,Qb||(Qb={1:[Bb,Kb,Nb]}))}var Pb=[1];function Sb(a){T.call(this,a)}var Tb;E(Sb,T);function Ub(a,b){Y(b,a,1);Y(b,a,2);Y(b,a,3);Y(b,a,4);Y(b,a,5);var c=U(a,6);if(null!=c&&null!=c){S(b.g,48);var d=b.g,e=c;c=0>e;e=Math.abs(e);var g=e>>>0;e=Math.floor((e-g)/4294967296);e>>>=0;c&&(e=~e>>>0,g=(~g>>>0)+1,4294967295<g&&(g=0,e++,4294967295<e&&(e=0)));M=g;N=e;c=M;for(g=N;0<g||127<c;)Q(d,c&127|128),c=(c>>>7|g<<25)>>>0,g>>>=7;Q(d,c)}tb(a,b)}function Vb(a,b){return vb(a,b,Tb||(Tb={1:Z,2:Z,3:Z,4:Z,5:Z,6:yb}))};function Wb(a,b,c){c=a.createShader(0===c?a.VERTEX_SHADER:a.FRAGMENT_SHADER);a.shaderSource(c,b);a.compileShader(c);if(!a.getShaderParameter(c,a.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+a.getShaderInfoLog(c));return c};function Xb(a){return pb(a,Cb,1).map(function(b){return{index:rb(b,1),score:W(b,2),label:null!=U(b,3)?sb(b,3):void 0,displayName:null!=U(b,4)?sb(b,4):void 0}})};function Yb(a){return{x:W(a,1),y:W(a,2),z:W(a,3),visibility:null!=U(a,4)?W(a,4):void 0}}function Zb(a){return a.map(function(b){return pb(xb(b,Ob,Rb),Kb,1).map(Yb)})};function $b(a,b){this.h=a;this.g=b;this.l=0}
function ac(a,b,c){bc(a,b);if("function"===typeof a.g.canvas.transferToImageBitmap)return Promise.resolve(a.g.canvas.transferToImageBitmap());if(c)return Promise.resolve(a.g.canvas);if("function"===typeof createImageBitmap)return createImageBitmap(a.g.canvas);void 0===a.i&&(a.i=document.createElement("canvas"));return new Promise(function(d){a.i.height=a.g.canvas.height;a.i.width=a.g.canvas.width;a.i.getContext("2d",{}).drawImage(a.g.canvas,0,0,a.g.canvas.width,a.g.canvas.height);d(a.i)})}
function bc(a,b){var c=a.g;if(void 0===a.m){var d=Wb(c,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),e=Wb(c,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),g=c.createProgram();c.attachShader(g,d);c.attachShader(g,e);c.linkProgram(g);if(!c.getProgramParameter(g,c.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+
c.getProgramInfoLog(g));d=a.m=g;c.useProgram(d);e=c.getUniformLocation(d,"sampler0");a.j={I:c.getAttribLocation(d,"aVertex"),H:c.getAttribLocation(d,"aTex"),ca:e};a.s=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,a.s);c.enableVertexAttribArray(a.j.I);c.vertexAttribPointer(a.j.I,2,c.FLOAT,!1,0,0);c.bufferData(c.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),c.STATIC_DRAW);c.bindBuffer(c.ARRAY_BUFFER,null);a.o=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,a.o);c.enableVertexAttribArray(a.j.H);c.vertexAttribPointer(a.j.H,
2,c.FLOAT,!1,0,0);c.bufferData(c.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),c.STATIC_DRAW);c.bindBuffer(c.ARRAY_BUFFER,null);c.uniform1i(e,0)}d=a.j;c.useProgram(a.m);c.canvas.width=b.width;c.canvas.height=b.height;c.viewport(0,0,b.width,b.height);c.activeTexture(c.TEXTURE0);a.h.bindTexture2d(b.glName);c.enableVertexAttribArray(d.I);c.bindBuffer(c.ARRAY_BUFFER,a.s);c.vertexAttribPointer(d.I,2,c.FLOAT,!1,0,0);c.enableVertexAttribArray(d.H);c.bindBuffer(c.ARRAY_BUFFER,a.o);c.vertexAttribPointer(d.H,
2,c.FLOAT,!1,0,0);c.bindFramebuffer(c.DRAW_FRAMEBUFFER?c.DRAW_FRAMEBUFFER:c.FRAMEBUFFER,null);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);c.colorMask(!0,!0,!0,!0);c.drawArrays(c.TRIANGLE_FAN,0,4);c.disableVertexAttribArray(d.I);c.disableVertexAttribArray(d.H);c.bindBuffer(c.ARRAY_BUFFER,null);a.h.bindTexture2d(0)}function cc(a){this.g=a};var dc=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function ec(a,b){return b+a}function fc(a,b){window[a]=b}function gc(a){var b=document.createElement("script");b.setAttribute("src",a);b.setAttribute("crossorigin","anonymous");return new Promise(function(c){b.addEventListener("load",function(){c()},!1);b.addEventListener("error",function(){c()},!1);document.body.appendChild(b)})}
function hc(){return H(function(a){switch(a.g){case 1:return a.m=2,F(a,WebAssembly.instantiate(dc),4);case 4:a.g=3;a.m=0;break;case 2:return a.m=0,a.j=null,a.return(!1);case 3:return a.return(!0)}})}
function ic(a){this.g=a;this.listeners={};this.j={};this.F={};this.m={};this.s={};this.G=this.o=this.R=!0;this.C=Promise.resolve();this.P="";this.B={};this.locateFile=a&&a.locateFile||ec;if("object"===typeof window)var b=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if("undefined"!==typeof location)b=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");
this.S=b;if(a.options){b=C(Object.keys(a.options));for(var c=b.next();!c.done;c=b.next()){c=c.value;var d=a.options[c].default;void 0!==d&&(this.j[c]="function"===typeof d?d():d)}}}x=ic.prototype;x.close=function(){this.i&&this.i.delete();return Promise.resolve()};
function jc(a){var b,c,d,e,g,f,k,h,l,n,r;return H(function(p){switch(p.g){case 1:if(!a.R)return p.return();b=void 0===a.g.files?[]:"function"===typeof a.g.files?a.g.files(a.j):a.g.files;return F(p,hc(),2);case 2:c=p.h;if("object"===typeof window)return fc("createMediapipeSolutionsWasm",{locateFile:a.locateFile}),fc("createMediapipeSolutionsPackedAssets",{locateFile:a.locateFile}),f=b.filter(function(m){return void 0!==m.data}),k=b.filter(function(m){return void 0===m.data}),h=Promise.all(f.map(function(m){var q=
kc(a,m.url);if(void 0!==m.path){var t=m.path;q=q.then(function(w){a.overrideFile(t,w);return Promise.resolve(w)})}return q})),l=Promise.all(k.map(function(m){return void 0===m.simd||m.simd&&c||!m.simd&&!c?gc(a.locateFile(m.url,a.S)):Promise.resolve()})).then(function(){var m,q,t;return H(function(w){if(1==w.g)return m=window.createMediapipeSolutionsWasm,q=window.createMediapipeSolutionsPackedAssets,t=a,F(w,m(q),2);t.h=w.h;w.g=0})}),n=function(){return H(function(m){a.g.graph&&a.g.graph.url?m=F(m,
kc(a,a.g.graph.url),0):(m.g=0,m=void 0);return m})}(),F(p,Promise.all([l,h,n]),7);if("function"!==typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");d=b.filter(function(m){return void 0===m.simd||m.simd&&c||!m.simd&&!c}).map(function(m){return a.locateFile(m.url,a.S)});importScripts.apply(null,ea(d));e=a;return F(p,createMediapipeSolutionsWasm(Module),6);case 6:e.h=p.h;a.l=new OffscreenCanvas(1,1);a.h.canvas=a.l;g=a.h.GL.createContext(a.l,{antialias:!1,
alpha:!1,aa:"undefined"!==typeof WebGL2RenderingContext?2:1});a.h.GL.makeContextCurrent(g);p.g=4;break;case 7:a.l=document.createElement("canvas");r=a.l.getContext("webgl2",{});if(!r&&(r=a.l.getContext("webgl",{}),!r))return alert("Failed to create WebGL canvas context when passing video frame."),p.return();a.D=r;a.h.canvas=a.l;a.h.createContext(a.l,!0,!0,{});case 4:a.i=new a.h.SolutionWasm,a.R=!1,p.g=0}})}
function lc(a){var b,c,d,e,g,f,k,h;return H(function(l){if(1==l.g){if(a.g.graph&&a.g.graph.url&&a.P===a.g.graph.url)return l.return();a.o=!0;if(!a.g.graph||!a.g.graph.url){l.g=2;return}a.P=a.g.graph.url;return F(l,kc(a,a.g.graph.url),3)}2!=l.g&&(b=l.h,a.i.loadGraph(b));c=C(Object.keys(a.B));for(d=c.next();!d.done;d=c.next())e=d.value,a.i.overrideFile(e,a.B[e]);a.B={};if(a.g.listeners)for(g=C(a.g.listeners),f=g.next();!f.done;f=g.next())k=f.value,mc(a,k);h=a.j;a.j={};a.setOptions(h);l.g=0})}
x.reset=function(){var a=this;return H(function(b){a.i&&(a.i.reset(),a.m={},a.s={});b.g=0})};
x.setOptions=function(a,b){var c=this;if(b=b||this.g.options){for(var d=[],e=[],g={},f=C(Object.keys(a)),k=f.next();!k.done;g={K:g.K,L:g.L},k=f.next()){var h=k.value;h in this.j&&this.j[h]===a[h]||(this.j[h]=a[h],k=b[h],void 0!==k&&(k.onChange&&(g.K=k.onChange,g.L=a[h],d.push(function(l){return function(){var n;return H(function(r){if(1==r.g)return F(r,l.K(l.L),2);n=r.h;!0===n&&(c.o=!0);r.g=0})}}(g))),k.graphOptionXref&&(h={valueNumber:1===k.type?a[h]:0,valueBoolean:0===k.type?a[h]:!1,valueString:2===
k.type?a[h]:""},k=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),k.graphOptionXref),h),e.push(k))))}if(0!==d.length||0!==e.length)this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(e),this.v=(void 0===this.v?[]:this.v).concat(d)}};
function nc(a){var b,c,d,e,g,f,k;return H(function(h){switch(h.g){case 1:if(!a.o)return h.return();if(!a.v){h.g=2;break}b=C(a.v);c=b.next();case 3:if(c.done){h.g=5;break}d=c.value;return F(h,d(),4);case 4:c=b.next();h.g=3;break;case 5:a.v=void 0;case 2:if(a.A){e=new a.h.GraphOptionChangeRequestList;g=C(a.A);for(f=g.next();!f.done;f=g.next())k=f.value,e.push_back(k);a.i.changeOptions(e);e.delete();a.A=void 0}a.o=!1;h.g=0}})}
x.initialize=function(){var a=this;return H(function(b){return 1==b.g?F(b,jc(a),2):3!=b.g?F(b,lc(a),3):F(b,nc(a),0)})};function kc(a,b){var c,d;return H(function(e){if(b in a.F)return e.return(a.F[b]);c=a.locateFile(b,"");d=fetch(c).then(function(g){return g.arrayBuffer()});a.F[b]=d;return e.return(d)})}x.overrideFile=function(a,b){this.i?this.i.overrideFile(a,b):this.B[a]=b};x.clearOverriddenFiles=function(){this.B={};this.i&&this.i.clearOverriddenFiles()};
x.send=function(a,b){var c=this,d,e,g,f,k,h,l,n,r;return H(function(p){switch(p.g){case 1:if(!c.g.inputs)return p.return();d=1E3*(void 0===b||null===b?performance.now():b);return F(p,c.C,2);case 2:return F(p,c.initialize(),3);case 3:e=new c.h.PacketDataList;g=C(Object.keys(a));for(f=g.next();!f.done;f=g.next())if(k=f.value,h=c.g.inputs[k]){a:{var m=a[k];switch(h.type){case "video":var q=c.m[h.stream];q||(q=new $b(c.h,c.D),c.m[h.stream]=q);0===q.l&&(q.l=q.h.createTexture());if("undefined"!==typeof HTMLVideoElement&&
m instanceof HTMLVideoElement){var t=m.videoWidth;var w=m.videoHeight}else"undefined"!==typeof HTMLImageElement&&m instanceof HTMLImageElement?(t=m.naturalWidth,w=m.naturalHeight):(t=m.width,w=m.height);w={glName:q.l,width:t,height:w};t=q.g;t.canvas.width=w.width;t.canvas.height=w.height;t.activeTexture(t.TEXTURE0);q.h.bindTexture2d(q.l);t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,m);q.h.bindTexture2d(0);q=w;break a;case "detections":q=c.m[h.stream];q||(q=new cc(c.h),c.m[h.stream]=q);
q.data||(q.data=new q.g.DetectionListData);q.data.reset(m.length);for(w=0;w<m.length;++w){t=m[w];var v=q.data,A=v.setBoundingBox,I=w;var D=t.T;var u=new Sb;V(u,1,D.X);V(u,2,D.Y);V(u,3,D.height);V(u,4,D.width);V(u,5,D.rotation);V(u,6,D.W);D=wb(u,Ub);A.call(v,I,D);if(t.O)for(v=0;v<t.O.length;++v){u=t.O[v];var z=u.visibility?!0:!1;A=q.data;I=A.addNormalizedLandmark;D=w;u=Object.assign(Object.assign({},u),{visibility:z?u.visibility:0});z=new Kb;V(z,1,u.x);V(z,2,u.y);V(z,3,u.z);u.visibility&&V(z,4,u.visibility);
u=wb(z,Mb);I.call(A,D,u)}if(t.M)for(v=0;v<t.M.length;++v)A=q.data,I=A.addClassification,D=w,u=t.M[v],z=new Cb,V(z,2,u.score),u.index&&V(z,1,u.index),u.label&&V(z,3,u.label),u.displayName&&V(z,4,u.displayName),u=wb(z,Eb),I.call(A,D,u)}q=q.data;break a;default:q={}}}l=q;n=h.stream;switch(h.type){case "video":e.pushTexture2d(Object.assign(Object.assign({},l),{stream:n,timestamp:d}));break;case "detections":r=l;r.stream=n;r.timestamp=d;e.pushDetectionList(r);break;default:throw Error("Unknown input config type: '"+
h.type+"'");}}c.i.send(e);return F(p,c.C,4);case 4:e.delete(),p.g=0}})};
function oc(a,b,c){var d,e,g,f,k,h,l,n,r,p,m,q,t,w;return H(function(v){switch(v.g){case 1:if(!c)return v.return(b);d={};e=0;g=C(Object.keys(c));for(f=g.next();!f.done;f=g.next())k=f.value,h=c[k],"string"!==typeof h&&"texture"===h.type&&void 0!==b[h.stream]&&++e;1<e&&(a.G=!1);l=C(Object.keys(c));f=l.next();case 2:if(f.done){v.g=4;break}n=f.value;r=c[n];if("string"===typeof r)return t=d,w=n,F(v,pc(a,n,b[r]),14);p=b[r.stream];if("detection_list"===r.type){if(p){var A=p.getRectList();for(var I=p.getLandmarksList(),
D=p.getClassificationsList(),u=[],z=0;z<A.size();++z){var R=xb(A.get(z),Sb,Vb);R={T:{X:W(R,1),Y:W(R,2),height:W(R,3),width:W(R,4),rotation:W(R,5,0),W:rb(R,6)},O:pb(xb(I.get(z),Ob,Rb),Kb,1).map(Yb),M:Xb(xb(D.get(z),Gb,Jb))};u.push(R)}A=u}else A=[];d[n]=A;v.g=7;break}if("proto_list"===r.type){if(p){A=Array(p.size());for(I=0;I<p.size();I++)A[I]=p.get(I);p.delete()}else A=[];d[n]=A;v.g=7;break}if(void 0===p){v.g=3;break}if("float_list"===r.type){d[n]=p;v.g=7;break}if("proto"===r.type){d[n]=p;v.g=7;break}if("texture"!==
r.type)throw Error("Unknown output config type: '"+r.type+"'");m=a.s[n];m||(m=new $b(a.h,a.D),a.s[n]=m);return F(v,ac(m,p,a.G),13);case 13:q=v.h,d[n]=q;case 7:r.transform&&d[n]&&(d[n]=r.transform(d[n]));v.g=3;break;case 14:t[w]=v.h;case 3:f=l.next();v.g=2;break;case 4:return v.return(d)}})}
function pc(a,b,c){var d;return H(function(e){return"number"===typeof c||c instanceof Uint8Array||c instanceof a.h.Uint8BlobList?e.return(c):c instanceof a.h.Texture2dDataOut?(d=a.s[b],d||(d=new $b(a.h,a.D),a.s[b]=d),e.return(ac(d,c,a.G))):e.return(void 0)})}
function mc(a,b){for(var c=b.name||"$",d=[].concat(ea(b.wants)),e=new a.h.StringList,g=C(b.wants),f=g.next();!f.done;f=g.next())e.push_back(f.value);g=a.h.PacketListener.implement({onResults:function(k){for(var h={},l=0;l<b.wants.length;++l)h[d[l]]=k.get(l);var n=a.listeners[c];n&&(a.C=oc(a,h,b.outs).then(function(r){r=n(r);for(var p=0;p<b.wants.length;++p){var m=h[d[p]];"object"===typeof m&&m.hasOwnProperty&&m.hasOwnProperty("delete")&&m.delete()}r&&(a.C=r)}))}});a.i.attachMultiListener(e,g);e.delete()}
x.onResults=function(a,b){this.listeners[b||"$"]=a};J("Solution",ic);J("OptionType",{BOOL:0,NUMBER:1,Z:2,0:"BOOL",1:"NUMBER",2:"STRING"});function qc(a){void 0===a&&(a=0);return 1===a?"hand_landmark_full.tflite":"hand_landmark_lite.tflite"}
function rc(a){var b=this;a=a||{};this.g=new ic({locateFile:a.locateFile,files:function(c){return[{url:"hands_solution_packed_assets_loader.js"},{simd:!1,url:"hands_solution_wasm_bin.js"},{simd:!0,url:"hands_solution_simd_wasm_bin.js"},{data:!0,url:qc(c.modelComplexity)}]},graph:{url:"hands.binarypb"},inputs:{image:{type:"video",stream:"input_frames_gpu"}},listeners:[{wants:["multi_hand_landmarks","multi_hand_world_landmarks","image_transformed","multi_handedness"],outs:{image:"image_transformed",
multiHandLandmarks:{type:"proto_list",stream:"multi_hand_landmarks",transform:Zb},multiHandWorldLandmarks:{type:"proto_list",stream:"multi_hand_world_landmarks",transform:Zb},multiHandedness:{type:"proto_list",stream:"multi_handedness",transform:function(c){return c.map(function(d){return Xb(xb(d,Gb,Jb))[0]})}}}}],options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||
navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumHands:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculator",fieldName:"int_value"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},
onChange:function(c){var d,e,g;return H(function(f){if(1==f.g)return d=qc(c),e="third_party/mediapipe/modules/hand_landmark/"+d,F(f,kc(b.g,d),2);g=f.h;b.g.overrideFile(e,g);return f.return(!0)})}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"handlandmarktrackinggpu__palmdetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"handlandmarktrackinggpu__handlandmarkgpu__ThresholdingCalculator",
fieldName:"threshold"}}}})}x=rc.prototype;x.close=function(){this.g.close();return Promise.resolve()};x.onResults=function(a){this.g.onResults(a)};x.initialize=function(){var a=this;return H(function(b){return F(b,a.g.initialize(),0)})};x.reset=function(){this.g.reset()};x.send=function(a){var b=this;return H(function(c){return F(c,b.g.send(a),0)})};x.setOptions=function(a){this.g.setOptions(a)};J("Hands",rc);
J("HAND_CONNECTIONS",[[0,1],[1,2],[2,3],[3,4],[0,5],[5,6],[6,7],[7,8],[5,9],[9,10],[10,11],[11,12],[9,13],[13,14],[14,15],[15,16],[13,17],[0,17],[17,18],[18,19],[19,20]]);J("VERSION","0.4.1635986972");}).call(this);


/***/ }),

/***/ "./src/tsc/Controller.ts":
/*!*******************************!*\
  !*** ./src/tsc/Controller.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Controller": () => (/* binding */ Controller)
/* harmony export */ });
/* harmony import */ var _handsUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./handsUtil */ "./src/tsc/handsUtil.ts");

var horizontalMsgElem = document.getElementById("horizontalMessageBox");
var verticalMsgElem = document.getElementById("verticalMessageBox");
var depthMsgElem = document.getElementById("depthMessageBox");
/**
 * Use the HandTracker's data and manipulate the scene using it.
 */
var Controller = /** @class */ (function () {
    function Controller() {
    }
    /**
     * Handle the onResults event of the Hands tracker.
     * @param results the result of the data parsing.
     * @param prevResults the result of the data parsing.
     */
    Controller.prototype.onResultsCallback = function (results, prevResults) {
        var horizontalMsg = "NONE";
        var verticalMsg = "NONE";
        var depthMsg = "NONE";
        // only care about 1 hand
        var hand = results.multiHandLandmarks[0];
        if (prevResults) {
            var prevHand = prevResults.multiHandLandmarks[0];
            var horizontalDelta = this.getDelta(hand[_handsUtil__WEBPACK_IMPORTED_MODULE_0__.WRIST_INDEX].x, prevHand[_handsUtil__WEBPACK_IMPORTED_MODULE_0__.WRIST_INDEX].x);
            if (horizontalDelta == 0)
                horizontalMsg = "STAY";
            else if (horizontalDelta > 0)
                horizontalMsg = "RIGHT";
            else
                horizontalMsg = "LEFT";
            var verticalDelta = this.getDelta(hand[_handsUtil__WEBPACK_IMPORTED_MODULE_0__.WRIST_INDEX].y, prevHand[_handsUtil__WEBPACK_IMPORTED_MODULE_0__.WRIST_INDEX].y);
            if (verticalDelta == 0)
                verticalMsg = "STAY";
            else if (verticalDelta > 0)
                verticalMsg = "UP";
            else
                verticalMsg = "DOWN";
            var depthDelta = this.getDelta(hand[_handsUtil__WEBPACK_IMPORTED_MODULE_0__.WRIST_INDEX].z, prevHand[_handsUtil__WEBPACK_IMPORTED_MODULE_0__.WRIST_INDEX].z);
            if (depthDelta == 0)
                depthMsg = "STAY";
            else if (depthDelta > 0)
                depthMsg = "TOWARD USER";
            else
                depthMsg = "AWAY FROM USER";
        }
        horizontalMsgElem.textContent = horizontalMsg;
        verticalMsgElem.textContent = verticalMsg;
        depthMsgElem.textContent = depthMsg;
    };
    /**
     * Get the difference between 2 numbers. Also round it
     * to decimalPlace.
     * @param a, the first number.
     * @param b, the second number.
     * @param decimalPlace, how much we are rounding the delta result.
     * Default to 2 decimal place.
     * @returns
     */
    Controller.prototype.getDelta = function (a, b, decimalPlace) {
        if (decimalPlace === void 0) { decimalPlace = 2; }
        var delta = a - b;
        // round to x decimal place, see https://stackoverflow.com/a/11832950/11683637
        var decimalConvertor = Math.pow(10, decimalPlace);
        delta = Math.round(delta * decimalConvertor) / decimalConvertor;
        return delta;
    };
    /**
     * Subscribe to the HandTracker object.
     * @param tracker a HandTracker object.
     */
    Controller.prototype.subscribe = function (tracker) {
        tracker.addListener(this.onResultsCallback.bind(this));
    };
    return Controller;
}());



/***/ }),

/***/ "./src/tsc/HandTracker.ts":
/*!********************************!*\
  !*** ./src/tsc/HandTracker.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HandTracker": () => (/* binding */ HandTracker)
/* harmony export */ });
/* harmony import */ var _mediapipe_hands__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mediapipe/hands */ "./node_modules/@mediapipe/hands/hands.js");
/* harmony import */ var _mediapipe_hands__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_mediapipe_hands__WEBPACK_IMPORTED_MODULE_0__);

/**
 * Track the hands using the MediaPipe Hands then preprocess
 * it to intepret gestures.
 */
var HandTracker = /** @class */ (function () {
    function HandTracker() {
        var hands = new _mediapipe_hands__WEBPACK_IMPORTED_MODULE_0__.Hands({ locateFile: function (file) {
                return "build/libs/".concat(file);
            } });
        hands.setOptions({
            maxNumHands: 1,
            modelComplexity: 1,
            minDetectionConfidence: 0.5,
            minTrackingConfidence: 0.5
        });
        hands.onResults(this.onResultsCallback.bind(this));
        this.hands = hands;
        this.prevResults = null;
        this.listeners = [];
    }
    /**
     * Handle the onResults event of the Hands tracker.
     */
    HandTracker.prototype.onResultsCallback = function (results) {
        var _this = this;
        if (results.multiHandLandmarks && results.multiHandLandmarks.length != 0) {
            this.listeners.forEach(function (listener) { return listener(results, _this.prevResults); });
            this.prevResults = results;
        }
    };
    /**
     * Add a Listener to the HandTracker.
     * @param listener a new listener.
     */
    HandTracker.prototype.addListener = function (listener) {
        this.listeners.push(listener);
    };
    return HandTracker;
}());



/***/ }),

/***/ "./src/tsc/InputSource.ts":
/*!********************************!*\
  !*** ./src/tsc/InputSource.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "InputSource": () => (/* binding */ InputSource)
/* harmony export */ });
/* harmony import */ var _mediapipe_camera_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mediapipe/camera_utils */ "./node_modules/@mediapipe/camera_utils/camera_utils.js");
/* harmony import */ var _mediapipe_camera_utils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_mediapipe_camera_utils__WEBPACK_IMPORTED_MODULE_0__);
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (undefined && undefined.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};

var FPSElem = document.querySelector("#fps");
var STEPS_PER_SEC = 20;
var UPDATE_STEP_IN_SEC = 1000 / STEPS_PER_SEC;
/**
 * Handle work related to the camera.
 */
var InputSource = /** @class */ (function () {
    function InputSource() {
        this.videoElement = null;
        this.camera = null;
        this.isRunning = false;
        this.fps = 0;
        this.processedFrame = false;
    }
    /**
     * Init the camera.
     * This is taken from the camera util script
     * and relies on having a video element
     * @param tracker the Hands tracker.
     */
    InputSource.prototype.initCamera = function (tracker) {
        var _this = this;
        // need to init a <video> element in the DOM first
        if (this.videoElement == null)
            this.initVideoElement();
        this.camera = new _mediapipe_camera_utils__WEBPACK_IMPORTED_MODULE_0__.Camera(this.videoElement, {
            onFrame: function () { return __awaiter(_this, void 0, void 0, function () {
                return __generator(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            if (!!this.processedFrame) return [3 /*break*/, 2];
                            this.fps++;
                            return [4 /*yield*/, tracker.hands.send({ image: this.videoElement })];
                        case 1:
                            _a.sent();
                            this.processedFrame = true;
                            _a.label = 2;
                        case 2: return [2 /*return*/];
                    }
                });
            }); },
            width: 128,
            height: 72
        });
        setInterval(this.displayFPS.bind(this), 1000);
        setInterval(this.setProcessedFrame.bind(this, false), UPDATE_STEP_IN_SEC);
    };
    /**
     * Create the video element in the DOM.
     * @param hideVid whether to hide the video element.
     */
    InputSource.prototype.initVideoElement = function (hideVid) {
        if (hideVid === void 0) { hideVid = true; }
        var videoElement = document.createElement("video");
        if (hideVid)
            videoElement.style.display = "none";
        document.body.append(videoElement);
        this.videoElement = videoElement;
    };
    InputSource.prototype.displayFPS = function () {
        FPSElem.textContent = "".concat(this.fps);
        this.fps = 0;
    };
    /**
     * @param value the new value.
     */
    InputSource.prototype.setProcessedFrame = function (value) {
        this.processedFrame = value;
    };
    /**
     * Start getting the inputs.
     */
    InputSource.prototype.start = function () {
        this.camera.start();
        this.isRunning = true;
    };
    /**
     * Stop getting the inputs.
     */
    InputSource.prototype.stop = function () {
        this.camera.stop();
        this.isRunning = false;
    };
    return InputSource;
}());



/***/ }),

/***/ "./src/tsc/handsUtil.ts":
/*!******************************!*\
  !*** ./src/tsc/handsUtil.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WRIST_INDEX": () => (/* binding */ WRIST_INDEX)
/* harmony export */ });
var WRIST_INDEX = 0;



/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!**************************!*\
  !*** ./src/tsc/index.ts ***!
  \**************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _InputSource__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InputSource */ "./src/tsc/InputSource.ts");
/* harmony import */ var _HandTracker__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./HandTracker */ "./src/tsc/HandTracker.ts");
/* harmony import */ var _Controller__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Controller */ "./src/tsc/Controller.ts");



main();
function main() {
    var tracker = new _HandTracker__WEBPACK_IMPORTED_MODULE_1__.HandTracker();
    var inputSource = new _InputSource__WEBPACK_IMPORTED_MODULE_0__.InputSource();
    // for testing, do not hide the video
    inputSource.initVideoElement(false);
    inputSource.initCamera(tracker);
    var controller = new _Controller__WEBPACK_IMPORTED_MODULE_2__.Controller();
    controller.subscribe(tracker);
    inputSource.start();
    var checkbox = document.getElementById("runningCheckbox");
    checkbox.checked = true;
    // for testing
    checkbox.onclick = function () {
        inputSource.isRunning ? inputSource.stop() : inputSource.start();
    };
}

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7QUN0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDakZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMzRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDeENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztBQzFIQTtBQUNBOzs7Ozs7O0FDREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ1BBOzs7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdXd1bW90aW9uZGV0ZWN0aW9uLy4vbm9kZV9tb2R1bGVzL0BtZWRpYXBpcGUvY2FtZXJhX3V0aWxzL2NhbWVyYV91dGlscy5qcyIsIndlYnBhY2s6Ly91d3Vtb3Rpb25kZXRlY3Rpb24vLi9ub2RlX21vZHVsZXMvQG1lZGlhcGlwZS9oYW5kcy9oYW5kcy5qcyIsIndlYnBhY2s6Ly91d3Vtb3Rpb25kZXRlY3Rpb24vLi9zcmMvdHNjL0NvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vdXd1bW90aW9uZGV0ZWN0aW9uLy4vc3JjL3RzYy9IYW5kVHJhY2tlci50cyIsIndlYnBhY2s6Ly91d3Vtb3Rpb25kZXRlY3Rpb24vLi9zcmMvdHNjL0lucHV0U291cmNlLnRzIiwid2VicGFjazovL3V3dW1vdGlvbmRldGVjdGlvbi8uL3NyYy90c2MvaGFuZHNVdGlsLnRzIiwid2VicGFjazovL3V3dW1vdGlvbmRldGVjdGlvbi93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly91d3Vtb3Rpb25kZXRlY3Rpb24vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vdXd1bW90aW9uZGV0ZWN0aW9uL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly91d3Vtb3Rpb25kZXRlY3Rpb24vd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly91d3Vtb3Rpb25kZXRlY3Rpb24vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly91d3Vtb3Rpb25kZXRlY3Rpb24vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly91d3Vtb3Rpb25kZXRlY3Rpb24vLi9zcmMvdHNjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpey8qXG5cbiBDb3B5cmlnaHQgVGhlIENsb3N1cmUgTGlicmFyeSBBdXRob3JzLlxuIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4qL1xuJ3VzZSBzdHJpY3QnO2Z1bmN0aW9uIG4oYSl7dmFyIGI9MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYjxhLmxlbmd0aD97ZG9uZTohMSx2YWx1ZTphW2IrK119Ontkb25lOiEwfX19dmFyIHE9XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnRpZXM/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGEsYixlKXtpZihhPT1BcnJheS5wcm90b3R5cGV8fGE9PU9iamVjdC5wcm90b3R5cGUpcmV0dXJuIGE7YVtiXT1lLnZhbHVlO3JldHVybiBhfTtcbmZ1bmN0aW9uIHQoYSl7YT1bXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMsYSxcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3csXCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYsXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbCYmZ2xvYmFsXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGU9YVtiXTtpZihlJiZlLk1hdGg9PU1hdGgpcmV0dXJuIGV9dGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCBnbG9iYWwgb2JqZWN0XCIpO312YXIgdT10KHRoaXMpO2Z1bmN0aW9uIHYoYSxiKXtpZihiKWE6e3ZhciBlPXU7YT1hLnNwbGl0KFwiLlwiKTtmb3IodmFyIGY9MDtmPGEubGVuZ3RoLTE7ZisrKXt2YXIgaD1hW2ZdO2lmKCEoaCBpbiBlKSlicmVhayBhO2U9ZVtoXX1hPWFbYS5sZW5ndGgtMV07Zj1lW2FdO2I9YihmKTtiIT1mJiZudWxsIT1iJiZxKGUsYSx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmJ9KX19XG52KFwiU3ltYm9sXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihsKXtpZih0aGlzIGluc3RhbmNlb2YgYil0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpO3JldHVybiBuZXcgZShmKyhsfHxcIlwiKStcIl9cIitoKyssbCl9ZnVuY3Rpb24gZShsLGMpe3RoaXMuZz1sO3EodGhpcyxcImRlc2NyaXB0aW9uXCIse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpjfSl9aWYoYSlyZXR1cm4gYTtlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O3ZhciBmPVwianNjb21wX3N5bWJvbF9cIisoMUU5Kk1hdGgucmFuZG9tKCk+Pj4wKStcIl9cIixoPTA7cmV0dXJuIGJ9KTtcbnYoXCJTeW1ib2wuaXRlcmF0b3JcIixmdW5jdGlvbihhKXtpZihhKXJldHVybiBhO2E9U3ltYm9sKFwiU3ltYm9sLml0ZXJhdG9yXCIpO2Zvcih2YXIgYj1cIkFycmF5IEludDhBcnJheSBVaW50OEFycmF5IFVpbnQ4Q2xhbXBlZEFycmF5IEludDE2QXJyYXkgVWludDE2QXJyYXkgSW50MzJBcnJheSBVaW50MzJBcnJheSBGbG9hdDMyQXJyYXkgRmxvYXQ2NEFycmF5XCIuc3BsaXQoXCIgXCIpLGU9MDtlPGIubGVuZ3RoO2UrKyl7dmFyIGY9dVtiW2VdXTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZiYmXCJmdW5jdGlvblwiIT10eXBlb2YgZi5wcm90b3R5cGVbYV0mJnEoZi5wcm90b3R5cGUsYSx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHcobih0aGlzKSl9fSl9cmV0dXJuIGF9KTtmdW5jdGlvbiB3KGEpe2E9e25leHQ6YX07YVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3JldHVybiBhfVxuZnVuY3Rpb24geChhKXt2YXIgYj1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3ImJmFbU3ltYm9sLml0ZXJhdG9yXTtyZXR1cm4gYj9iLmNhbGwoYSk6e25leHQ6bihhKX19ZnVuY3Rpb24geSgpe3RoaXMuaT0hMTt0aGlzLmc9bnVsbDt0aGlzLm89dm9pZCAwO3RoaXMuaj0xO3RoaXMubT0wO3RoaXMuaD1udWxsfWZ1bmN0aW9uIHooYSl7aWYoYS5pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2EuaT0hMH15LnByb3RvdHlwZS5sPWZ1bmN0aW9uKGEpe3RoaXMubz1hfTtmdW5jdGlvbiBBKGEsYil7YS5oPXtGOmIsRzohMH07YS5qPWEubX15LnByb3RvdHlwZS5yZXR1cm49ZnVuY3Rpb24oYSl7dGhpcy5oPXtyZXR1cm46YX07dGhpcy5qPXRoaXMubX07ZnVuY3Rpb24gQihhKXt0aGlzLmc9bmV3IHk7dGhpcy5oPWF9XG5mdW5jdGlvbiBDKGEsYil7eihhLmcpO3ZhciBlPWEuZy5nO2lmKGUpcmV0dXJuIEQoYSxcInJldHVyblwiaW4gZT9lW1wicmV0dXJuXCJdOmZ1bmN0aW9uKGYpe3JldHVybnt2YWx1ZTpmLGRvbmU6ITB9fSxiLGEuZy5yZXR1cm4pO2EuZy5yZXR1cm4oYik7cmV0dXJuIEgoYSl9ZnVuY3Rpb24gRChhLGIsZSxmKXt0cnl7dmFyIGg9Yi5jYWxsKGEuZy5nLGUpO2lmKCEoaCBpbnN0YW5jZW9mIE9iamVjdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkl0ZXJhdG9yIHJlc3VsdCBcIitoK1wiIGlzIG5vdCBhbiBvYmplY3RcIik7aWYoIWguZG9uZSlyZXR1cm4gYS5nLmk9ITEsaDt2YXIgbD1oLnZhbHVlfWNhdGNoKGMpe3JldHVybiBhLmcuZz1udWxsLEEoYS5nLGMpLEgoYSl9YS5nLmc9bnVsbDtmLmNhbGwoYS5nLGwpO3JldHVybiBIKGEpfVxuZnVuY3Rpb24gSChhKXtmb3IoO2EuZy5qOyl0cnl7dmFyIGI9YS5oKGEuZyk7aWYoYilyZXR1cm4gYS5nLmk9ITEse3ZhbHVlOmIudmFsdWUsZG9uZTohMX19Y2F0Y2goZSl7YS5nLm89dm9pZCAwLEEoYS5nLGUpfWEuZy5pPSExO2lmKGEuZy5oKXtiPWEuZy5oO2EuZy5oPW51bGw7aWYoYi5HKXRocm93IGIuRjtyZXR1cm57dmFsdWU6Yi5yZXR1cm4sZG9uZTohMH19cmV0dXJue3ZhbHVlOnZvaWQgMCxkb25lOiEwfX1cbmZ1bmN0aW9uIEkoYSl7dGhpcy5uZXh0PWZ1bmN0aW9uKGIpe3ooYS5nKTthLmcuZz9iPUQoYSxhLmcuZy5uZXh0LGIsYS5nLmwpOihhLmcubChiKSxiPUgoYSkpO3JldHVybiBifTt0aGlzLnRocm93PWZ1bmN0aW9uKGIpe3ooYS5nKTthLmcuZz9iPUQoYSxhLmcuZ1tcInRocm93XCJdLGIsYS5nLmwpOihBKGEuZyxiKSxiPUgoYSkpO3JldHVybiBifTt0aGlzLnJldHVybj1mdW5jdGlvbihiKXtyZXR1cm4gQyhhLGIpfTt0aGlzW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319ZnVuY3Rpb24gSihhKXtmdW5jdGlvbiBiKGYpe3JldHVybiBhLm5leHQoZil9ZnVuY3Rpb24gZShmKXtyZXR1cm4gYS50aHJvdyhmKX1yZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZixoKXtmdW5jdGlvbiBsKGMpe2MuZG9uZT9mKGMudmFsdWUpOlByb21pc2UucmVzb2x2ZShjLnZhbHVlKS50aGVuKGIsZSkudGhlbihsLGgpfWwoYS5uZXh0KCkpfSl9XG52KFwiUHJvbWlzZVwiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYyl7dGhpcy5oPTA7dGhpcy5pPXZvaWQgMDt0aGlzLmc9W107dGhpcy5vPSExO3ZhciBkPXRoaXMuaigpO3RyeXtjKGQucmVzb2x2ZSxkLnJlamVjdCl9Y2F0Y2goZyl7ZC5yZWplY3QoZyl9fWZ1bmN0aW9uIGUoKXt0aGlzLmc9bnVsbH1mdW5jdGlvbiBmKGMpe3JldHVybiBjIGluc3RhbmNlb2YgYj9jOm5ldyBiKGZ1bmN0aW9uKGQpe2QoYyl9KX1pZihhKXJldHVybiBhO2UucHJvdG90eXBlLmg9ZnVuY3Rpb24oYyl7aWYobnVsbD09dGhpcy5nKXt0aGlzLmc9W107dmFyIGQ9dGhpczt0aGlzLmkoZnVuY3Rpb24oKXtkLmwoKX0pfXRoaXMuZy5wdXNoKGMpfTt2YXIgaD11LnNldFRpbWVvdXQ7ZS5wcm90b3R5cGUuaT1mdW5jdGlvbihjKXtoKGMsMCl9O2UucHJvdG90eXBlLmw9ZnVuY3Rpb24oKXtmb3IoO3RoaXMuZyYmdGhpcy5nLmxlbmd0aDspe3ZhciBjPXRoaXMuZzt0aGlzLmc9W107Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBnPVxuY1tkXTtjW2RdPW51bGw7dHJ5e2coKX1jYXRjaChrKXt0aGlzLmooayl9fX10aGlzLmc9bnVsbH07ZS5wcm90b3R5cGUuaj1mdW5jdGlvbihjKXt0aGlzLmkoZnVuY3Rpb24oKXt0aHJvdyBjO30pfTtiLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhrKXtyZXR1cm4gZnVuY3Rpb24obSl7Z3x8KGc9ITAsay5jYWxsKGQsbSkpfX12YXIgZD10aGlzLGc9ITE7cmV0dXJue3Jlc29sdmU6Yyh0aGlzLkEpLHJlamVjdDpjKHRoaXMubCl9fTtiLnByb3RvdHlwZS5BPWZ1bmN0aW9uKGMpe2lmKGM9PT10aGlzKXRoaXMubChuZXcgVHlwZUVycm9yKFwiQSBQcm9taXNlIGNhbm5vdCByZXNvbHZlIHRvIGl0c2VsZlwiKSk7ZWxzZSBpZihjIGluc3RhbmNlb2YgYil0aGlzLkMoYyk7ZWxzZXthOnN3aXRjaCh0eXBlb2YgYyl7Y2FzZSBcIm9iamVjdFwiOnZhciBkPW51bGwhPWM7YnJlYWsgYTtjYXNlIFwiZnVuY3Rpb25cIjpkPSEwO2JyZWFrIGE7ZGVmYXVsdDpkPSExfWQ/dGhpcy52KGMpOnRoaXMubShjKX19O1xuYi5wcm90b3R5cGUudj1mdW5jdGlvbihjKXt2YXIgZD12b2lkIDA7dHJ5e2Q9Yy50aGVufWNhdGNoKGcpe3RoaXMubChnKTtyZXR1cm59XCJmdW5jdGlvblwiPT10eXBlb2YgZD90aGlzLkQoZCxjKTp0aGlzLm0oYyl9O2IucHJvdG90eXBlLmw9ZnVuY3Rpb24oYyl7dGhpcy51KDIsYyl9O2IucHJvdG90eXBlLm09ZnVuY3Rpb24oYyl7dGhpcy51KDEsYyl9O2IucHJvdG90eXBlLnU9ZnVuY3Rpb24oYyxkKXtpZigwIT10aGlzLmgpdGhyb3cgRXJyb3IoXCJDYW5ub3Qgc2V0dGxlKFwiK2MrXCIsIFwiK2QrXCIpOiBQcm9taXNlIGFscmVhZHkgc2V0dGxlZCBpbiBzdGF0ZVwiK3RoaXMuaCk7dGhpcy5oPWM7dGhpcy5pPWQ7Mj09PXRoaXMuaCYmdGhpcy5CKCk7dGhpcy5IKCl9O2IucHJvdG90eXBlLkI9ZnVuY3Rpb24oKXt2YXIgYz10aGlzO2goZnVuY3Rpb24oKXtpZihjLkkoKSl7dmFyIGQ9dS5jb25zb2xlO1widW5kZWZpbmVkXCIhPT10eXBlb2YgZCYmZC5lcnJvcihjLmkpfX0sMSl9O2IucHJvdG90eXBlLkk9XG5mdW5jdGlvbigpe2lmKHRoaXMubylyZXR1cm4hMTt2YXIgYz11LkN1c3RvbUV2ZW50LGQ9dS5FdmVudCxnPXUuZGlzcGF0Y2hFdmVudDtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIGcpcmV0dXJuITA7XCJmdW5jdGlvblwiPT09dHlwZW9mIGM/Yz1uZXcgYyhcInVuaGFuZGxlZHJlamVjdGlvblwiLHtjYW5jZWxhYmxlOiEwfSk6XCJmdW5jdGlvblwiPT09dHlwZW9mIGQ/Yz1uZXcgZChcInVuaGFuZGxlZHJlamVjdGlvblwiLHtjYW5jZWxhYmxlOiEwfSk6KGM9dS5kb2N1bWVudC5jcmVhdGVFdmVudChcIkN1c3RvbUV2ZW50XCIpLGMuaW5pdEN1c3RvbUV2ZW50KFwidW5oYW5kbGVkcmVqZWN0aW9uXCIsITEsITAsYykpO2MucHJvbWlzZT10aGlzO2MucmVhc29uPXRoaXMuaTtyZXR1cm4gZyhjKX07Yi5wcm90b3R5cGUuSD1mdW5jdGlvbigpe2lmKG51bGwhPXRoaXMuZyl7Zm9yKHZhciBjPTA7Yzx0aGlzLmcubGVuZ3RoOysrYylsLmgodGhpcy5nW2NdKTt0aGlzLmc9bnVsbH19O3ZhciBsPW5ldyBlO2IucHJvdG90eXBlLkM9XG5mdW5jdGlvbihjKXt2YXIgZD10aGlzLmooKTtjLnMoZC5yZXNvbHZlLGQucmVqZWN0KX07Yi5wcm90b3R5cGUuRD1mdW5jdGlvbihjLGQpe3ZhciBnPXRoaXMuaigpO3RyeXtjLmNhbGwoZCxnLnJlc29sdmUsZy5yZWplY3QpfWNhdGNoKGspe2cucmVqZWN0KGspfX07Yi5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihjLGQpe2Z1bmN0aW9uIGcocCxyKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBwP2Z1bmN0aW9uKEUpe3RyeXtrKHAoRSkpfWNhdGNoKEYpe20oRil9fTpyfXZhciBrLG0sRz1uZXcgYihmdW5jdGlvbihwLHIpe2s9cDttPXJ9KTt0aGlzLnMoZyhjLGspLGcoZCxtKSk7cmV0dXJuIEd9O2IucHJvdG90eXBlLmNhdGNoPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGMpfTtiLnByb3RvdHlwZS5zPWZ1bmN0aW9uKGMsZCl7ZnVuY3Rpb24gZygpe3N3aXRjaChrLmgpe2Nhc2UgMTpjKGsuaSk7YnJlYWs7Y2FzZSAyOmQoay5pKTticmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5leHBlY3RlZCBzdGF0ZTogXCIrXG5rLmgpO319dmFyIGs9dGhpcztudWxsPT10aGlzLmc/bC5oKGcpOnRoaXMuZy5wdXNoKGcpO3RoaXMubz0hMH07Yi5yZXNvbHZlPWY7Yi5yZWplY3Q9ZnVuY3Rpb24oYyl7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKGQsZyl7ZyhjKX0pfTtiLnJhY2U9ZnVuY3Rpb24oYyl7cmV0dXJuIG5ldyBiKGZ1bmN0aW9uKGQsZyl7Zm9yKHZhciBrPXgoYyksbT1rLm5leHQoKTshbS5kb25lO209ay5uZXh0KCkpZihtLnZhbHVlKS5zKGQsZyl9KX07Yi5hbGw9ZnVuY3Rpb24oYyl7dmFyIGQ9eChjKSxnPWQubmV4dCgpO3JldHVybiBnLmRvbmU/ZihbXSk6bmV3IGIoZnVuY3Rpb24oayxtKXtmdW5jdGlvbiBHKEUpe3JldHVybiBmdW5jdGlvbihGKXtwW0VdPUY7ci0tOzA9PXImJmsocCl9fXZhciBwPVtdLHI9MDtkbyBwLnB1c2godm9pZCAwKSxyKyssZihnLnZhbHVlKS5zKEcocC5sZW5ndGgtMSksbSksZz1kLm5leHQoKTt3aGlsZSghZy5kb25lKX0pfTtyZXR1cm4gYn0pO1xudmFyIEs9XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmFzc2lnbj9PYmplY3QuYXNzaWduOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIGY9YXJndW1lbnRzW2VdO2lmKGYpZm9yKHZhciBoIGluIGYpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGYsaCkmJihhW2hdPWZbaF0pfXJldHVybiBhfTt2KFwiT2JqZWN0LmFzc2lnblwiLGZ1bmN0aW9uKGEpe3JldHVybiBhfHxLfSk7dmFyIEw9dGhpc3x8c2VsZjt2YXIgTT17ZmFjaW5nTW9kZTpcInVzZXJcIix3aWR0aDo2NDAsaGVpZ2h0OjQ4MH07ZnVuY3Rpb24gTihhLGIpe3RoaXMudmlkZW89YTt0aGlzLmk9MDt0aGlzLmg9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LE0pLGIpfU4ucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGIsZSxmLGg7cmV0dXJuIEoobmV3IEkobmV3IEIoZnVuY3Rpb24obCl7aWYoYS5nKXtiPWEuZy5nZXRUcmFja3MoKTtlPXgoYik7Zm9yKGY9ZS5uZXh0KCk7IWYuZG9uZTtmPWUubmV4dCgpKWg9Zi52YWx1ZSxoLnN0b3AoKTthLmc9dm9pZCAwfWwuaj0wfSkpKX07XG5OLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3ZhciBhPXRoaXMsYjtyZXR1cm4gSihuZXcgSShuZXcgQihmdW5jdGlvbihlKXtuYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYXx8YWxlcnQoXCJObyBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSBleGlzdHMuXCIpO2I9YS5oO3JldHVybiBlLnJldHVybihuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7dmlkZW86e2ZhY2luZ01vZGU6Yi5mYWNpbmdNb2RlLHdpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fX0pLnRoZW4oZnVuY3Rpb24oZil7TyhhLGYpfSkuY2F0Y2goZnVuY3Rpb24oZil7dmFyIGg9XCJGYWlsZWQgdG8gYWNxdWlyZSBjYW1lcmEgZmVlZDogXCIrZjtjb25zb2xlLmVycm9yKGgpO2FsZXJ0KGgpO3Rocm93IGY7fSkpfSkpKX07XG5mdW5jdGlvbiBQKGEpe3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtRKGEpfSl9ZnVuY3Rpb24gTyhhLGIpe2EuZz1iO2EudmlkZW8uc3JjT2JqZWN0PWI7YS52aWRlby5vbmxvYWRlZG1ldGFkYXRhPWZ1bmN0aW9uKCl7YS52aWRlby5wbGF5KCk7UChhKX19ZnVuY3Rpb24gUShhKXt2YXIgYj1udWxsO2EudmlkZW8ucGF1c2VkfHxhLnZpZGVvLmN1cnJlbnRUaW1lPT09YS5pfHwoYS5pPWEudmlkZW8uY3VycmVudFRpbWUsYj1hLmgub25GcmFtZSgpKTtiP2IudGhlbihmdW5jdGlvbigpe1AoYSl9KTpQKGEpfXZhciBSPVtcIkNhbWVyYVwiXSxTPUw7UlswXWluIFN8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBTLmV4ZWNTY3JpcHR8fFMuZXhlY1NjcmlwdChcInZhciBcIitSWzBdKTtcbmZvcih2YXIgVDtSLmxlbmd0aCYmKFQ9Ui5zaGlmdCgpKTspUi5sZW5ndGh8fHZvaWQgMD09PU4/U1tUXSYmU1tUXSE9PU9iamVjdC5wcm90b3R5cGVbVF0/Uz1TW1RdOlM9U1tUXT17fTpTW1RdPU47fSkuY2FsbCh0aGlzKTtcbiIsIihmdW5jdGlvbigpey8qXG5cbiBDb3B5cmlnaHQgVGhlIENsb3N1cmUgTGlicmFyeSBBdXRob3JzLlxuIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4qL1xuJ3VzZSBzdHJpY3QnO3ZhciB4O2Z1bmN0aW9uIGFhKGEpe3ZhciBiPTA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGI8YS5sZW5ndGg/e2RvbmU6ITEsdmFsdWU6YVtiKytdfTp7ZG9uZTohMH19fXZhciBiYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydGllcz9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oYSxiLGMpe2lmKGE9PUFycmF5LnByb3RvdHlwZXx8YT09T2JqZWN0LnByb3RvdHlwZSlyZXR1cm4gYTthW2JdPWMudmFsdWU7cmV0dXJuIGF9O1xuZnVuY3Rpb24gY2EoYSl7YT1bXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMsYSxcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3csXCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYsXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbCYmZ2xvYmFsXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGM9YVtiXTtpZihjJiZjLk1hdGg9PU1hdGgpcmV0dXJuIGN9dGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCBnbG9iYWwgb2JqZWN0XCIpO312YXIgeT1jYSh0aGlzKTtmdW5jdGlvbiBCKGEsYil7aWYoYilhOnt2YXIgYz15O2E9YS5zcGxpdChcIi5cIik7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aC0xO2QrKyl7dmFyIGU9YVtkXTtpZighKGUgaW4gYykpYnJlYWsgYTtjPWNbZV19YT1hW2EubGVuZ3RoLTFdO2Q9Y1thXTtiPWIoZCk7YiE9ZCYmbnVsbCE9YiYmYmEoYyxhLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Yn0pfX1cbkIoXCJTeW1ib2xcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGcpe2lmKHRoaXMgaW5zdGFuY2VvZiBiKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wgaXMgbm90IGEgY29uc3RydWN0b3JcIik7cmV0dXJuIG5ldyBjKGQrKGd8fFwiXCIpK1wiX1wiK2UrKyxnKX1mdW5jdGlvbiBjKGcsZil7dGhpcy5nPWc7YmEodGhpcyxcImRlc2NyaXB0aW9uXCIse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpmfSl9aWYoYSlyZXR1cm4gYTtjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmd9O3ZhciBkPVwianNjb21wX3N5bWJvbF9cIisoMUU5Kk1hdGgucmFuZG9tKCk+Pj4wKStcIl9cIixlPTA7cmV0dXJuIGJ9KTtcbkIoXCJTeW1ib2wuaXRlcmF0b3JcIixmdW5jdGlvbihhKXtpZihhKXJldHVybiBhO2E9U3ltYm9sKFwiU3ltYm9sLml0ZXJhdG9yXCIpO2Zvcih2YXIgYj1cIkFycmF5IEludDhBcnJheSBVaW50OEFycmF5IFVpbnQ4Q2xhbXBlZEFycmF5IEludDE2QXJyYXkgVWludDE2QXJyYXkgSW50MzJBcnJheSBVaW50MzJBcnJheSBGbG9hdDMyQXJyYXkgRmxvYXQ2NEFycmF5XCIuc3BsaXQoXCIgXCIpLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9eVtiW2NdXTtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZCYmXCJmdW5jdGlvblwiIT10eXBlb2YgZC5wcm90b3R5cGVbYV0mJmJhKGQucHJvdG90eXBlLGEse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBkYShhYSh0aGlzKSl9fSl9cmV0dXJuIGF9KTtmdW5jdGlvbiBkYShhKXthPXtuZXh0OmF9O2FbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtyZXR1cm4gYX1cbmZ1bmN0aW9uIEMoYSl7dmFyIGI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yJiZhW1N5bWJvbC5pdGVyYXRvcl07cmV0dXJuIGI/Yi5jYWxsKGEpOntuZXh0OmFhKGEpfX1mdW5jdGlvbiBlYShhKXtpZighKGEgaW5zdGFuY2VvZiBBcnJheSkpe2E9QyhhKTtmb3IodmFyIGIsYz1bXTshKGI9YS5uZXh0KCkpLmRvbmU7KWMucHVzaChiLnZhbHVlKTthPWN9cmV0dXJuIGF9dmFyIGZhPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5jcmVhdGU/T2JqZWN0LmNyZWF0ZTpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7fWIucHJvdG90eXBlPWE7cmV0dXJuIG5ldyBifSxoYTtcbmlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5zZXRQcm90b3R5cGVPZiloYT1PYmplY3Quc2V0UHJvdG90eXBlT2Y7ZWxzZXt2YXIgaWE7YTp7dmFyIGphPXthOiEwfSxrYT17fTt0cnl7a2EuX19wcm90b19fPWphO2lhPWthLmE7YnJlYWsgYX1jYXRjaChhKXt9aWE9ITF9aGE9aWE/ZnVuY3Rpb24oYSxiKXthLl9fcHJvdG9fXz1iO2lmKGEuX19wcm90b19fIT09Yil0aHJvdyBuZXcgVHlwZUVycm9yKGErXCIgaXMgbm90IGV4dGVuc2libGVcIik7cmV0dXJuIGF9Om51bGx9dmFyIGxhPWhhO1xuZnVuY3Rpb24gRShhLGIpe2EucHJvdG90eXBlPWZhKGIucHJvdG90eXBlKTthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2lmKGxhKWxhKGEsYik7ZWxzZSBmb3IodmFyIGMgaW4gYilpZihcInByb3RvdHlwZVwiIT1jKWlmKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKXt2YXIgZD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGIsYyk7ZCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYyxkKX1lbHNlIGFbY109YltjXTthLmRhPWIucHJvdG90eXBlfWZ1bmN0aW9uIG1hKCl7dGhpcy5sPSExO3RoaXMuaT1udWxsO3RoaXMuaD12b2lkIDA7dGhpcy5nPTE7dGhpcy5zPXRoaXMubT0wO3RoaXMuaj1udWxsfWZ1bmN0aW9uIG5hKGEpe2lmKGEubCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTthLmw9ITB9bWEucHJvdG90eXBlLm89ZnVuY3Rpb24oYSl7dGhpcy5oPWF9O1xuZnVuY3Rpb24gb2EoYSxiKXthLmo9e1U6YixWOiEwfTthLmc9YS5tfHxhLnN9bWEucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihhKXt0aGlzLmo9e3JldHVybjphfTt0aGlzLmc9dGhpcy5zfTtmdW5jdGlvbiBGKGEsYixjKXthLmc9YztyZXR1cm57dmFsdWU6Yn19ZnVuY3Rpb24gcGEoYSl7dGhpcy5nPW5ldyBtYTt0aGlzLmg9YX1mdW5jdGlvbiBxYShhLGIpe25hKGEuZyk7dmFyIGM9YS5nLmk7aWYoYylyZXR1cm4gcmEoYSxcInJldHVyblwiaW4gYz9jW1wicmV0dXJuXCJdOmZ1bmN0aW9uKGQpe3JldHVybnt2YWx1ZTpkLGRvbmU6ITB9fSxiLGEuZy5yZXR1cm4pO2EuZy5yZXR1cm4oYik7cmV0dXJuIEcoYSl9XG5mdW5jdGlvbiByYShhLGIsYyxkKXt0cnl7dmFyIGU9Yi5jYWxsKGEuZy5pLGMpO2lmKCEoZSBpbnN0YW5jZW9mIE9iamVjdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkl0ZXJhdG9yIHJlc3VsdCBcIitlK1wiIGlzIG5vdCBhbiBvYmplY3RcIik7aWYoIWUuZG9uZSlyZXR1cm4gYS5nLmw9ITEsZTt2YXIgZz1lLnZhbHVlfWNhdGNoKGYpe3JldHVybiBhLmcuaT1udWxsLG9hKGEuZyxmKSxHKGEpfWEuZy5pPW51bGw7ZC5jYWxsKGEuZyxnKTtyZXR1cm4gRyhhKX1mdW5jdGlvbiBHKGEpe2Zvcig7YS5nLmc7KXRyeXt2YXIgYj1hLmgoYS5nKTtpZihiKXJldHVybiBhLmcubD0hMSx7dmFsdWU6Yi52YWx1ZSxkb25lOiExfX1jYXRjaChjKXthLmcuaD12b2lkIDAsb2EoYS5nLGMpfWEuZy5sPSExO2lmKGEuZy5qKXtiPWEuZy5qO2EuZy5qPW51bGw7aWYoYi5WKXRocm93IGIuVTtyZXR1cm57dmFsdWU6Yi5yZXR1cm4sZG9uZTohMH19cmV0dXJue3ZhbHVlOnZvaWQgMCxkb25lOiEwfX1cbmZ1bmN0aW9uIHNhKGEpe3RoaXMubmV4dD1mdW5jdGlvbihiKXtuYShhLmcpO2EuZy5pP2I9cmEoYSxhLmcuaS5uZXh0LGIsYS5nLm8pOihhLmcubyhiKSxiPUcoYSkpO3JldHVybiBifTt0aGlzLnRocm93PWZ1bmN0aW9uKGIpe25hKGEuZyk7YS5nLmk/Yj1yYShhLGEuZy5pW1widGhyb3dcIl0sYixhLmcubyk6KG9hKGEuZyxiKSxiPUcoYSkpO3JldHVybiBifTt0aGlzLnJldHVybj1mdW5jdGlvbihiKXtyZXR1cm4gcWEoYSxiKX07dGhpc1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fWZ1bmN0aW9uIHRhKGEpe2Z1bmN0aW9uIGIoZCl7cmV0dXJuIGEubmV4dChkKX1mdW5jdGlvbiBjKGQpe3JldHVybiBhLnRocm93KGQpfXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihkLGUpe2Z1bmN0aW9uIGcoZil7Zi5kb25lP2QoZi52YWx1ZSk6UHJvbWlzZS5yZXNvbHZlKGYudmFsdWUpLnRoZW4oYixjKS50aGVuKGcsZSl9ZyhhLm5leHQoKSl9KX1cbmZ1bmN0aW9uIEgoYSl7cmV0dXJuIHRhKG5ldyBzYShuZXcgcGEoYSkpKX1cbkIoXCJQcm9taXNlXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihmKXt0aGlzLmg9MDt0aGlzLmk9dm9pZCAwO3RoaXMuZz1bXTt0aGlzLm89ITE7dmFyIGs9dGhpcy5qKCk7dHJ5e2Yoay5yZXNvbHZlLGsucmVqZWN0KX1jYXRjaChoKXtrLnJlamVjdChoKX19ZnVuY3Rpb24gYygpe3RoaXMuZz1udWxsfWZ1bmN0aW9uIGQoZil7cmV0dXJuIGYgaW5zdGFuY2VvZiBiP2Y6bmV3IGIoZnVuY3Rpb24oayl7ayhmKX0pfWlmKGEpcmV0dXJuIGE7Yy5wcm90b3R5cGUuaD1mdW5jdGlvbihmKXtpZihudWxsPT10aGlzLmcpe3RoaXMuZz1bXTt2YXIgaz10aGlzO3RoaXMuaShmdW5jdGlvbigpe2subCgpfSl9dGhpcy5nLnB1c2goZil9O3ZhciBlPXkuc2V0VGltZW91dDtjLnByb3RvdHlwZS5pPWZ1bmN0aW9uKGYpe2UoZiwwKX07Yy5wcm90b3R5cGUubD1mdW5jdGlvbigpe2Zvcig7dGhpcy5nJiZ0aGlzLmcubGVuZ3RoOyl7dmFyIGY9dGhpcy5nO3RoaXMuZz1bXTtmb3IodmFyIGs9MDtrPGYubGVuZ3RoOysrayl7dmFyIGg9XG5mW2tdO2Zba109bnVsbDt0cnl7aCgpfWNhdGNoKGwpe3RoaXMuaihsKX19fXRoaXMuZz1udWxsfTtjLnByb3RvdHlwZS5qPWZ1bmN0aW9uKGYpe3RoaXMuaShmdW5jdGlvbigpe3Rocm93IGY7fSl9O2IucHJvdG90eXBlLmo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBmKGwpe3JldHVybiBmdW5jdGlvbihuKXtofHwoaD0hMCxsLmNhbGwoayxuKSl9fXZhciBrPXRoaXMsaD0hMTtyZXR1cm57cmVzb2x2ZTpmKHRoaXMuQykscmVqZWN0OmYodGhpcy5sKX19O2IucHJvdG90eXBlLkM9ZnVuY3Rpb24oZil7aWYoZj09PXRoaXMpdGhpcy5sKG5ldyBUeXBlRXJyb3IoXCJBIFByb21pc2UgY2Fubm90IHJlc29sdmUgdG8gaXRzZWxmXCIpKTtlbHNlIGlmKGYgaW5zdGFuY2VvZiBiKXRoaXMuRihmKTtlbHNle2E6c3dpdGNoKHR5cGVvZiBmKXtjYXNlIFwib2JqZWN0XCI6dmFyIGs9bnVsbCE9ZjticmVhayBhO2Nhc2UgXCJmdW5jdGlvblwiOms9ITA7YnJlYWsgYTtkZWZhdWx0Oms9ITF9az90aGlzLnYoZik6dGhpcy5tKGYpfX07XG5iLnByb3RvdHlwZS52PWZ1bmN0aW9uKGYpe3ZhciBrPXZvaWQgMDt0cnl7az1mLnRoZW59Y2F0Y2goaCl7dGhpcy5sKGgpO3JldHVybn1cImZ1bmN0aW9uXCI9PXR5cGVvZiBrP3RoaXMuRyhrLGYpOnRoaXMubShmKX07Yi5wcm90b3R5cGUubD1mdW5jdGlvbihmKXt0aGlzLnMoMixmKX07Yi5wcm90b3R5cGUubT1mdW5jdGlvbihmKXt0aGlzLnMoMSxmKX07Yi5wcm90b3R5cGUucz1mdW5jdGlvbihmLGspe2lmKDAhPXRoaXMuaCl0aHJvdyBFcnJvcihcIkNhbm5vdCBzZXR0bGUoXCIrZitcIiwgXCIraytcIik6IFByb21pc2UgYWxyZWFkeSBzZXR0bGVkIGluIHN0YXRlXCIrdGhpcy5oKTt0aGlzLmg9Zjt0aGlzLmk9azsyPT09dGhpcy5oJiZ0aGlzLkQoKTt0aGlzLkEoKX07Yi5wcm90b3R5cGUuRD1mdW5jdGlvbigpe3ZhciBmPXRoaXM7ZShmdW5jdGlvbigpe2lmKGYuQigpKXt2YXIgaz15LmNvbnNvbGU7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBrJiZrLmVycm9yKGYuaSl9fSwxKX07Yi5wcm90b3R5cGUuQj1cbmZ1bmN0aW9uKCl7aWYodGhpcy5vKXJldHVybiExO3ZhciBmPXkuQ3VzdG9tRXZlbnQsaz15LkV2ZW50LGg9eS5kaXNwYXRjaEV2ZW50O2lmKFwidW5kZWZpbmVkXCI9PT10eXBlb2YgaClyZXR1cm4hMDtcImZ1bmN0aW9uXCI9PT10eXBlb2YgZj9mPW5ldyBmKFwidW5oYW5kbGVkcmVqZWN0aW9uXCIse2NhbmNlbGFibGU6ITB9KTpcImZ1bmN0aW9uXCI9PT10eXBlb2Ygaz9mPW5ldyBrKFwidW5oYW5kbGVkcmVqZWN0aW9uXCIse2NhbmNlbGFibGU6ITB9KTooZj15LmRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIiksZi5pbml0Q3VzdG9tRXZlbnQoXCJ1bmhhbmRsZWRyZWplY3Rpb25cIiwhMSwhMCxmKSk7Zi5wcm9taXNlPXRoaXM7Zi5yZWFzb249dGhpcy5pO3JldHVybiBoKGYpfTtiLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7aWYobnVsbCE9dGhpcy5nKXtmb3IodmFyIGY9MDtmPHRoaXMuZy5sZW5ndGg7KytmKWcuaCh0aGlzLmdbZl0pO3RoaXMuZz1udWxsfX07dmFyIGc9bmV3IGM7Yi5wcm90b3R5cGUuRj1cbmZ1bmN0aW9uKGYpe3ZhciBrPXRoaXMuaigpO2YuSihrLnJlc29sdmUsay5yZWplY3QpfTtiLnByb3RvdHlwZS5HPWZ1bmN0aW9uKGYsayl7dmFyIGg9dGhpcy5qKCk7dHJ5e2YuY2FsbChrLGgucmVzb2x2ZSxoLnJlamVjdCl9Y2F0Y2gobCl7aC5yZWplY3QobCl9fTtiLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKGYsayl7ZnVuY3Rpb24gaChwLG0pe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHA/ZnVuY3Rpb24ocSl7dHJ5e2wocChxKSl9Y2F0Y2godCl7bih0KX19Om19dmFyIGwsbixyPW5ldyBiKGZ1bmN0aW9uKHAsbSl7bD1wO249bX0pO3RoaXMuSihoKGYsbCksaChrLG4pKTtyZXR1cm4gcn07Yi5wcm90b3R5cGUuY2F0Y2g9ZnVuY3Rpb24oZil7cmV0dXJuIHRoaXMudGhlbih2b2lkIDAsZil9O2IucHJvdG90eXBlLko9ZnVuY3Rpb24oZixrKXtmdW5jdGlvbiBoKCl7c3dpdGNoKGwuaCl7Y2FzZSAxOmYobC5pKTticmVhaztjYXNlIDI6ayhsLmkpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmV4cGVjdGVkIHN0YXRlOiBcIitcbmwuaCk7fX12YXIgbD10aGlzO251bGw9PXRoaXMuZz9nLmgoaCk6dGhpcy5nLnB1c2goaCk7dGhpcy5vPSEwfTtiLnJlc29sdmU9ZDtiLnJlamVjdD1mdW5jdGlvbihmKXtyZXR1cm4gbmV3IGIoZnVuY3Rpb24oayxoKXtoKGYpfSl9O2IucmFjZT1mdW5jdGlvbihmKXtyZXR1cm4gbmV3IGIoZnVuY3Rpb24oayxoKXtmb3IodmFyIGw9QyhmKSxuPWwubmV4dCgpOyFuLmRvbmU7bj1sLm5leHQoKSlkKG4udmFsdWUpLkooayxoKX0pfTtiLmFsbD1mdW5jdGlvbihmKXt2YXIgaz1DKGYpLGg9ay5uZXh0KCk7cmV0dXJuIGguZG9uZT9kKFtdKTpuZXcgYihmdW5jdGlvbihsLG4pe2Z1bmN0aW9uIHIocSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3BbcV09dDttLS07MD09bSYmbChwKX19dmFyIHA9W10sbT0wO2RvIHAucHVzaCh2b2lkIDApLG0rKyxkKGgudmFsdWUpLkoocihwLmxlbmd0aC0xKSxuKSxoPWsubmV4dCgpO3doaWxlKCFoLmRvbmUpfSl9O3JldHVybiBifSk7XG5mdW5jdGlvbiB1YShhLGIpe2EgaW5zdGFuY2VvZiBTdHJpbmcmJihhKz1cIlwiKTt2YXIgYz0wLGQ9ITEsZT17bmV4dDpmdW5jdGlvbigpe2lmKCFkJiZjPGEubGVuZ3RoKXt2YXIgZz1jKys7cmV0dXJue3ZhbHVlOmIoZyxhW2ddKSxkb25lOiExfX1kPSEwO3JldHVybntkb25lOiEwLHZhbHVlOnZvaWQgMH19fTtlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIGV9dmFyIHZhPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5hc3NpZ24/T2JqZWN0LmFzc2lnbjpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0xO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspe3ZhciBkPWFyZ3VtZW50c1tjXTtpZihkKWZvcih2YXIgZSBpbiBkKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkLGUpJiYoYVtlXT1kW2VdKX1yZXR1cm4gYX07QihcIk9iamVjdC5hc3NpZ25cIixmdW5jdGlvbihhKXtyZXR1cm4gYXx8dmF9KTtcbkIoXCJPYmplY3QuaXNcIixmdW5jdGlvbihhKXtyZXR1cm4gYT9hOmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGI9PT1jPzAhPT1ifHwxL2I9PT0xL2M6YiE9PWImJmMhPT1jfX0pO0IoXCJBcnJheS5wcm90b3R5cGUuaW5jbHVkZXNcIixmdW5jdGlvbihhKXtyZXR1cm4gYT9hOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9dGhpcztkIGluc3RhbmNlb2YgU3RyaW5nJiYoZD1TdHJpbmcoZCkpO3ZhciBlPWQubGVuZ3RoO2M9Y3x8MDtmb3IoMD5jJiYoYz1NYXRoLm1heChjK2UsMCkpO2M8ZTtjKyspe3ZhciBnPWRbY107aWYoZz09PWJ8fE9iamVjdC5pcyhnLGIpKXJldHVybiEwfXJldHVybiExfX0pO1xuQihcIlN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXNcIixmdW5jdGlvbihhKXtyZXR1cm4gYT9hOmZ1bmN0aW9uKGIsYyl7aWYobnVsbD09dGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVGhlICd0aGlzJyB2YWx1ZSBmb3IgU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcyBtdXN0IG5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZFwiKTtpZihiIGluc3RhbmNlb2YgUmVnRXhwKXRocm93IG5ldyBUeXBlRXJyb3IoXCJGaXJzdCBhcmd1bWVudCB0byBTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzIG11c3Qgbm90IGJlIGEgcmVndWxhciBleHByZXNzaW9uXCIpO3JldHVybi0xIT09dGhpcy5pbmRleE9mKGIsY3x8MCl9fSk7QihcIkFycmF5LnByb3RvdHlwZS5rZXlzXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGE/YTpmdW5jdGlvbigpe3JldHVybiB1YSh0aGlzLGZ1bmN0aW9uKGIpe3JldHVybiBifSl9fSk7dmFyIHdhPXRoaXN8fHNlbGY7XG5mdW5jdGlvbiBKKGEsYil7YT1hLnNwbGl0KFwiLlwiKTt2YXIgYz13YTthWzBdaW4gY3x8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGMuZXhlY1NjcmlwdHx8Yy5leGVjU2NyaXB0KFwidmFyIFwiK2FbMF0pO2Zvcih2YXIgZDthLmxlbmd0aCYmKGQ9YS5zaGlmdCgpKTspYS5sZW5ndGh8fHZvaWQgMD09PWI/Y1tkXSYmY1tkXSE9PU9iamVjdC5wcm90b3R5cGVbZF0/Yz1jW2RdOmM9Y1tkXT17fTpjW2RdPWJ9O2Z1bmN0aW9uIHhhKGEpe3dhLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyBhO30sMCl9O2Z1bmN0aW9uIEsoYSl7eGEoYSk7cmV0dXJuO3Rocm93IEVycm9yKFwiaW52YWxpZCBlcnJvciBsZXZlbDogMVwiKTt9ZnVuY3Rpb24geWEoYSxiKXtLKEVycm9yKFwiSW52YWxpZCB3aXJlIHR5cGU6IFwiK2ErXCIgKGF0IHBvc2l0aW9uIFwiK2IrXCIpXCIpKX1mdW5jdGlvbiB6YSgpe0soRXJyb3IoXCJGYWlsZWQgdG8gcmVhZCB2YXJpbnQsIGVuY29kaW5nIGlzIGludmFsaWQuXCIpKX07ZnVuY3Rpb24gQWEoYSxiKXtiPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxiKTtyZXR1cm4gbnVsbD09YT9iOmErYn12YXIgQmEsQ2E9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBUZXh0RGVjb2RlcixEYSxFYT1cInVuZGVmaW5lZFwiIT09dHlwZW9mIFRleHRFbmNvZGVyO1xuZnVuY3Rpb24gRmEoYSl7aWYoRWEpYT0oRGF8fChEYT1uZXcgVGV4dEVuY29kZXIpKS5lbmNvZGUoYSk7ZWxzZXt2YXIgYj12b2lkIDA7Yj12b2lkIDA9PT1iPyExOmI7Zm9yKHZhciBjPTAsZD1uZXcgVWludDhBcnJheSgzKmEubGVuZ3RoKSxlPTA7ZTxhLmxlbmd0aDtlKyspe3ZhciBnPWEuY2hhckNvZGVBdChlKTtpZigxMjg+ZylkW2MrK109ZztlbHNle2lmKDIwNDg+ZylkW2MrK109Zz4+NnwxOTI7ZWxzZXtpZig1NTI5Njw9ZyYmNTczNDM+PWcpe2lmKDU2MzE5Pj1nJiZlPGEubGVuZ3RoKXt2YXIgZj1hLmNoYXJDb2RlQXQoKytlKTtpZig1NjMyMDw9ZiYmNTczNDM+PWYpe2c9MTAyNCooZy01NTI5NikrZi01NjMyMCs2NTUzNjtkW2MrK109Zz4+MTh8MjQwO2RbYysrXT1nPj4xMiY2M3wxMjg7ZFtjKytdPWc+PjYmNjN8MTI4O2RbYysrXT1nJjYzfDEyODtjb250aW51ZX1lbHNlIGUtLX1pZihiKXRocm93IEVycm9yKFwiRm91bmQgYW4gdW5wYWlyZWQgc3Vycm9nYXRlXCIpO2c9NjU1MzN9ZFtjKytdPVxuZz4+MTJ8MjI0O2RbYysrXT1nPj42JjYzfDEyOH1kW2MrK109ZyY2M3wxMjh9fWE9ZC5zdWJhcnJheSgwLGMpfXJldHVybiBhfTt2YXIgR2E9e30sTD1udWxsO2Z1bmN0aW9uIEhhKGEpe3ZhciBiO3ZvaWQgMD09PWImJihiPTApO0lhKCk7Yj1HYVtiXTtmb3IodmFyIGM9QXJyYXkoTWF0aC5mbG9vcihhLmxlbmd0aC8zKSksZD1iWzY0XXx8XCJcIixlPTAsZz0wO2U8YS5sZW5ndGgtMjtlKz0zKXt2YXIgZj1hW2VdLGs9YVtlKzFdLGg9YVtlKzJdLGw9YltmPj4yXTtmPWJbKGYmMyk8PDR8az4+NF07az1iWyhrJjE1KTw8MnxoPj42XTtoPWJbaCY2M107Y1tnKytdPWwrZitrK2h9bD0wO2g9ZDtzd2l0Y2goYS5sZW5ndGgtZSl7Y2FzZSAyOmw9YVtlKzFdLGg9YlsobCYxNSk8PDJdfHxkO2Nhc2UgMTphPWFbZV0sY1tnXT1iW2E+PjJdK2JbKGEmMyk8PDR8bD4+NF0raCtkfXJldHVybiBjLmpvaW4oXCJcIil9XG5mdW5jdGlvbiBKYShhKXt2YXIgYj1hLmxlbmd0aCxjPTMqYi80O2MlMz9jPU1hdGguZmxvb3IoYyk6LTEhPVwiPS5cIi5pbmRleE9mKGFbYi0xXSkmJihjPS0xIT1cIj0uXCIuaW5kZXhPZihhW2ItMl0pP2MtMjpjLTEpO3ZhciBkPW5ldyBVaW50OEFycmF5KGMpLGU9MDtLYShhLGZ1bmN0aW9uKGcpe2RbZSsrXT1nfSk7cmV0dXJuIGQuc3ViYXJyYXkoMCxlKX1cbmZ1bmN0aW9uIEthKGEsYil7ZnVuY3Rpb24gYyhoKXtmb3IoO2Q8YS5sZW5ndGg7KXt2YXIgbD1hLmNoYXJBdChkKyspLG49TFtsXTtpZihudWxsIT1uKXJldHVybiBuO2lmKCEvXltcXHNcXHhhMF0qJC8udGVzdChsKSl0aHJvdyBFcnJvcihcIlVua25vd24gYmFzZTY0IGVuY29kaW5nIGF0IGNoYXI6IFwiK2wpO31yZXR1cm4gaH1JYSgpO2Zvcih2YXIgZD0wOzspe3ZhciBlPWMoLTEpLGc9YygwKSxmPWMoNjQpLGs9Yyg2NCk7aWYoNjQ9PT1rJiYtMT09PWUpYnJlYWs7YihlPDwyfGc+PjQpOzY0IT1mJiYoYihnPDw0JjI0MHxmPj4yKSw2NCE9ayYmYihmPDw2JjE5MnxrKSl9fVxuZnVuY3Rpb24gSWEoKXtpZighTCl7TD17fTtmb3IodmFyIGE9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiLnNwbGl0KFwiXCIpLGI9W1wiKy89XCIsXCIrL1wiLFwiLV89XCIsXCItXy5cIixcIi1fXCJdLGM9MDs1PmM7YysrKXt2YXIgZD1hLmNvbmNhdChiW2NdLnNwbGl0KFwiXCIpKTtHYVtjXT1kO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZz1kW2VdO3ZvaWQgMD09PUxbZ10mJihMW2ddPWUpfX19fTt2YXIgTGE9XCJmdW5jdGlvblwiPT09dHlwZW9mIFVpbnQ4QXJyYXksTWE7ZnVuY3Rpb24gTmEoYSl7dGhpcy5nPWE7aWYobnVsbCE9PWEmJjA9PT1hLmxlbmd0aCl0aHJvdyBFcnJvcihcIkJ5dGVTdHJpbmcgc2hvdWxkIGJlIGNvbnN0cnVjdGVkIHdpdGggbm9uLWVtcHR5IHZhbHVlc1wiKTt9TmEucHJvdG90eXBlLnRvSlNPTj1mdW5jdGlvbigpe2lmKG51bGw9PXRoaXMuZyl2YXIgYT1cIlwiO2Vsc2UgYT10aGlzLmcsYT10aGlzLmc9bnVsbD09YXx8XCJzdHJpbmdcIj09PXR5cGVvZiBhP2E6TGEmJmEgaW5zdGFuY2VvZiBVaW50OEFycmF5P0hhKGEpOm51bGw7cmV0dXJuIGF9O3ZhciBPYT1cImZ1bmN0aW9uXCI9PT10eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuc2xpY2U7ZnVuY3Rpb24gUGEoYSxiLGMpe3JldHVybiBiPT09Yz9NYXx8KE1hPW5ldyBVaW50OEFycmF5KDApKTpPYT9hLnNsaWNlKGIsYyk6bmV3IFVpbnQ4QXJyYXkoYS5zdWJhcnJheShiLGMpKX12YXIgTT0wLE49MDtcbmZ1bmN0aW9uIFFhKGEpe2lmKGEuY29uc3RydWN0b3I9PT1VaW50OEFycmF5KXJldHVybiBhO2lmKGEuY29uc3RydWN0b3I9PT1BcnJheUJ1ZmZlcilyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYSk7aWYoYS5jb25zdHJ1Y3Rvcj09PUFycmF5KXJldHVybiBuZXcgVWludDhBcnJheShhKTtpZihhLmNvbnN0cnVjdG9yPT09U3RyaW5nKXJldHVybiBKYShhKTtpZihhLmNvbnN0cnVjdG9yPT09TmEpe2lmKG51bGw9PWEuZyl2YXIgYj1NYXx8KE1hPW5ldyBVaW50OEFycmF5KDApKTtlbHNle2I9VWludDhBcnJheTt2YXIgYz1hLmc7Yz1udWxsPT1jfHxMYSYmbnVsbCE9YyYmYyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/YzpcInN0cmluZ1wiPT09dHlwZW9mIGM/SmEoYyk6bnVsbDthPWEuZz1jO2I9bmV3IGIoYSl9cmV0dXJuIGJ9aWYoYSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpcmV0dXJuIG5ldyBVaW50OEFycmF5KGEuYnVmZmVyLGEuYnl0ZU9mZnNldCxhLmJ5dGVMZW5ndGgpO3Rocm93IEVycm9yKFwiVHlwZSBub3QgY29udmVydGlibGUgdG8gYSBVaW50OEFycmF5LCBleHBlY3RlZCBhIFVpbnQ4QXJyYXksIGFuIEFycmF5QnVmZmVyLCBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZywgb3IgQXJyYXkgb2YgbnVtYmVyc1wiKTtcbn07ZnVuY3Rpb24gUmEoYSxiKXtiPXZvaWQgMD09PWI/e306YjtiPXZvaWQgMD09PWIudT8hMTpiLnU7dGhpcy5oPW51bGw7dGhpcy5nPXRoaXMuaT10aGlzLmw9MDt0aGlzLmo9ITE7dGhpcy51PWI7YSYmU2EodGhpcyxhKX1mdW5jdGlvbiBTYShhLGIpe2EuaD1RYShiKTthLmw9MDthLmk9YS5oLmxlbmd0aDthLmc9YS5sfVJhLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuZz10aGlzLmx9O2Z1bmN0aW9uIE8oYSl7YS5nPmEuaSYmKGEuaj0hMCxLKEVycm9yKFwiVHJpZWQgdG8gcmVhZCBwYXN0IHRoZSBlbmQgb2YgdGhlIGRhdGEgXCIrYS5nK1wiID4gXCIrYS5pKSkpfVxuZnVuY3Rpb24gUChhKXt2YXIgYj1hLmgsYz1iW2EuZ10sZD1jJjEyNztpZigxMjg+YylyZXR1cm4gYS5nKz0xLE8oYSksZDtjPWJbYS5nKzFdO2R8PShjJjEyNyk8PDc7aWYoMTI4PmMpcmV0dXJuIGEuZys9MixPKGEpLGQ7Yz1iW2EuZysyXTtkfD0oYyYxMjcpPDwxNDtpZigxMjg+YylyZXR1cm4gYS5nKz0zLE8oYSksZDtjPWJbYS5nKzNdO2R8PShjJjEyNyk8PDIxO2lmKDEyOD5jKXJldHVybiBhLmcrPTQsTyhhKSxkO2M9YlthLmcrNF07ZHw9KGMmMTUpPDwyODtpZigxMjg+YylyZXR1cm4gYS5nKz01LE8oYSksZD4+PjA7YS5nKz01O2lmKDEyODw9YlthLmcrK10mJjEyODw9YlthLmcrK10mJjEyODw9YlthLmcrK10mJjEyODw9YlthLmcrK10mJjEyODw9YlthLmcrK10pcmV0dXJuIGEuaj0hMCx6YSgpLGQ7TyhhKTtyZXR1cm4gZH12YXIgVGE9W107ZnVuY3Rpb24gVWEoKXt0aGlzLmc9bmV3IFVpbnQ4QXJyYXkoNjQpO3RoaXMuaD0wfWZ1bmN0aW9uIFEoYSxiKXtpZighKGEuaCsxPGEuZy5sZW5ndGgpKXt2YXIgYz1hLmc7YS5nPW5ldyBVaW50OEFycmF5KE1hdGguY2VpbCgxKzIqYS5nLmxlbmd0aCkpO2EuZy5zZXQoYyl9YS5nW2EuaCsrXT1ifVVhLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ofTtVYS5wcm90b3R5cGUuZW5kPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nLGI9dGhpcy5oO3RoaXMuaD0wO3JldHVybiBQYShhLDAsYil9O2Z1bmN0aW9uIFMoYSxiKXtmb3IoOzEyNzxiOylRKGEsYiYxMjd8MTI4KSxiPj4+PTc7UShhLGIpfTtmdW5jdGlvbiBWYShhKXt2YXIgYj17fSxjPXZvaWQgMD09PWIuTj8hMTpiLk47dGhpcy5tPXt1OnZvaWQgMD09PWIudT8hMTpiLnV9O3RoaXMuTj1jO2I9dGhpcy5tO1RhLmxlbmd0aD8oYz1UYS5wb3AoKSxiJiYoYy51PWIudSksYSYmU2EoYyxhKSxhPWMpOmE9bmV3IFJhKGEsYik7dGhpcy5nPWE7dGhpcy5sPXRoaXMuZy5nO3RoaXMuaD10aGlzLmk9LTE7dGhpcy5qPSExfVZhLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuZy5yZXNldCgpO3RoaXMuaD10aGlzLmk9LTF9O2Z1bmN0aW9uIFdhKGEpe3ZhciBiPWEuZzsoYj1iLmc9PWIuaSl8fChiPWEuail8fChiPWEuZyxiPWIuanx8MD5iLmd8fGIuZz5iLmkpO2lmKGIpcmV0dXJuITE7YS5sPWEuZy5nO3ZhciBjPVAoYS5nKTtiPWM+Pj4zO2MmPTc7aWYoISgwPD1jJiY1Pj1jKSlyZXR1cm4gYS5qPSEwLHlhKGMsYS5sKSwhMTthLmk9YjthLmg9YztyZXR1cm4hMH1cbmZ1bmN0aW9uIFhhKGEpe3N3aXRjaChhLmgpe2Nhc2UgMDppZigwIT1hLmgpWGEoYSk7ZWxzZSBhOnthPWEuZztmb3IodmFyIGI9YS5nLGM9MDsxMD5jO2MrKyl7aWYoMD09PShhLmhbYl0mMTI4KSl7YS5nPWIrMTtPKGEpO2JyZWFrIGF9YisrfWEuaj0hMDt6YSgpfWJyZWFrO2Nhc2UgMTphPWEuZzthLmcrPTg7TyhhKTticmVhaztjYXNlIDI6MiE9YS5oP1hhKGEpOihiPVAoYS5nKSxhPWEuZyxhLmcrPWIsTyhhKSk7YnJlYWs7Y2FzZSA1OmE9YS5nO2EuZys9NDtPKGEpO2JyZWFrO2Nhc2UgMzpiPWEuaTtkb3tpZighV2EoYSkpe2Euaj0hMDtLKEVycm9yKFwiVW5tYXRjaGVkIHN0YXJ0LWdyb3VwIHRhZzogc3RyZWFtIEVPRlwiKSk7YnJlYWt9aWYoND09YS5oKXthLmkhPWImJihhLmo9ITAsSyhFcnJvcihcIlVubWF0Y2hlZCBlbmQtZ3JvdXAgdGFnXCIpKSk7YnJlYWt9WGEoYSl9d2hpbGUoMSk7YnJlYWs7ZGVmYXVsdDphLmo9ITAseWEoYS5oLGEubCl9fVxuZnVuY3Rpb24gWWEoYSxiLGMpe2EuTnx8KGE9UGEoYS5nLmgsYyxhLmcuZyksKGM9Yi5tKT9jLnB1c2goYSk6Yi5tPVthXSl9dmFyIFphPVtdO2Z1bmN0aW9uICRhKCl7dGhpcy5oPVtdO3RoaXMuaT0wO3RoaXMuZz1uZXcgVWF9ZnVuY3Rpb24gYWIoYSxiKXswIT09Yi5sZW5ndGgmJihhLmgucHVzaChiKSxhLmkrPWIubGVuZ3RoKX1mdW5jdGlvbiBiYihhLGIsYyl7UyhhLmcsOCpiKzIpO1MoYS5nLGMubGVuZ3RoKTthYihhLGEuZy5lbmQoKSk7YWIoYSxjKX07dmFyIGNiPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PT10eXBlb2YgU3ltYm9sKCk/U3ltYm9sKHZvaWQgMCk6dm9pZCAwO2Z1bmN0aW9uIGRiKGEsYil7T2JqZWN0LmlzRnJvemVuKGEpfHwoY2I/YVtjYl18PWI6dm9pZCAwIT09YS5nP2EuZ3w9YjpPYmplY3QuZGVmaW5lUHJvcGVydGllcyhhLHtnOnt2YWx1ZTpiLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCxlbnVtZXJhYmxlOiExfX0pKX1mdW5jdGlvbiBlYihhKXtpZighYSlyZXR1cm4gMDt2YXIgYjtjYj9iPWFbY2JdOmI9YS5nO3JldHVybiBudWxsPT1iPzA6Yn1mdW5jdGlvbiBmYihhKXtpZighQXJyYXkuaXNBcnJheShhKSlyZXR1cm4gYTtkYihhLDEpO3JldHVybiBhfWZ1bmN0aW9uIGdiKGEpe2lmKCFBcnJheS5pc0FycmF5KGEpKXRocm93IEVycm9yKFwiY2Fubm90IG1hcmsgbm9uLWFycmF5IGFzIGltbXV0YWJsZVwiKTtkYihhLDIpfTtmdW5jdGlvbiBoYihhKXtyZXR1cm4gbnVsbCE9PWEmJlwib2JqZWN0XCI9PT10eXBlb2YgYSYmYS5jb25zdHJ1Y3Rvcj09PU9iamVjdH1mdW5jdGlvbiBpYihhKXtzd2l0Y2godHlwZW9mIGEpe2Nhc2UgXCJudW1iZXJcIjpyZXR1cm4gaXNGaW5pdGUoYSk/YTpTdHJpbmcoYSk7Y2FzZSBcIm9iamVjdFwiOnJldHVybiBMYSYmbnVsbCE9YSYmYSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/SGEoYSk6YTtkZWZhdWx0OnJldHVybiBhfX07ZnVuY3Rpb24gamIoYSxiKXtpZihudWxsIT1hKXJldHVybiBBcnJheS5pc0FycmF5KGEpfHxoYihhKT9rYihhLGIpOmIoYSl9ZnVuY3Rpb24ga2IoYSxiKXtpZihBcnJheS5pc0FycmF5KGEpKXtmb3IodmFyIGM9QXJyYXkoYS5sZW5ndGgpLGQ9MDtkPGEubGVuZ3RoO2QrKyljW2RdPWpiKGFbZF0sYik7ZWIoYSkmMSYmZmIoYyk7cmV0dXJuIGN9Yz17fTtmb3IoZCBpbiBhKWNbZF09amIoYVtkXSxiKTtyZXR1cm4gY307dmFyIGxiO2Z1bmN0aW9uIFQoYSxiLGMpe3ZhciBkPWxiO2xiPW51bGw7YXx8KGE9ZCk7ZD10aGlzLmNvbnN0cnVjdG9yLmJhO2F8fChhPWQ/W2RdOltdKTt0aGlzLmo9KGQ/MDotMSktKHRoaXMuY29uc3RydWN0b3IuJHx8MCk7dGhpcy5pPW51bGw7dGhpcy5nPWE7YTp7ZD10aGlzLmcubGVuZ3RoO2E9ZC0xO2lmKGQmJihkPXRoaXMuZ1thXSxoYihkKSkpe3RoaXMubD1hLXRoaXMuajt0aGlzLmg9ZDticmVhayBhfXZvaWQgMCE9PWImJi0xPGI/KHRoaXMubD1NYXRoLm1heChiLGErMS10aGlzLmopLHRoaXMuaD1udWxsKTp0aGlzLmw9TnVtYmVyLk1BWF9WQUxVRX1pZihjKWZvcihiPTA7YjxjLmxlbmd0aDtiKyspYT1jW2JdLGE8dGhpcy5sPyhhKz10aGlzLmosKGQ9dGhpcy5nW2FdKT9mYihkKTp0aGlzLmdbYV09bWIpOihuYih0aGlzKSwoZD10aGlzLmhbYV0pP2ZiKGQpOnRoaXMuaFthXT1tYil9dmFyIG1iPU9iamVjdC5mcmVlemUoZmIoW10pKTtcbmZ1bmN0aW9uIG5iKGEpe3ZhciBiPWEubCthLmo7YS5nW2JdfHwoYS5oPWEuZ1tiXT17fSl9ZnVuY3Rpb24gVShhLGIsYyl7cmV0dXJuLTE9PT1iP251bGw6KHZvaWQgMD09PWM/MDpjKXx8Yj49YS5sP2EuaD9hLmhbYl06dm9pZCAwOmEuZ1tiK2Eual19ZnVuY3Rpb24gb2IoYSxiLGMpe2M9dm9pZCAwPT09Yz8hMDpjO3ZhciBkPXZvaWQgMD09PWQ/ITE6ZDt2YXIgZT1VKGEsYixkKTtudWxsPT1lJiYoZT1tYik7ZT09PW1iPyhlPWZiKFtdKSxWKGEsYixlLGQpKTpjJiZBcnJheS5pc0FycmF5KGUpJiZlYihlKSYyJiYoZT1lLnNsaWNlKCksVihhLGIsZSxkKSk7cmV0dXJuIGV9ZnVuY3Rpb24gVyhhLGIsYyl7YT1VKGEsYik7YT1udWxsPT1hP2E6K2E7cmV0dXJuIG51bGw9PWE/dm9pZCAwPT09Yz8wOmM6YX1mdW5jdGlvbiBWKGEsYixjLGQpeyh2b2lkIDA9PT1kPzA6ZCl8fGI+PWEubD8obmIoYSksYS5oW2JdPWMpOmEuZ1tiK2Eual09Y31cbmZ1bmN0aW9uIHBiKGEsYixjKXthLml8fChhLmk9e30pO3ZhciBkPWEuaVtjXTtpZighZCl7dmFyIGU9b2IoYSxjLCExKTtkPVtdO2Zvcih2YXIgZz1BcnJheS5pc0FycmF5KGUpPyEhKGViKGUpJjIpOiExLGY9MDtmPGUubGVuZ3RoO2YrKylkW2ZdPW5ldyBiKGVbZl0pLGcmJmdiKGRbZl0uZyk7ZyYmKGdiKGQpLE9iamVjdC5mcmVlemUoZCkpO2EuaVtjXT1kfXJldHVybiBkfWZ1bmN0aW9uIHFiKGEsYixjLGQsZSl7dmFyIGc9cGIoYSxkLGIpO2M9Yz9jOm5ldyBkO2E9b2IoYSxiKTt2b2lkIDAhPWU/KGcuc3BsaWNlKGUsMCxjKSxhLnNwbGljZShlLDAsWChjKSkpOihnLnB1c2goYyksYS5wdXNoKFgoYykpKX1ULnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXt2YXIgYT1YKHRoaXMpO3JldHVybiBrYihhLGliKX07XG5mdW5jdGlvbiBYKGEpe2lmKGEuaSlmb3IodmFyIGIgaW4gYS5pKXt2YXIgYz1hLmlbYl07aWYoQXJyYXkuaXNBcnJheShjKSlmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyljW2RdJiZYKGNbZF0pO2Vsc2UgYyYmWChjKX1yZXR1cm4gYS5nfVQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIFgodGhpcykudG9TdHJpbmcoKX07ZnVuY3Rpb24gcmIoYSxiKXthPVUoYSxiKTtyZXR1cm4gbnVsbD09YT8wOmF9ZnVuY3Rpb24gc2IoYSxiKXthPVUoYSxiKTtyZXR1cm4gbnVsbD09YT9cIlwiOmF9O2Z1bmN0aW9uIHRiKGEsYil7aWYoYT1hLm0pe2FiKGIsYi5nLmVuZCgpKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKylhYihiLGFbY10pfX1mdW5jdGlvbiB1YihhKXt2YXIgYj1hWzBdO3N3aXRjaChhLmxlbmd0aCl7Y2FzZSAyOnZhciBjPWFbMV07cmV0dXJuIGZ1bmN0aW9uKGgsbCxuKXtyZXR1cm4gYihoLGwsbixjKX07Y2FzZSAzOnZhciBkPWFbMV0sZT1hWzJdO3JldHVybiBmdW5jdGlvbihoLGwsbil7cmV0dXJuIGIoaCxsLG4sZCxlKX07Y2FzZSA0OnZhciBnPWFbMV0sZj1hWzJdLGs9YVszXTtyZXR1cm4gZnVuY3Rpb24oaCxsLG4pe3JldHVybiBiKGgsbCxuLGcsZixrKX07ZGVmYXVsdDp0aHJvdyBFcnJvcihcInVuc3VwcG9ydGVkIG51bWJlciBvZiBwYXJhbWV0ZXJzLCBleHBlY3RlZCBbMi00XSwgZ290IFwiK2EubGVuZ3RoKTt9fVxuZnVuY3Rpb24gdmIoYSxiLGMpe2Zvcig7V2EoYikmJjQhPWIuaDspe3ZhciBkPWIuaSxlPWNbZF07aWYoZSl7aWYoQXJyYXkuaXNBcnJheShlKSYmKGU9Y1tkXT11YihlKSksIWUoYixhLGQpKXtkPWI7ZT1hO3ZhciBnPWQubDtYYShkKTtZYShkLGUsZyl9fWVsc2UgZD1iLGU9YSxnPWQubCxYYShkKSxZYShkLGUsZyl9cmV0dXJuIGF9ZnVuY3Rpb24gd2IoYSxiKXt2YXIgYz1uZXcgJGE7YihhLGMpO2E9Yy5pK2MuZy5sZW5ndGgoKTtpZigwPT09YSljPW5ldyBVaW50OEFycmF5KDApO2Vsc2V7YT1uZXcgVWludDhBcnJheShhKTtmb3IodmFyIGQ9Yy5oLGU9ZC5sZW5ndGgsZz1iPTA7ZzxlO2crKyl7dmFyIGY9ZFtnXTswIT09Zi5sZW5ndGgmJihhLnNldChmLGIpLGIrPWYubGVuZ3RoKX1kPWMuZztlPWQuaDswIT09ZSYmKGEuc2V0KGQuZy5zdWJhcnJheSgwLGUpLGIpLGQuaD0wKTtjLmg9W2FdO2M9YX1yZXR1cm4gY31cbmZ1bmN0aW9uIHhiKGEsYixjKXtpZihaYS5sZW5ndGgpe3ZhciBkPVphLnBvcCgpO2EmJihTYShkLmcsYSksZC5pPS0xLGQuaD0tMSk7YT1kfWVsc2UgYT1uZXcgVmEoYSk7dHJ5e3JldHVybiBjKG5ldyBiLGEpfWZpbmFsbHl7Yj1hLmcsYi5oPW51bGwsYi5sPTAsYi5pPTAsYi5nPTAsYi5qPSExLGIudT0hMSxhLmk9LTEsYS5oPS0xLGEuaj0hMSwxMDA+WmEubGVuZ3RoJiZaYS5wdXNoKGEpfX1cbmZ1bmN0aW9uIFkoYSxiLGMpe2I9VShiLGMpO2lmKG51bGwhPWIpe1MoYS5nLDgqYys1KTthPWEuZzt2YXIgZD1iO2Q9KGM9MD5kPzE6MCk/LWQ6ZDswPT09ZD8wPDEvZD9NPU49MDooTj0wLE09MjE0NzQ4MzY0OCk6aXNOYU4oZCk/KE49MCxNPTIxNDc0ODM2NDcpOjMuNDAyODIzNDY2Mzg1Mjg4NkUzODxkPyhOPTAsTT0oYzw8MzF8MjEzOTA5NTA0MCk+Pj4wKToxLjE3NTQ5NDM1MDgyMjI4NzVFLTM4PmQ/KGQ9TWF0aC5yb3VuZChkL01hdGgucG93KDIsLTE0OSkpLE49MCxNPShjPDwzMXxkKT4+PjApOihiPU1hdGguZmxvb3IoTWF0aC5sb2coZCkvTWF0aC5MTjIpLGQqPU1hdGgucG93KDIsLWIpLGQ9TWF0aC5yb3VuZCg4Mzg4NjA4KmQpLDE2Nzc3MjE2PD1kJiYrK2IsTj0wLE09KGM8PDMxfGIrMTI3PDwyM3xkJjgzODg2MDcpPj4+MCk7Yz1NO1EoYSxjPj4+MCYyNTUpO1EoYSxjPj4+OCYyNTUpO1EoYSxjPj4+MTYmMjU1KTtRKGEsYz4+PjI0JjI1NSl9fVxuZnVuY3Rpb24gWihhLGIsYyl7aWYoNSE9PWEuaClyZXR1cm4hMTthPWEuZzt2YXIgZD1hLmhbYS5nXTt2YXIgZT1hLmhbYS5nKzFdO3ZhciBnPWEuaFthLmcrMl0sZj1hLmhbYS5nKzNdO2EuZys9NDtPKGEpO2U9KGQ8PDB8ZTw8OHxnPDwxNnxmPDwyNCk+Pj4wO2E9MiooZT4+MzEpKzE7ZD1lPj4+MjMmMjU1O2UmPTgzODg2MDc7VihiLGMsMjU1PT1kP2U/TmFOOkluZmluaXR5KmE6MD09ZD9hKk1hdGgucG93KDIsLTE0OSkqZTphKk1hdGgucG93KDIsZC0xNTApKihlK01hdGgucG93KDIsMjMpKSk7cmV0dXJuITB9XG5mdW5jdGlvbiB5YihhLGIsYyl7aWYoMCE9PWEuaClyZXR1cm4hMTtmb3IodmFyIGQ9YS5nLGU9MTI4LGc9MCxmPWE9MDs0PmYmJjEyODw9ZTtmKyspZT1kLmhbZC5nKytdLGd8PShlJjEyNyk8PDcqZjsxMjg8PWUmJihlPWQuaFtkLmcrK10sZ3w9KGUmMTI3KTw8MjgsYXw9KGUmMTI3KT4+NCk7aWYoMTI4PD1lKWZvcihmPTA7NT5mJiYxMjg8PWU7ZisrKWU9ZC5oW2QuZysrXSxhfD0oZSYxMjcpPDw3KmYrMztpZigxMjg+ZSl7ZD1nPj4+MDtlPWE+Pj4wO2lmKGE9ZSYyMTQ3NDgzNjQ4KWQ9fmQrMT4+PjAsZT1+ZT4+PjAsMD09ZCYmKGU9ZSsxPj4+MCk7ZD00Mjk0OTY3Mjk2KmUrKGQ+Pj4wKTthPWE/LWQ6ZH1lbHNlIGQuaj0hMCx6YSgpLGE9dm9pZCAwO1YoYixjLGEpO3JldHVybiEwfWZ1bmN0aW9uIHpiKGEsYixjKXtpZigwIT09YS5oKXJldHVybiExO1YoYixjLFAoYS5nKSk7cmV0dXJuITB9XG5mdW5jdGlvbiBBYihhLGIsYyl7aWYoMiE9PWEuaClyZXR1cm4hMTt2YXIgZD1QKGEuZyk7YT1hLmc7dmFyIGU9YS5nO2EuZys9ZDtPKGEpO2E9YS5oO3ZhciBnO2lmKENhKShnPUJhKXx8KGc9QmE9bmV3IFRleHREZWNvZGVyKFwidXRmLThcIix7ZmF0YWw6ITF9KSksZz1nLmRlY29kZShhLnN1YmFycmF5KGUsZStkKSk7ZWxzZXtkPWUrZDtmb3IodmFyIGY9W10saz1udWxsLGgsbCxuO2U8ZDspaD1hW2UrK10sMTI4Pmg/Zi5wdXNoKGgpOjIyND5oP2U+PWQ/Zi5wdXNoKDY1NTMzKToobD1hW2UrK10sMTk0Pmh8fDEyOCE9PShsJjE5Mik/KGUtLSxmLnB1c2goNjU1MzMpKTpmLnB1c2goKGgmMzEpPDw2fGwmNjMpKToyNDA+aD9lPj1kLTE/Zi5wdXNoKDY1NTMzKToobD1hW2UrK10sMTI4IT09KGwmMTkyKXx8MjI0PT09aCYmMTYwPmx8fDIzNz09PWgmJjE2MDw9bHx8MTI4IT09KChnPWFbZSsrXSkmMTkyKT8oZS0tLGYucHVzaCg2NTUzMykpOmYucHVzaCgoaCYxNSk8PDEyfChsJjYzKTw8NnxcbmcmNjMpKToyNDQ+PWg/ZT49ZC0yP2YucHVzaCg2NTUzMyk6KGw9YVtlKytdLDEyOCE9PShsJjE5Mil8fDAhPT0oaDw8MjgpKyhsLTE0NCk+PjMwfHwxMjghPT0oKGc9YVtlKytdKSYxOTIpfHwxMjghPT0oKG49YVtlKytdKSYxOTIpPyhlLS0sZi5wdXNoKDY1NTMzKSk6KGg9KGgmNyk8PDE4fChsJjYzKTw8MTJ8KGcmNjMpPDw2fG4mNjMsaC09NjU1MzYsZi5wdXNoKChoPj4xMCYxMDIzKSs1NTI5NiwoaCYxMDIzKSs1NjMyMCkpKTpmLnB1c2goNjU1MzMpLDgxOTI8PWYubGVuZ3RoJiYoaz1BYShrLGYpLGYubGVuZ3RoPTApO2c9QWEoayxmKX1WKGIsYyxnKTtyZXR1cm4hMH1cbmZ1bmN0aW9uIEJiKGEsYixjLGQsZSl7aWYoMiE9PWEuaClyZXR1cm4hMTt2YXIgZz1uZXcgZCxmPWEuZy5pLGs9UChhLmcpLGg9YS5nLmcrazthLmcuaT1oO2UoZyxhKTtlPWgtYS5nLmc7aWYoMCE9PWUpdGhyb3cgRXJyb3IoXCJNZXNzYWdlIHBhcnNpbmcgZW5kZWQgdW5leHBlY3RlZGx5LiBFeHBlY3RlZCB0byByZWFkIFwiKyhrK1wiIGJ5dGVzLCBpbnN0ZWFkIHJlYWQgXCIrKGstZSkrXCIgYnl0ZXMsIGVpdGhlciB0aGUgZGF0YSBlbmRlZCB1bmV4cGVjdGVkbHkgb3IgdGhlIG1lc3NhZ2UgbWlzcmVwb3J0ZWQgaXRzIG93biBsZW5ndGhcIikpO2EuZy5nPWg7YS5nLmk9ZjtxYihiLGMsZyxkLHZvaWQgMCk7cmV0dXJuITB9O2Z1bmN0aW9uIENiKGEpe1QuY2FsbCh0aGlzLGEpfXZhciBEYjtFKENiLFQpO2Z1bmN0aW9uIEViKGEsYil7dmFyIGM9VShhLDEpO2lmKG51bGwhPWMmJm51bGwhPWMpe1MoYi5nLDgpO3ZhciBkPWIuZztpZigwPD1jKVMoZCxjKTtlbHNle2Zvcih2YXIgZT0wOzk+ZTtlKyspUShkLGMmMTI3fDEyOCksYz4+PTc7UShkLDEpfX1ZKGIsYSwyKTtkPVUoYSwzKTtudWxsIT1kJiZiYihiLDMsRmEoZCkpO2Q9VShhLDQpO251bGwhPWQmJmJiKGIsNCxGYShkKSk7dGIoYSxiKX1mdW5jdGlvbiBGYihhLGIpe3JldHVybiB2YihhLGIsRGJ8fChEYj17MTp6YiwyOlosMzpBYiw0OkFifSkpfTtmdW5jdGlvbiBHYihhKXtULmNhbGwodGhpcyxhLC0xLEhiKX12YXIgSWI7RShHYixUKTtHYi5wcm90b3R5cGUuYWRkQ2xhc3NpZmljYXRpb249ZnVuY3Rpb24oYSxiKXtxYih0aGlzLDEsYSxDYixiKTtyZXR1cm4gdGhpc307ZnVuY3Rpb24gSmIoYSxiKXtyZXR1cm4gdmIoYSxiLElifHwoSWI9ezE6W0JiLENiLEZiXX0pKX12YXIgSGI9WzFdO2Z1bmN0aW9uIEtiKGEpe1QuY2FsbCh0aGlzLGEpfXZhciBMYjtFKEtiLFQpO2Z1bmN0aW9uIE1iKGEsYil7WShiLGEsMSk7WShiLGEsMik7WShiLGEsMyk7WShiLGEsNCk7WShiLGEsNSk7dGIoYSxiKX1mdW5jdGlvbiBOYihhLGIpe3JldHVybiB2YihhLGIsTGJ8fChMYj17MTpaLDI6WiwzOlosNDpaLDU6Wn0pKX07ZnVuY3Rpb24gT2IoYSl7VC5jYWxsKHRoaXMsYSwtMSxQYil9dmFyIFFiO0UoT2IsVCk7ZnVuY3Rpb24gUmIoYSxiKXtyZXR1cm4gdmIoYSxiLFFifHwoUWI9ezE6W0JiLEtiLE5iXX0pKX12YXIgUGI9WzFdO2Z1bmN0aW9uIFNiKGEpe1QuY2FsbCh0aGlzLGEpfXZhciBUYjtFKFNiLFQpO2Z1bmN0aW9uIFViKGEsYil7WShiLGEsMSk7WShiLGEsMik7WShiLGEsMyk7WShiLGEsNCk7WShiLGEsNSk7dmFyIGM9VShhLDYpO2lmKG51bGwhPWMmJm51bGwhPWMpe1MoYi5nLDQ4KTt2YXIgZD1iLmcsZT1jO2M9MD5lO2U9TWF0aC5hYnMoZSk7dmFyIGc9ZT4+PjA7ZT1NYXRoLmZsb29yKChlLWcpLzQyOTQ5NjcyOTYpO2U+Pj49MDtjJiYoZT1+ZT4+PjAsZz0ofmc+Pj4wKSsxLDQyOTQ5NjcyOTU8ZyYmKGc9MCxlKyssNDI5NDk2NzI5NTxlJiYoZT0wKSkpO009ZztOPWU7Yz1NO2ZvcihnPU47MDxnfHwxMjc8YzspUShkLGMmMTI3fDEyOCksYz0oYz4+Pjd8Zzw8MjUpPj4+MCxnPj4+PTc7UShkLGMpfXRiKGEsYil9ZnVuY3Rpb24gVmIoYSxiKXtyZXR1cm4gdmIoYSxiLFRifHwoVGI9ezE6WiwyOlosMzpaLDQ6Wiw1OlosNjp5Yn0pKX07ZnVuY3Rpb24gV2IoYSxiLGMpe2M9YS5jcmVhdGVTaGFkZXIoMD09PWM/YS5WRVJURVhfU0hBREVSOmEuRlJBR01FTlRfU0hBREVSKTthLnNoYWRlclNvdXJjZShjLGIpO2EuY29tcGlsZVNoYWRlcihjKTtpZighYS5nZXRTaGFkZXJQYXJhbWV0ZXIoYyxhLkNPTVBJTEVfU1RBVFVTKSl0aHJvdyBFcnJvcihcIkNvdWxkIG5vdCBjb21waWxlIFdlYkdMIHNoYWRlci5cXG5cXG5cIithLmdldFNoYWRlckluZm9Mb2coYykpO3JldHVybiBjfTtmdW5jdGlvbiBYYihhKXtyZXR1cm4gcGIoYSxDYiwxKS5tYXAoZnVuY3Rpb24oYil7cmV0dXJue2luZGV4OnJiKGIsMSksc2NvcmU6VyhiLDIpLGxhYmVsOm51bGwhPVUoYiwzKT9zYihiLDMpOnZvaWQgMCxkaXNwbGF5TmFtZTpudWxsIT1VKGIsNCk/c2IoYiw0KTp2b2lkIDB9fSl9O2Z1bmN0aW9uIFliKGEpe3JldHVybnt4OlcoYSwxKSx5OlcoYSwyKSx6OlcoYSwzKSx2aXNpYmlsaXR5Om51bGwhPVUoYSw0KT9XKGEsNCk6dm9pZCAwfX1mdW5jdGlvbiBaYihhKXtyZXR1cm4gYS5tYXAoZnVuY3Rpb24oYil7cmV0dXJuIHBiKHhiKGIsT2IsUmIpLEtiLDEpLm1hcChZYil9KX07ZnVuY3Rpb24gJGIoYSxiKXt0aGlzLmg9YTt0aGlzLmc9Yjt0aGlzLmw9MH1cbmZ1bmN0aW9uIGFjKGEsYixjKXtiYyhhLGIpO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLmcuY2FudmFzLnRyYW5zZmVyVG9JbWFnZUJpdG1hcClyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEuZy5jYW52YXMudHJhbnNmZXJUb0ltYWdlQml0bWFwKCkpO2lmKGMpcmV0dXJuIFByb21pc2UucmVzb2x2ZShhLmcuY2FudmFzKTtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgY3JlYXRlSW1hZ2VCaXRtYXApcmV0dXJuIGNyZWF0ZUltYWdlQml0bWFwKGEuZy5jYW52YXMpO3ZvaWQgMD09PWEuaSYmKGEuaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZCl7YS5pLmhlaWdodD1hLmcuY2FudmFzLmhlaWdodDthLmkud2lkdGg9YS5nLmNhbnZhcy53aWR0aDthLmkuZ2V0Q29udGV4dChcIjJkXCIse30pLmRyYXdJbWFnZShhLmcuY2FudmFzLDAsMCxhLmcuY2FudmFzLndpZHRoLGEuZy5jYW52YXMuaGVpZ2h0KTtkKGEuaSl9KX1cbmZ1bmN0aW9uIGJjKGEsYil7dmFyIGM9YS5nO2lmKHZvaWQgMD09PWEubSl7dmFyIGQ9V2IoYyxcIlxcbiAgYXR0cmlidXRlIHZlYzIgYVZlcnRleDtcXG4gIGF0dHJpYnV0ZSB2ZWMyIGFUZXg7XFxuICB2YXJ5aW5nIHZlYzIgdlRleDtcXG4gIHZvaWQgbWFpbih2b2lkKSB7XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNChhVmVydGV4LCAwLjAsIDEuMCk7XFxuICAgIHZUZXggPSBhVGV4O1xcbiAgfVwiLDApLGU9V2IoYyxcIlxcbiAgcHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuICB2YXJ5aW5nIHZlYzIgdlRleDtcXG4gIHVuaWZvcm0gc2FtcGxlcjJEIHNhbXBsZXIwO1xcbiAgdm9pZCBtYWluKCl7XFxuICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRChzYW1wbGVyMCwgdlRleCk7XFxuICB9XCIsMSksZz1jLmNyZWF0ZVByb2dyYW0oKTtjLmF0dGFjaFNoYWRlcihnLGQpO2MuYXR0YWNoU2hhZGVyKGcsZSk7Yy5saW5rUHJvZ3JhbShnKTtpZighYy5nZXRQcm9ncmFtUGFyYW1ldGVyKGcsYy5MSU5LX1NUQVRVUykpdGhyb3cgRXJyb3IoXCJDb3VsZCBub3QgY29tcGlsZSBXZWJHTCBwcm9ncmFtLlxcblxcblwiK1xuYy5nZXRQcm9ncmFtSW5mb0xvZyhnKSk7ZD1hLm09ZztjLnVzZVByb2dyYW0oZCk7ZT1jLmdldFVuaWZvcm1Mb2NhdGlvbihkLFwic2FtcGxlcjBcIik7YS5qPXtJOmMuZ2V0QXR0cmliTG9jYXRpb24oZCxcImFWZXJ0ZXhcIiksSDpjLmdldEF0dHJpYkxvY2F0aW9uKGQsXCJhVGV4XCIpLGNhOmV9O2Eucz1jLmNyZWF0ZUJ1ZmZlcigpO2MuYmluZEJ1ZmZlcihjLkFSUkFZX0JVRkZFUixhLnMpO2MuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYS5qLkkpO2MudmVydGV4QXR0cmliUG9pbnRlcihhLmouSSwyLGMuRkxPQVQsITEsMCwwKTtjLmJ1ZmZlckRhdGEoYy5BUlJBWV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShbLTEsLTEsLTEsMSwxLDEsMSwtMV0pLGMuU1RBVElDX0RSQVcpO2MuYmluZEJ1ZmZlcihjLkFSUkFZX0JVRkZFUixudWxsKTthLm89Yy5jcmVhdGVCdWZmZXIoKTtjLmJpbmRCdWZmZXIoYy5BUlJBWV9CVUZGRVIsYS5vKTtjLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGEuai5IKTtjLnZlcnRleEF0dHJpYlBvaW50ZXIoYS5qLkgsXG4yLGMuRkxPQVQsITEsMCwwKTtjLmJ1ZmZlckRhdGEoYy5BUlJBWV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShbMCwxLDAsMCwxLDAsMSwxXSksYy5TVEFUSUNfRFJBVyk7Yy5iaW5kQnVmZmVyKGMuQVJSQVlfQlVGRkVSLG51bGwpO2MudW5pZm9ybTFpKGUsMCl9ZD1hLmo7Yy51c2VQcm9ncmFtKGEubSk7Yy5jYW52YXMud2lkdGg9Yi53aWR0aDtjLmNhbnZhcy5oZWlnaHQ9Yi5oZWlnaHQ7Yy52aWV3cG9ydCgwLDAsYi53aWR0aCxiLmhlaWdodCk7Yy5hY3RpdmVUZXh0dXJlKGMuVEVYVFVSRTApO2EuaC5iaW5kVGV4dHVyZTJkKGIuZ2xOYW1lKTtjLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGQuSSk7Yy5iaW5kQnVmZmVyKGMuQVJSQVlfQlVGRkVSLGEucyk7Yy52ZXJ0ZXhBdHRyaWJQb2ludGVyKGQuSSwyLGMuRkxPQVQsITEsMCwwKTtjLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGQuSCk7Yy5iaW5kQnVmZmVyKGMuQVJSQVlfQlVGRkVSLGEubyk7Yy52ZXJ0ZXhBdHRyaWJQb2ludGVyKGQuSCxcbjIsYy5GTE9BVCwhMSwwLDApO2MuYmluZEZyYW1lYnVmZmVyKGMuRFJBV19GUkFNRUJVRkZFUj9jLkRSQVdfRlJBTUVCVUZGRVI6Yy5GUkFNRUJVRkZFUixudWxsKTtjLmNsZWFyQ29sb3IoMCwwLDAsMCk7Yy5jbGVhcihjLkNPTE9SX0JVRkZFUl9CSVQpO2MuY29sb3JNYXNrKCEwLCEwLCEwLCEwKTtjLmRyYXdBcnJheXMoYy5UUklBTkdMRV9GQU4sMCw0KTtjLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShkLkkpO2MuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGQuSCk7Yy5iaW5kQnVmZmVyKGMuQVJSQVlfQlVGRkVSLG51bGwpO2EuaC5iaW5kVGV4dHVyZTJkKDApfWZ1bmN0aW9uIGNjKGEpe3RoaXMuZz1hfTt2YXIgZGM9bmV3IFVpbnQ4QXJyYXkoWzAsOTcsMTE1LDEwOSwxLDAsMCwwLDEsNCwxLDk2LDAsMCwzLDIsMSwwLDEwLDksMSw3LDAsNjUsMCwyNTMsMTUsMjYsMTFdKTtmdW5jdGlvbiBlYyhhLGIpe3JldHVybiBiK2F9ZnVuY3Rpb24gZmMoYSxiKXt3aW5kb3dbYV09Yn1mdW5jdGlvbiBnYyhhKXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2Iuc2V0QXR0cmlidXRlKFwic3JjXCIsYSk7Yi5zZXRBdHRyaWJ1dGUoXCJjcm9zc29yaWdpblwiLFwiYW5vbnltb3VzXCIpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihjKXtiLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZnVuY3Rpb24oKXtjKCl9LCExKTtiLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGZ1bmN0aW9uKCl7YygpfSwhMSk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChiKX0pfVxuZnVuY3Rpb24gaGMoKXtyZXR1cm4gSChmdW5jdGlvbihhKXtzd2l0Y2goYS5nKXtjYXNlIDE6cmV0dXJuIGEubT0yLEYoYSxXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShkYyksNCk7Y2FzZSA0OmEuZz0zO2EubT0wO2JyZWFrO2Nhc2UgMjpyZXR1cm4gYS5tPTAsYS5qPW51bGwsYS5yZXR1cm4oITEpO2Nhc2UgMzpyZXR1cm4gYS5yZXR1cm4oITApfX0pfVxuZnVuY3Rpb24gaWMoYSl7dGhpcy5nPWE7dGhpcy5saXN0ZW5lcnM9e307dGhpcy5qPXt9O3RoaXMuRj17fTt0aGlzLm09e307dGhpcy5zPXt9O3RoaXMuRz10aGlzLm89dGhpcy5SPSEwO3RoaXMuQz1Qcm9taXNlLnJlc29sdmUoKTt0aGlzLlA9XCJcIjt0aGlzLkI9e307dGhpcy5sb2NhdGVGaWxlPWEmJmEubG9jYXRlRmlsZXx8ZWM7aWYoXCJvYmplY3RcIj09PXR5cGVvZiB3aW5kb3cpdmFyIGI9d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnRvU3RyaW5nKCkubGFzdEluZGV4T2YoXCIvXCIpKStcIi9cIjtlbHNlIGlmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgbG9jYXRpb24pYj1sb2NhdGlvbi5wYXRobmFtZS50b1N0cmluZygpLnN1YnN0cmluZygwLGxvY2F0aW9uLnBhdGhuYW1lLnRvU3RyaW5nKCkubGFzdEluZGV4T2YoXCIvXCIpKStcIi9cIjtlbHNlIHRocm93IEVycm9yKFwic29sdXRpb25zIGNhbiBvbmx5IGJlIGxvYWRlZCBvbiBhIHdlYiBwYWdlIG9yIGluIGEgd2ViIHdvcmtlclwiKTtcbnRoaXMuUz1iO2lmKGEub3B0aW9ucyl7Yj1DKE9iamVjdC5rZXlzKGEub3B0aW9ucykpO2Zvcih2YXIgYz1iLm5leHQoKTshYy5kb25lO2M9Yi5uZXh0KCkpe2M9Yy52YWx1ZTt2YXIgZD1hLm9wdGlvbnNbY10uZGVmYXVsdDt2b2lkIDAhPT1kJiYodGhpcy5qW2NdPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBkP2QoKTpkKX19fXg9aWMucHJvdG90eXBlO3guY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLmkmJnRoaXMuaS5kZWxldGUoKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9O1xuZnVuY3Rpb24gamMoYSl7dmFyIGIsYyxkLGUsZyxmLGssaCxsLG4scjtyZXR1cm4gSChmdW5jdGlvbihwKXtzd2l0Y2gocC5nKXtjYXNlIDE6aWYoIWEuUilyZXR1cm4gcC5yZXR1cm4oKTtiPXZvaWQgMD09PWEuZy5maWxlcz9bXTpcImZ1bmN0aW9uXCI9PT10eXBlb2YgYS5nLmZpbGVzP2EuZy5maWxlcyhhLmopOmEuZy5maWxlcztyZXR1cm4gRihwLGhjKCksMik7Y2FzZSAyOmM9cC5oO2lmKFwib2JqZWN0XCI9PT10eXBlb2Ygd2luZG93KXJldHVybiBmYyhcImNyZWF0ZU1lZGlhcGlwZVNvbHV0aW9uc1dhc21cIix7bG9jYXRlRmlsZTphLmxvY2F0ZUZpbGV9KSxmYyhcImNyZWF0ZU1lZGlhcGlwZVNvbHV0aW9uc1BhY2tlZEFzc2V0c1wiLHtsb2NhdGVGaWxlOmEubG9jYXRlRmlsZX0pLGY9Yi5maWx0ZXIoZnVuY3Rpb24obSl7cmV0dXJuIHZvaWQgMCE9PW0uZGF0YX0pLGs9Yi5maWx0ZXIoZnVuY3Rpb24obSl7cmV0dXJuIHZvaWQgMD09PW0uZGF0YX0pLGg9UHJvbWlzZS5hbGwoZi5tYXAoZnVuY3Rpb24obSl7dmFyIHE9XG5rYyhhLG0udXJsKTtpZih2b2lkIDAhPT1tLnBhdGgpe3ZhciB0PW0ucGF0aDtxPXEudGhlbihmdW5jdGlvbih3KXthLm92ZXJyaWRlRmlsZSh0LHcpO3JldHVybiBQcm9taXNlLnJlc29sdmUodyl9KX1yZXR1cm4gcX0pKSxsPVByb21pc2UuYWxsKGsubWFwKGZ1bmN0aW9uKG0pe3JldHVybiB2b2lkIDA9PT1tLnNpbWR8fG0uc2ltZCYmY3x8IW0uc2ltZCYmIWM/Z2MoYS5sb2NhdGVGaWxlKG0udXJsLGEuUykpOlByb21pc2UucmVzb2x2ZSgpfSkpLnRoZW4oZnVuY3Rpb24oKXt2YXIgbSxxLHQ7cmV0dXJuIEgoZnVuY3Rpb24odyl7aWYoMT09dy5nKXJldHVybiBtPXdpbmRvdy5jcmVhdGVNZWRpYXBpcGVTb2x1dGlvbnNXYXNtLHE9d2luZG93LmNyZWF0ZU1lZGlhcGlwZVNvbHV0aW9uc1BhY2tlZEFzc2V0cyx0PWEsRih3LG0ocSksMik7dC5oPXcuaDt3Lmc9MH0pfSksbj1mdW5jdGlvbigpe3JldHVybiBIKGZ1bmN0aW9uKG0pe2EuZy5ncmFwaCYmYS5nLmdyYXBoLnVybD9tPUYobSxcbmtjKGEsYS5nLmdyYXBoLnVybCksMCk6KG0uZz0wLG09dm9pZCAwKTtyZXR1cm4gbX0pfSgpLEYocCxQcm9taXNlLmFsbChbbCxoLG5dKSw3KTtpZihcImZ1bmN0aW9uXCIhPT10eXBlb2YgaW1wb3J0U2NyaXB0cyl0aHJvdyBFcnJvcihcInNvbHV0aW9ucyBjYW4gb25seSBiZSBsb2FkZWQgb24gYSB3ZWIgcGFnZSBvciBpbiBhIHdlYiB3b3JrZXJcIik7ZD1iLmZpbHRlcihmdW5jdGlvbihtKXtyZXR1cm4gdm9pZCAwPT09bS5zaW1kfHxtLnNpbWQmJmN8fCFtLnNpbWQmJiFjfSkubWFwKGZ1bmN0aW9uKG0pe3JldHVybiBhLmxvY2F0ZUZpbGUobS51cmwsYS5TKX0pO2ltcG9ydFNjcmlwdHMuYXBwbHkobnVsbCxlYShkKSk7ZT1hO3JldHVybiBGKHAsY3JlYXRlTWVkaWFwaXBlU29sdXRpb25zV2FzbShNb2R1bGUpLDYpO2Nhc2UgNjplLmg9cC5oO2EubD1uZXcgT2Zmc2NyZWVuQ2FudmFzKDEsMSk7YS5oLmNhbnZhcz1hLmw7Zz1hLmguR0wuY3JlYXRlQ29udGV4dChhLmwse2FudGlhbGlhczohMSxcbmFscGhhOiExLGFhOlwidW5kZWZpbmVkXCIhPT10eXBlb2YgV2ViR0wyUmVuZGVyaW5nQ29udGV4dD8yOjF9KTthLmguR0wubWFrZUNvbnRleHRDdXJyZW50KGcpO3AuZz00O2JyZWFrO2Nhc2UgNzphLmw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyPWEubC5nZXRDb250ZXh0KFwid2ViZ2wyXCIse30pO2lmKCFyJiYocj1hLmwuZ2V0Q29udGV4dChcIndlYmdsXCIse30pLCFyKSlyZXR1cm4gYWxlcnQoXCJGYWlsZWQgdG8gY3JlYXRlIFdlYkdMIGNhbnZhcyBjb250ZXh0IHdoZW4gcGFzc2luZyB2aWRlbyBmcmFtZS5cIikscC5yZXR1cm4oKTthLkQ9cjthLmguY2FudmFzPWEubDthLmguY3JlYXRlQ29udGV4dChhLmwsITAsITAse30pO2Nhc2UgNDphLmk9bmV3IGEuaC5Tb2x1dGlvbldhc20sYS5SPSExLHAuZz0wfX0pfVxuZnVuY3Rpb24gbGMoYSl7dmFyIGIsYyxkLGUsZyxmLGssaDtyZXR1cm4gSChmdW5jdGlvbihsKXtpZigxPT1sLmcpe2lmKGEuZy5ncmFwaCYmYS5nLmdyYXBoLnVybCYmYS5QPT09YS5nLmdyYXBoLnVybClyZXR1cm4gbC5yZXR1cm4oKTthLm89ITA7aWYoIWEuZy5ncmFwaHx8IWEuZy5ncmFwaC51cmwpe2wuZz0yO3JldHVybn1hLlA9YS5nLmdyYXBoLnVybDtyZXR1cm4gRihsLGtjKGEsYS5nLmdyYXBoLnVybCksMyl9MiE9bC5nJiYoYj1sLmgsYS5pLmxvYWRHcmFwaChiKSk7Yz1DKE9iamVjdC5rZXlzKGEuQikpO2ZvcihkPWMubmV4dCgpOyFkLmRvbmU7ZD1jLm5leHQoKSllPWQudmFsdWUsYS5pLm92ZXJyaWRlRmlsZShlLGEuQltlXSk7YS5CPXt9O2lmKGEuZy5saXN0ZW5lcnMpZm9yKGc9QyhhLmcubGlzdGVuZXJzKSxmPWcubmV4dCgpOyFmLmRvbmU7Zj1nLm5leHQoKSlrPWYudmFsdWUsbWMoYSxrKTtoPWEuajthLmo9e307YS5zZXRPcHRpb25zKGgpO2wuZz0wfSl9XG54LnJlc2V0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gSChmdW5jdGlvbihiKXthLmkmJihhLmkucmVzZXQoKSxhLm09e30sYS5zPXt9KTtiLmc9MH0pfTtcbnguc2V0T3B0aW9ucz1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7aWYoYj1ifHx0aGlzLmcub3B0aW9ucyl7Zm9yKHZhciBkPVtdLGU9W10sZz17fSxmPUMoT2JqZWN0LmtleXMoYSkpLGs9Zi5uZXh0KCk7IWsuZG9uZTtnPXtLOmcuSyxMOmcuTH0saz1mLm5leHQoKSl7dmFyIGg9ay52YWx1ZTtoIGluIHRoaXMuaiYmdGhpcy5qW2hdPT09YVtoXXx8KHRoaXMualtoXT1hW2hdLGs9YltoXSx2b2lkIDAhPT1rJiYoay5vbkNoYW5nZSYmKGcuSz1rLm9uQ2hhbmdlLGcuTD1hW2hdLGQucHVzaChmdW5jdGlvbihsKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbjtyZXR1cm4gSChmdW5jdGlvbihyKXtpZigxPT1yLmcpcmV0dXJuIEYocixsLksobC5MKSwyKTtuPXIuaDshMD09PW4mJihjLm89ITApO3IuZz0wfSl9fShnKSkpLGsuZ3JhcGhPcHRpb25YcmVmJiYoaD17dmFsdWVOdW1iZXI6MT09PWsudHlwZT9hW2hdOjAsdmFsdWVCb29sZWFuOjA9PT1rLnR5cGU/YVtoXTohMSx2YWx1ZVN0cmluZzoyPT09XG5rLnR5cGU/YVtoXTpcIlwifSxrPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LHtjYWxjdWxhdG9yTmFtZTpcIlwiLGNhbGN1bGF0b3JJbmRleDowfSksay5ncmFwaE9wdGlvblhyZWYpLGgpLGUucHVzaChrKSkpKX1pZigwIT09ZC5sZW5ndGh8fDAhPT1lLmxlbmd0aCl0aGlzLm89ITAsdGhpcy5BPSh2b2lkIDA9PT10aGlzLkE/W106dGhpcy5BKS5jb25jYXQoZSksdGhpcy52PSh2b2lkIDA9PT10aGlzLnY/W106dGhpcy52KS5jb25jYXQoZCl9fTtcbmZ1bmN0aW9uIG5jKGEpe3ZhciBiLGMsZCxlLGcsZixrO3JldHVybiBIKGZ1bmN0aW9uKGgpe3N3aXRjaChoLmcpe2Nhc2UgMTppZighYS5vKXJldHVybiBoLnJldHVybigpO2lmKCFhLnYpe2guZz0yO2JyZWFrfWI9QyhhLnYpO2M9Yi5uZXh0KCk7Y2FzZSAzOmlmKGMuZG9uZSl7aC5nPTU7YnJlYWt9ZD1jLnZhbHVlO3JldHVybiBGKGgsZCgpLDQpO2Nhc2UgNDpjPWIubmV4dCgpO2guZz0zO2JyZWFrO2Nhc2UgNTphLnY9dm9pZCAwO2Nhc2UgMjppZihhLkEpe2U9bmV3IGEuaC5HcmFwaE9wdGlvbkNoYW5nZVJlcXVlc3RMaXN0O2c9QyhhLkEpO2ZvcihmPWcubmV4dCgpOyFmLmRvbmU7Zj1nLm5leHQoKSlrPWYudmFsdWUsZS5wdXNoX2JhY2soayk7YS5pLmNoYW5nZU9wdGlvbnMoZSk7ZS5kZWxldGUoKTthLkE9dm9pZCAwfWEubz0hMTtoLmc9MH19KX1cbnguaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIEgoZnVuY3Rpb24oYil7cmV0dXJuIDE9PWIuZz9GKGIsamMoYSksMik6MyE9Yi5nP0YoYixsYyhhKSwzKTpGKGIsbmMoYSksMCl9KX07ZnVuY3Rpb24ga2MoYSxiKXt2YXIgYyxkO3JldHVybiBIKGZ1bmN0aW9uKGUpe2lmKGIgaW4gYS5GKXJldHVybiBlLnJldHVybihhLkZbYl0pO2M9YS5sb2NhdGVGaWxlKGIsXCJcIik7ZD1mZXRjaChjKS50aGVuKGZ1bmN0aW9uKGcpe3JldHVybiBnLmFycmF5QnVmZmVyKCl9KTthLkZbYl09ZDtyZXR1cm4gZS5yZXR1cm4oZCl9KX14Lm92ZXJyaWRlRmlsZT1mdW5jdGlvbihhLGIpe3RoaXMuaT90aGlzLmkub3ZlcnJpZGVGaWxlKGEsYik6dGhpcy5CW2FdPWJ9O3guY2xlYXJPdmVycmlkZGVuRmlsZXM9ZnVuY3Rpb24oKXt0aGlzLkI9e307dGhpcy5pJiZ0aGlzLmkuY2xlYXJPdmVycmlkZGVuRmlsZXMoKX07XG54LnNlbmQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQsZSxnLGYsayxoLGwsbixyO3JldHVybiBIKGZ1bmN0aW9uKHApe3N3aXRjaChwLmcpe2Nhc2UgMTppZighYy5nLmlucHV0cylyZXR1cm4gcC5yZXR1cm4oKTtkPTFFMyoodm9pZCAwPT09Ynx8bnVsbD09PWI/cGVyZm9ybWFuY2Uubm93KCk6Yik7cmV0dXJuIEYocCxjLkMsMik7Y2FzZSAyOnJldHVybiBGKHAsYy5pbml0aWFsaXplKCksMyk7Y2FzZSAzOmU9bmV3IGMuaC5QYWNrZXREYXRhTGlzdDtnPUMoT2JqZWN0LmtleXMoYSkpO2ZvcihmPWcubmV4dCgpOyFmLmRvbmU7Zj1nLm5leHQoKSlpZihrPWYudmFsdWUsaD1jLmcuaW5wdXRzW2tdKXthOnt2YXIgbT1hW2tdO3N3aXRjaChoLnR5cGUpe2Nhc2UgXCJ2aWRlb1wiOnZhciBxPWMubVtoLnN0cmVhbV07cXx8KHE9bmV3ICRiKGMuaCxjLkQpLGMubVtoLnN0cmVhbV09cSk7MD09PXEubCYmKHEubD1xLmguY3JlYXRlVGV4dHVyZSgpKTtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIEhUTUxWaWRlb0VsZW1lbnQmJlxubSBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpe3ZhciB0PW0udmlkZW9XaWR0aDt2YXIgdz1tLnZpZGVvSGVpZ2h0fWVsc2VcInVuZGVmaW5lZFwiIT09dHlwZW9mIEhUTUxJbWFnZUVsZW1lbnQmJm0gaW5zdGFuY2VvZiBIVE1MSW1hZ2VFbGVtZW50Pyh0PW0ubmF0dXJhbFdpZHRoLHc9bS5uYXR1cmFsSGVpZ2h0KToodD1tLndpZHRoLHc9bS5oZWlnaHQpO3c9e2dsTmFtZTpxLmwsd2lkdGg6dCxoZWlnaHQ6d307dD1xLmc7dC5jYW52YXMud2lkdGg9dy53aWR0aDt0LmNhbnZhcy5oZWlnaHQ9dy5oZWlnaHQ7dC5hY3RpdmVUZXh0dXJlKHQuVEVYVFVSRTApO3EuaC5iaW5kVGV4dHVyZTJkKHEubCk7dC50ZXhJbWFnZTJEKHQuVEVYVFVSRV8yRCwwLHQuUkdCQSx0LlJHQkEsdC5VTlNJR05FRF9CWVRFLG0pO3EuaC5iaW5kVGV4dHVyZTJkKDApO3E9dzticmVhayBhO2Nhc2UgXCJkZXRlY3Rpb25zXCI6cT1jLm1baC5zdHJlYW1dO3F8fChxPW5ldyBjYyhjLmgpLGMubVtoLnN0cmVhbV09cSk7XG5xLmRhdGF8fChxLmRhdGE9bmV3IHEuZy5EZXRlY3Rpb25MaXN0RGF0YSk7cS5kYXRhLnJlc2V0KG0ubGVuZ3RoKTtmb3Iodz0wO3c8bS5sZW5ndGg7Kyt3KXt0PW1bd107dmFyIHY9cS5kYXRhLEE9di5zZXRCb3VuZGluZ0JveCxJPXc7dmFyIEQ9dC5UO3ZhciB1PW5ldyBTYjtWKHUsMSxELlgpO1YodSwyLEQuWSk7Vih1LDMsRC5oZWlnaHQpO1YodSw0LEQud2lkdGgpO1YodSw1LEQucm90YXRpb24pO1YodSw2LEQuVyk7RD13Yih1LFViKTtBLmNhbGwodixJLEQpO2lmKHQuTylmb3Iodj0wO3Y8dC5PLmxlbmd0aDsrK3Ype3U9dC5PW3ZdO3ZhciB6PXUudmlzaWJpbGl0eT8hMDohMTtBPXEuZGF0YTtJPUEuYWRkTm9ybWFsaXplZExhbmRtYXJrO0Q9dzt1PU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSx1KSx7dmlzaWJpbGl0eTp6P3UudmlzaWJpbGl0eTowfSk7ej1uZXcgS2I7Vih6LDEsdS54KTtWKHosMix1LnkpO1YoeiwzLHUueik7dS52aXNpYmlsaXR5JiZWKHosNCx1LnZpc2liaWxpdHkpO1xudT13Yih6LE1iKTtJLmNhbGwoQSxELHUpfWlmKHQuTSlmb3Iodj0wO3Y8dC5NLmxlbmd0aDsrK3YpQT1xLmRhdGEsST1BLmFkZENsYXNzaWZpY2F0aW9uLEQ9dyx1PXQuTVt2XSx6PW5ldyBDYixWKHosMix1LnNjb3JlKSx1LmluZGV4JiZWKHosMSx1LmluZGV4KSx1LmxhYmVsJiZWKHosMyx1LmxhYmVsKSx1LmRpc3BsYXlOYW1lJiZWKHosNCx1LmRpc3BsYXlOYW1lKSx1PXdiKHosRWIpLEkuY2FsbChBLEQsdSl9cT1xLmRhdGE7YnJlYWsgYTtkZWZhdWx0OnE9e319fWw9cTtuPWguc3RyZWFtO3N3aXRjaChoLnR5cGUpe2Nhc2UgXCJ2aWRlb1wiOmUucHVzaFRleHR1cmUyZChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sbCkse3N0cmVhbTpuLHRpbWVzdGFtcDpkfSkpO2JyZWFrO2Nhc2UgXCJkZXRlY3Rpb25zXCI6cj1sO3Iuc3RyZWFtPW47ci50aW1lc3RhbXA9ZDtlLnB1c2hEZXRlY3Rpb25MaXN0KHIpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoXCJVbmtub3duIGlucHV0IGNvbmZpZyB0eXBlOiAnXCIrXG5oLnR5cGUrXCInXCIpO319Yy5pLnNlbmQoZSk7cmV0dXJuIEYocCxjLkMsNCk7Y2FzZSA0OmUuZGVsZXRlKCkscC5nPTB9fSl9O1xuZnVuY3Rpb24gb2MoYSxiLGMpe3ZhciBkLGUsZyxmLGssaCxsLG4scixwLG0scSx0LHc7cmV0dXJuIEgoZnVuY3Rpb24odil7c3dpdGNoKHYuZyl7Y2FzZSAxOmlmKCFjKXJldHVybiB2LnJldHVybihiKTtkPXt9O2U9MDtnPUMoT2JqZWN0LmtleXMoYykpO2ZvcihmPWcubmV4dCgpOyFmLmRvbmU7Zj1nLm5leHQoKSlrPWYudmFsdWUsaD1jW2tdLFwic3RyaW5nXCIhPT10eXBlb2YgaCYmXCJ0ZXh0dXJlXCI9PT1oLnR5cGUmJnZvaWQgMCE9PWJbaC5zdHJlYW1dJiYrK2U7MTxlJiYoYS5HPSExKTtsPUMoT2JqZWN0LmtleXMoYykpO2Y9bC5uZXh0KCk7Y2FzZSAyOmlmKGYuZG9uZSl7di5nPTQ7YnJlYWt9bj1mLnZhbHVlO3I9Y1tuXTtpZihcInN0cmluZ1wiPT09dHlwZW9mIHIpcmV0dXJuIHQ9ZCx3PW4sRih2LHBjKGEsbixiW3JdKSwxNCk7cD1iW3Iuc3RyZWFtXTtpZihcImRldGVjdGlvbl9saXN0XCI9PT1yLnR5cGUpe2lmKHApe3ZhciBBPXAuZ2V0UmVjdExpc3QoKTtmb3IodmFyIEk9cC5nZXRMYW5kbWFya3NMaXN0KCksXG5EPXAuZ2V0Q2xhc3NpZmljYXRpb25zTGlzdCgpLHU9W10sej0wO3o8QS5zaXplKCk7Kyt6KXt2YXIgUj14YihBLmdldCh6KSxTYixWYik7Uj17VDp7WDpXKFIsMSksWTpXKFIsMiksaGVpZ2h0OlcoUiwzKSx3aWR0aDpXKFIsNCkscm90YXRpb246VyhSLDUsMCksVzpyYihSLDYpfSxPOnBiKHhiKEkuZ2V0KHopLE9iLFJiKSxLYiwxKS5tYXAoWWIpLE06WGIoeGIoRC5nZXQoeiksR2IsSmIpKX07dS5wdXNoKFIpfUE9dX1lbHNlIEE9W107ZFtuXT1BO3YuZz03O2JyZWFrfWlmKFwicHJvdG9fbGlzdFwiPT09ci50eXBlKXtpZihwKXtBPUFycmF5KHAuc2l6ZSgpKTtmb3IoST0wO0k8cC5zaXplKCk7SSsrKUFbSV09cC5nZXQoSSk7cC5kZWxldGUoKX1lbHNlIEE9W107ZFtuXT1BO3YuZz03O2JyZWFrfWlmKHZvaWQgMD09PXApe3YuZz0zO2JyZWFrfWlmKFwiZmxvYXRfbGlzdFwiPT09ci50eXBlKXtkW25dPXA7di5nPTc7YnJlYWt9aWYoXCJwcm90b1wiPT09ci50eXBlKXtkW25dPXA7di5nPTc7YnJlYWt9aWYoXCJ0ZXh0dXJlXCIhPT1cbnIudHlwZSl0aHJvdyBFcnJvcihcIlVua25vd24gb3V0cHV0IGNvbmZpZyB0eXBlOiAnXCIrci50eXBlK1wiJ1wiKTttPWEuc1tuXTttfHwobT1uZXcgJGIoYS5oLGEuRCksYS5zW25dPW0pO3JldHVybiBGKHYsYWMobSxwLGEuRyksMTMpO2Nhc2UgMTM6cT12LmgsZFtuXT1xO2Nhc2UgNzpyLnRyYW5zZm9ybSYmZFtuXSYmKGRbbl09ci50cmFuc2Zvcm0oZFtuXSkpO3YuZz0zO2JyZWFrO2Nhc2UgMTQ6dFt3XT12Lmg7Y2FzZSAzOmY9bC5uZXh0KCk7di5nPTI7YnJlYWs7Y2FzZSA0OnJldHVybiB2LnJldHVybihkKX19KX1cbmZ1bmN0aW9uIHBjKGEsYixjKXt2YXIgZDtyZXR1cm4gSChmdW5jdGlvbihlKXtyZXR1cm5cIm51bWJlclwiPT09dHlwZW9mIGN8fGMgaW5zdGFuY2VvZiBVaW50OEFycmF5fHxjIGluc3RhbmNlb2YgYS5oLlVpbnQ4QmxvYkxpc3Q/ZS5yZXR1cm4oYyk6YyBpbnN0YW5jZW9mIGEuaC5UZXh0dXJlMmREYXRhT3V0PyhkPWEuc1tiXSxkfHwoZD1uZXcgJGIoYS5oLGEuRCksYS5zW2JdPWQpLGUucmV0dXJuKGFjKGQsYyxhLkcpKSk6ZS5yZXR1cm4odm9pZCAwKX0pfVxuZnVuY3Rpb24gbWMoYSxiKXtmb3IodmFyIGM9Yi5uYW1lfHxcIiRcIixkPVtdLmNvbmNhdChlYShiLndhbnRzKSksZT1uZXcgYS5oLlN0cmluZ0xpc3QsZz1DKGIud2FudHMpLGY9Zy5uZXh0KCk7IWYuZG9uZTtmPWcubmV4dCgpKWUucHVzaF9iYWNrKGYudmFsdWUpO2c9YS5oLlBhY2tldExpc3RlbmVyLmltcGxlbWVudCh7b25SZXN1bHRzOmZ1bmN0aW9uKGspe2Zvcih2YXIgaD17fSxsPTA7bDxiLndhbnRzLmxlbmd0aDsrK2wpaFtkW2xdXT1rLmdldChsKTt2YXIgbj1hLmxpc3RlbmVyc1tjXTtuJiYoYS5DPW9jKGEsaCxiLm91dHMpLnRoZW4oZnVuY3Rpb24ocil7cj1uKHIpO2Zvcih2YXIgcD0wO3A8Yi53YW50cy5sZW5ndGg7KytwKXt2YXIgbT1oW2RbcF1dO1wib2JqZWN0XCI9PT10eXBlb2YgbSYmbS5oYXNPd25Qcm9wZXJ0eSYmbS5oYXNPd25Qcm9wZXJ0eShcImRlbGV0ZVwiKSYmbS5kZWxldGUoKX1yJiYoYS5DPXIpfSkpfX0pO2EuaS5hdHRhY2hNdWx0aUxpc3RlbmVyKGUsZyk7ZS5kZWxldGUoKX1cbngub25SZXN1bHRzPWZ1bmN0aW9uKGEsYil7dGhpcy5saXN0ZW5lcnNbYnx8XCIkXCJdPWF9O0ooXCJTb2x1dGlvblwiLGljKTtKKFwiT3B0aW9uVHlwZVwiLHtCT09MOjAsTlVNQkVSOjEsWjoyLDA6XCJCT09MXCIsMTpcIk5VTUJFUlwiLDI6XCJTVFJJTkdcIn0pO2Z1bmN0aW9uIHFjKGEpe3ZvaWQgMD09PWEmJihhPTApO3JldHVybiAxPT09YT9cImhhbmRfbGFuZG1hcmtfZnVsbC50ZmxpdGVcIjpcImhhbmRfbGFuZG1hcmtfbGl0ZS50ZmxpdGVcIn1cbmZ1bmN0aW9uIHJjKGEpe3ZhciBiPXRoaXM7YT1hfHx7fTt0aGlzLmc9bmV3IGljKHtsb2NhdGVGaWxlOmEubG9jYXRlRmlsZSxmaWxlczpmdW5jdGlvbihjKXtyZXR1cm5be3VybDpcImhhbmRzX3NvbHV0aW9uX3BhY2tlZF9hc3NldHNfbG9hZGVyLmpzXCJ9LHtzaW1kOiExLHVybDpcImhhbmRzX3NvbHV0aW9uX3dhc21fYmluLmpzXCJ9LHtzaW1kOiEwLHVybDpcImhhbmRzX3NvbHV0aW9uX3NpbWRfd2FzbV9iaW4uanNcIn0se2RhdGE6ITAsdXJsOnFjKGMubW9kZWxDb21wbGV4aXR5KX1dfSxncmFwaDp7dXJsOlwiaGFuZHMuYmluYXJ5cGJcIn0saW5wdXRzOntpbWFnZTp7dHlwZTpcInZpZGVvXCIsc3RyZWFtOlwiaW5wdXRfZnJhbWVzX2dwdVwifX0sbGlzdGVuZXJzOlt7d2FudHM6W1wibXVsdGlfaGFuZF9sYW5kbWFya3NcIixcIm11bHRpX2hhbmRfd29ybGRfbGFuZG1hcmtzXCIsXCJpbWFnZV90cmFuc2Zvcm1lZFwiLFwibXVsdGlfaGFuZGVkbmVzc1wiXSxvdXRzOntpbWFnZTpcImltYWdlX3RyYW5zZm9ybWVkXCIsXG5tdWx0aUhhbmRMYW5kbWFya3M6e3R5cGU6XCJwcm90b19saXN0XCIsc3RyZWFtOlwibXVsdGlfaGFuZF9sYW5kbWFya3NcIix0cmFuc2Zvcm06WmJ9LG11bHRpSGFuZFdvcmxkTGFuZG1hcmtzOnt0eXBlOlwicHJvdG9fbGlzdFwiLHN0cmVhbTpcIm11bHRpX2hhbmRfd29ybGRfbGFuZG1hcmtzXCIsdHJhbnNmb3JtOlpifSxtdWx0aUhhbmRlZG5lc3M6e3R5cGU6XCJwcm90b19saXN0XCIsc3RyZWFtOlwibXVsdGlfaGFuZGVkbmVzc1wiLHRyYW5zZm9ybTpmdW5jdGlvbihjKXtyZXR1cm4gYy5tYXAoZnVuY3Rpb24oZCl7cmV0dXJuIFhiKHhiKGQsR2IsSmIpKVswXX0pfX19fV0sb3B0aW9uczp7dXNlQ3B1SW5mZXJlbmNlOnt0eXBlOjAsZ3JhcGhPcHRpb25YcmVmOntjYWxjdWxhdG9yVHlwZTpcIkluZmVyZW5jZUNhbGN1bGF0b3JcIixmaWVsZE5hbWU6XCJ1c2VfY3B1X2luZmVyZW5jZVwifSxkZWZhdWx0OlwiaVBhZCBTaW11bGF0b3I7aVBob25lIFNpbXVsYXRvcjtpUG9kIFNpbXVsYXRvcjtpUGFkO2lQaG9uZTtpUG9kXCIuc3BsaXQoXCI7XCIpLmluY2x1ZGVzKG5hdmlnYXRvci5wbGF0Zm9ybSl8fFxubmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcyhcIk1hY1wiKSYmXCJvbnRvdWNoZW5kXCJpbiBkb2N1bWVudH0sc2VsZmllTW9kZTp7dHlwZTowLGdyYXBoT3B0aW9uWHJlZjp7Y2FsY3VsYXRvclR5cGU6XCJHbFNjYWxlckNhbGN1bGF0b3JcIixjYWxjdWxhdG9ySW5kZXg6MSxmaWVsZE5hbWU6XCJmbGlwX2hvcml6b250YWxcIn19LG1heE51bUhhbmRzOnt0eXBlOjEsZ3JhcGhPcHRpb25YcmVmOntjYWxjdWxhdG9yVHlwZTpcIkNvbnN0YW50U2lkZVBhY2tldENhbGN1bGF0b3JcIixjYWxjdWxhdG9yTmFtZTpcIkNvbnN0YW50U2lkZVBhY2tldENhbGN1bGF0b3JcIixmaWVsZE5hbWU6XCJpbnRfdmFsdWVcIn19LG1vZGVsQ29tcGxleGl0eTp7dHlwZToxLGdyYXBoT3B0aW9uWHJlZjp7Y2FsY3VsYXRvclR5cGU6XCJDb25zdGFudFNpZGVQYWNrZXRDYWxjdWxhdG9yXCIsY2FsY3VsYXRvck5hbWU6XCJDb25zdGFudFNpZGVQYWNrZXRDYWxjdWxhdG9yTW9kZWxDb21wbGV4aXR5XCIsZmllbGROYW1lOlwiaW50X3ZhbHVlXCJ9LFxub25DaGFuZ2U6ZnVuY3Rpb24oYyl7dmFyIGQsZSxnO3JldHVybiBIKGZ1bmN0aW9uKGYpe2lmKDE9PWYuZylyZXR1cm4gZD1xYyhjKSxlPVwidGhpcmRfcGFydHkvbWVkaWFwaXBlL21vZHVsZXMvaGFuZF9sYW5kbWFyay9cIitkLEYoZixrYyhiLmcsZCksMik7Zz1mLmg7Yi5nLm92ZXJyaWRlRmlsZShlLGcpO3JldHVybiBmLnJldHVybighMCl9KX19LG1pbkRldGVjdGlvbkNvbmZpZGVuY2U6e3R5cGU6MSxncmFwaE9wdGlvblhyZWY6e2NhbGN1bGF0b3JUeXBlOlwiVGVuc29yc1RvRGV0ZWN0aW9uc0NhbGN1bGF0b3JcIixjYWxjdWxhdG9yTmFtZTpcImhhbmRsYW5kbWFya3RyYWNraW5nZ3B1X19wYWxtZGV0ZWN0aW9uZ3B1X19UZW5zb3JzVG9EZXRlY3Rpb25zQ2FsY3VsYXRvclwiLGZpZWxkTmFtZTpcIm1pbl9zY29yZV90aHJlc2hcIn19LG1pblRyYWNraW5nQ29uZmlkZW5jZTp7dHlwZToxLGdyYXBoT3B0aW9uWHJlZjp7Y2FsY3VsYXRvclR5cGU6XCJUaHJlc2hvbGRpbmdDYWxjdWxhdG9yXCIsY2FsY3VsYXRvck5hbWU6XCJoYW5kbGFuZG1hcmt0cmFja2luZ2dwdV9faGFuZGxhbmRtYXJrZ3B1X19UaHJlc2hvbGRpbmdDYWxjdWxhdG9yXCIsXG5maWVsZE5hbWU6XCJ0aHJlc2hvbGRcIn19fX0pfXg9cmMucHJvdG90eXBlO3guY2xvc2U9ZnVuY3Rpb24oKXt0aGlzLmcuY2xvc2UoKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9O3gub25SZXN1bHRzPWZ1bmN0aW9uKGEpe3RoaXMuZy5vblJlc3VsdHMoYSl9O3guaW5pdGlhbGl6ZT1mdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIEgoZnVuY3Rpb24oYil7cmV0dXJuIEYoYixhLmcuaW5pdGlhbGl6ZSgpLDApfSl9O3gucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmcucmVzZXQoKX07eC5zZW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuIEgoZnVuY3Rpb24oYyl7cmV0dXJuIEYoYyxiLmcuc2VuZChhKSwwKX0pfTt4LnNldE9wdGlvbnM9ZnVuY3Rpb24oYSl7dGhpcy5nLnNldE9wdGlvbnMoYSl9O0ooXCJIYW5kc1wiLHJjKTtcbkooXCJIQU5EX0NPTk5FQ1RJT05TXCIsW1swLDFdLFsxLDJdLFsyLDNdLFszLDRdLFswLDVdLFs1LDZdLFs2LDddLFs3LDhdLFs1LDldLFs5LDEwXSxbMTAsMTFdLFsxMSwxMl0sWzksMTNdLFsxMywxNF0sWzE0LDE1XSxbMTUsMTZdLFsxMywxN10sWzAsMTddLFsxNywxOF0sWzE4LDE5XSxbMTksMjBdXSk7SihcIlZFUlNJT05cIixcIjAuNC4xNjM1OTg2OTcyXCIpO30pLmNhbGwodGhpcyk7XG4iLCJpbXBvcnQgeyBXUklTVF9JTkRFWCB9IGZyb20gXCIuL2hhbmRzVXRpbFwiO1xyXG52YXIgaG9yaXpvbnRhbE1zZ0VsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImhvcml6b250YWxNZXNzYWdlQm94XCIpO1xyXG52YXIgdmVydGljYWxNc2dFbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2ZXJ0aWNhbE1lc3NhZ2VCb3hcIik7XHJcbnZhciBkZXB0aE1zZ0VsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlcHRoTWVzc2FnZUJveFwiKTtcclxuLyoqXHJcbiAqIFVzZSB0aGUgSGFuZFRyYWNrZXIncyBkYXRhIGFuZCBtYW5pcHVsYXRlIHRoZSBzY2VuZSB1c2luZyBpdC5cclxuICovXHJcbnZhciBDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ29udHJvbGxlcigpIHtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIHRoZSBvblJlc3VsdHMgZXZlbnQgb2YgdGhlIEhhbmRzIHRyYWNrZXIuXHJcbiAgICAgKiBAcGFyYW0gcmVzdWx0cyB0aGUgcmVzdWx0IG9mIHRoZSBkYXRhIHBhcnNpbmcuXHJcbiAgICAgKiBAcGFyYW0gcHJldlJlc3VsdHMgdGhlIHJlc3VsdCBvZiB0aGUgZGF0YSBwYXJzaW5nLlxyXG4gICAgICovXHJcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5vblJlc3VsdHNDYWxsYmFjayA9IGZ1bmN0aW9uIChyZXN1bHRzLCBwcmV2UmVzdWx0cykge1xyXG4gICAgICAgIHZhciBob3Jpem9udGFsTXNnID0gXCJOT05FXCI7XHJcbiAgICAgICAgdmFyIHZlcnRpY2FsTXNnID0gXCJOT05FXCI7XHJcbiAgICAgICAgdmFyIGRlcHRoTXNnID0gXCJOT05FXCI7XHJcbiAgICAgICAgLy8gb25seSBjYXJlIGFib3V0IDEgaGFuZFxyXG4gICAgICAgIHZhciBoYW5kID0gcmVzdWx0cy5tdWx0aUhhbmRMYW5kbWFya3NbMF07XHJcbiAgICAgICAgaWYgKHByZXZSZXN1bHRzKSB7XHJcbiAgICAgICAgICAgIHZhciBwcmV2SGFuZCA9IHByZXZSZXN1bHRzLm11bHRpSGFuZExhbmRtYXJrc1swXTtcclxuICAgICAgICAgICAgdmFyIGhvcml6b250YWxEZWx0YSA9IHRoaXMuZ2V0RGVsdGEoaGFuZFtXUklTVF9JTkRFWF0ueCwgcHJldkhhbmRbV1JJU1RfSU5ERVhdLngpO1xyXG4gICAgICAgICAgICBpZiAoaG9yaXpvbnRhbERlbHRhID09IDApXHJcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsTXNnID0gXCJTVEFZXCI7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGhvcml6b250YWxEZWx0YSA+IDApXHJcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsTXNnID0gXCJSSUdIVFwiO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsTXNnID0gXCJMRUZUXCI7XHJcbiAgICAgICAgICAgIHZhciB2ZXJ0aWNhbERlbHRhID0gdGhpcy5nZXREZWx0YShoYW5kW1dSSVNUX0lOREVYXS55LCBwcmV2SGFuZFtXUklTVF9JTkRFWF0ueSk7XHJcbiAgICAgICAgICAgIGlmICh2ZXJ0aWNhbERlbHRhID09IDApXHJcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbE1zZyA9IFwiU1RBWVwiO1xyXG4gICAgICAgICAgICBlbHNlIGlmICh2ZXJ0aWNhbERlbHRhID4gMClcclxuICAgICAgICAgICAgICAgIHZlcnRpY2FsTXNnID0gXCJVUFwiO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbE1zZyA9IFwiRE9XTlwiO1xyXG4gICAgICAgICAgICB2YXIgZGVwdGhEZWx0YSA9IHRoaXMuZ2V0RGVsdGEoaGFuZFtXUklTVF9JTkRFWF0ueiwgcHJldkhhbmRbV1JJU1RfSU5ERVhdLnopO1xyXG4gICAgICAgICAgICBpZiAoZGVwdGhEZWx0YSA9PSAwKVxyXG4gICAgICAgICAgICAgICAgZGVwdGhNc2cgPSBcIlNUQVlcIjtcclxuICAgICAgICAgICAgZWxzZSBpZiAoZGVwdGhEZWx0YSA+IDApXHJcbiAgICAgICAgICAgICAgICBkZXB0aE1zZyA9IFwiVE9XQVJEIFVTRVJcIjtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgZGVwdGhNc2cgPSBcIkFXQVkgRlJPTSBVU0VSXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGhvcml6b250YWxNc2dFbGVtLnRleHRDb250ZW50ID0gaG9yaXpvbnRhbE1zZztcclxuICAgICAgICB2ZXJ0aWNhbE1zZ0VsZW0udGV4dENvbnRlbnQgPSB2ZXJ0aWNhbE1zZztcclxuICAgICAgICBkZXB0aE1zZ0VsZW0udGV4dENvbnRlbnQgPSBkZXB0aE1zZztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIDIgbnVtYmVycy4gQWxzbyByb3VuZCBpdFxyXG4gICAgICogdG8gZGVjaW1hbFBsYWNlLlxyXG4gICAgICogQHBhcmFtIGEsIHRoZSBmaXJzdCBudW1iZXIuXHJcbiAgICAgKiBAcGFyYW0gYiwgdGhlIHNlY29uZCBudW1iZXIuXHJcbiAgICAgKiBAcGFyYW0gZGVjaW1hbFBsYWNlLCBob3cgbXVjaCB3ZSBhcmUgcm91bmRpbmcgdGhlIGRlbHRhIHJlc3VsdC5cclxuICAgICAqIERlZmF1bHQgdG8gMiBkZWNpbWFsIHBsYWNlLlxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0RGVsdGEgPSBmdW5jdGlvbiAoYSwgYiwgZGVjaW1hbFBsYWNlKSB7XHJcbiAgICAgICAgaWYgKGRlY2ltYWxQbGFjZSA9PT0gdm9pZCAwKSB7IGRlY2ltYWxQbGFjZSA9IDI7IH1cclxuICAgICAgICB2YXIgZGVsdGEgPSBhIC0gYjtcclxuICAgICAgICAvLyByb3VuZCB0byB4IGRlY2ltYWwgcGxhY2UsIHNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTE4MzI5NTAvMTE2ODM2MzdcclxuICAgICAgICB2YXIgZGVjaW1hbENvbnZlcnRvciA9IE1hdGgucG93KDEwLCBkZWNpbWFsUGxhY2UpO1xyXG4gICAgICAgIGRlbHRhID0gTWF0aC5yb3VuZChkZWx0YSAqIGRlY2ltYWxDb252ZXJ0b3IpIC8gZGVjaW1hbENvbnZlcnRvcjtcclxuICAgICAgICByZXR1cm4gZGVsdGE7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJzY3JpYmUgdG8gdGhlIEhhbmRUcmFja2VyIG9iamVjdC5cclxuICAgICAqIEBwYXJhbSB0cmFja2VyIGEgSGFuZFRyYWNrZXIgb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBDb250cm9sbGVyLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAodHJhY2tlcikge1xyXG4gICAgICAgIHRyYWNrZXIuYWRkTGlzdGVuZXIodGhpcy5vblJlc3VsdHNDYWxsYmFjay5iaW5kKHRoaXMpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ29udHJvbGxlcjtcclxufSgpKTtcclxuZXhwb3J0IHsgQ29udHJvbGxlciB9O1xyXG4iLCJpbXBvcnQgeyBIYW5kcyB9IGZyb20gXCJAbWVkaWFwaXBlL2hhbmRzXCI7XHJcbi8qKlxyXG4gKiBUcmFjayB0aGUgaGFuZHMgdXNpbmcgdGhlIE1lZGlhUGlwZSBIYW5kcyB0aGVuIHByZXByb2Nlc3NcclxuICogaXQgdG8gaW50ZXByZXQgZ2VzdHVyZXMuXHJcbiAqL1xyXG52YXIgSGFuZFRyYWNrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBIYW5kVHJhY2tlcigpIHtcclxuICAgICAgICB2YXIgaGFuZHMgPSBuZXcgSGFuZHMoeyBsb2NhdGVGaWxlOiBmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYnVpbGQvbGlicy9cIi5jb25jYXQoZmlsZSk7XHJcbiAgICAgICAgICAgIH0gfSk7XHJcbiAgICAgICAgaGFuZHMuc2V0T3B0aW9ucyh7XHJcbiAgICAgICAgICAgIG1heE51bUhhbmRzOiAxLFxyXG4gICAgICAgICAgICBtb2RlbENvbXBsZXhpdHk6IDEsXHJcbiAgICAgICAgICAgIG1pbkRldGVjdGlvbkNvbmZpZGVuY2U6IDAuNSxcclxuICAgICAgICAgICAgbWluVHJhY2tpbmdDb25maWRlbmNlOiAwLjVcclxuICAgICAgICB9KTtcclxuICAgICAgICBoYW5kcy5vblJlc3VsdHModGhpcy5vblJlc3VsdHNDYWxsYmFjay5iaW5kKHRoaXMpKTtcclxuICAgICAgICB0aGlzLmhhbmRzID0gaGFuZHM7XHJcbiAgICAgICAgdGhpcy5wcmV2UmVzdWx0cyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMgPSBbXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlIHRoZSBvblJlc3VsdHMgZXZlbnQgb2YgdGhlIEhhbmRzIHRyYWNrZXIuXHJcbiAgICAgKi9cclxuICAgIEhhbmRUcmFja2VyLnByb3RvdHlwZS5vblJlc3VsdHNDYWxsYmFjayA9IGZ1bmN0aW9uIChyZXN1bHRzKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAocmVzdWx0cy5tdWx0aUhhbmRMYW5kbWFya3MgJiYgcmVzdWx0cy5tdWx0aUhhbmRMYW5kbWFya3MubGVuZ3RoICE9IDApIHtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHsgcmV0dXJuIGxpc3RlbmVyKHJlc3VsdHMsIF90aGlzLnByZXZSZXN1bHRzKTsgfSk7XHJcbiAgICAgICAgICAgIHRoaXMucHJldlJlc3VsdHMgPSByZXN1bHRzO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEFkZCBhIExpc3RlbmVyIHRvIHRoZSBIYW5kVHJhY2tlci5cclxuICAgICAqIEBwYXJhbSBsaXN0ZW5lciBhIG5ldyBsaXN0ZW5lci5cclxuICAgICAqL1xyXG4gICAgSGFuZFRyYWNrZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEhhbmRUcmFja2VyO1xyXG59KCkpO1xyXG5leHBvcnQgeyBIYW5kVHJhY2tlciB9O1xyXG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn07XHJcbnZhciBfX2dlbmVyYXRvciA9ICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufTtcclxuaW1wb3J0IHsgQ2FtZXJhIH0gZnJvbSBcIkBtZWRpYXBpcGUvY2FtZXJhX3V0aWxzXCI7XHJcbnZhciBGUFNFbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmcHNcIik7XHJcbnZhciBTVEVQU19QRVJfU0VDID0gMjA7XHJcbnZhciBVUERBVEVfU1RFUF9JTl9TRUMgPSAxMDAwIC8gU1RFUFNfUEVSX1NFQztcclxuLyoqXHJcbiAqIEhhbmRsZSB3b3JrIHJlbGF0ZWQgdG8gdGhlIGNhbWVyYS5cclxuICovXHJcbnZhciBJbnB1dFNvdXJjZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIElucHV0U291cmNlKCkge1xyXG4gICAgICAgIHRoaXMudmlkZW9FbGVtZW50ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNhbWVyYSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmZwcyA9IDA7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzZWRGcmFtZSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0IHRoZSBjYW1lcmEuXHJcbiAgICAgKiBUaGlzIGlzIHRha2VuIGZyb20gdGhlIGNhbWVyYSB1dGlsIHNjcmlwdFxyXG4gICAgICogYW5kIHJlbGllcyBvbiBoYXZpbmcgYSB2aWRlbyBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW0gdHJhY2tlciB0aGUgSGFuZHMgdHJhY2tlci5cclxuICAgICAqL1xyXG4gICAgSW5wdXRTb3VyY2UucHJvdG90eXBlLmluaXRDYW1lcmEgPSBmdW5jdGlvbiAodHJhY2tlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgLy8gbmVlZCB0byBpbml0IGEgPHZpZGVvPiBlbGVtZW50IGluIHRoZSBET00gZmlyc3RcclxuICAgICAgICBpZiAodGhpcy52aWRlb0VsZW1lbnQgPT0gbnVsbClcclxuICAgICAgICAgICAgdGhpcy5pbml0VmlkZW9FbGVtZW50KCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKHRoaXMudmlkZW9FbGVtZW50LCB7XHJcbiAgICAgICAgICAgIG9uRnJhbWU6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIXRoaXMucHJvY2Vzc2VkRnJhbWUpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcHMrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRyYWNrZXIuaGFuZHMuc2VuZCh7IGltYWdlOiB0aGlzLnZpZGVvRWxlbWVudCB9KV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc2VkRnJhbWUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7IH0sXHJcbiAgICAgICAgICAgIHdpZHRoOiAxMjgsXHJcbiAgICAgICAgICAgIGhlaWdodDogNzJcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZXRJbnRlcnZhbCh0aGlzLmRpc3BsYXlGUFMuYmluZCh0aGlzKSwgMTAwMCk7XHJcbiAgICAgICAgc2V0SW50ZXJ2YWwodGhpcy5zZXRQcm9jZXNzZWRGcmFtZS5iaW5kKHRoaXMsIGZhbHNlKSwgVVBEQVRFX1NURVBfSU5fU0VDKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSB0aGUgdmlkZW8gZWxlbWVudCBpbiB0aGUgRE9NLlxyXG4gICAgICogQHBhcmFtIGhpZGVWaWQgd2hldGhlciB0byBoaWRlIHRoZSB2aWRlbyBlbGVtZW50LlxyXG4gICAgICovXHJcbiAgICBJbnB1dFNvdXJjZS5wcm90b3R5cGUuaW5pdFZpZGVvRWxlbWVudCA9IGZ1bmN0aW9uIChoaWRlVmlkKSB7XHJcbiAgICAgICAgaWYgKGhpZGVWaWQgPT09IHZvaWQgMCkgeyBoaWRlVmlkID0gdHJ1ZTsgfVxyXG4gICAgICAgIHZhciB2aWRlb0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7XHJcbiAgICAgICAgaWYgKGhpZGVWaWQpXHJcbiAgICAgICAgICAgIHZpZGVvRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmQodmlkZW9FbGVtZW50KTtcclxuICAgICAgICB0aGlzLnZpZGVvRWxlbWVudCA9IHZpZGVvRWxlbWVudDtcclxuICAgIH07XHJcbiAgICBJbnB1dFNvdXJjZS5wcm90b3R5cGUuZGlzcGxheUZQUyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBGUFNFbGVtLnRleHRDb250ZW50ID0gXCJcIi5jb25jYXQodGhpcy5mcHMpO1xyXG4gICAgICAgIHRoaXMuZnBzID0gMDtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSB2YWx1ZSB0aGUgbmV3IHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBJbnB1dFNvdXJjZS5wcm90b3R5cGUuc2V0UHJvY2Vzc2VkRnJhbWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICB0aGlzLnByb2Nlc3NlZEZyYW1lID0gdmFsdWU7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdGFydCBnZXR0aW5nIHRoZSBpbnB1dHMuXHJcbiAgICAgKi9cclxuICAgIElucHV0U291cmNlLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNhbWVyYS5zdGFydCgpO1xyXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFN0b3AgZ2V0dGluZyB0aGUgaW5wdXRzLlxyXG4gICAgICovXHJcbiAgICBJbnB1dFNvdXJjZS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNhbWVyYS5zdG9wKCk7XHJcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gSW5wdXRTb3VyY2U7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IElucHV0U291cmNlIH07XHJcbiIsInZhciBXUklTVF9JTkRFWCA9IDA7XHJcbmV4cG9ydCB7IFdSSVNUX0lOREVYIH07XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IElucHV0U291cmNlIH0gZnJvbSBcIi4vSW5wdXRTb3VyY2VcIjtcclxuaW1wb3J0IHsgSGFuZFRyYWNrZXIgfSBmcm9tIFwiLi9IYW5kVHJhY2tlclwiO1xyXG5pbXBvcnQgeyBDb250cm9sbGVyIH0gZnJvbSBcIi4vQ29udHJvbGxlclwiO1xyXG5tYWluKCk7XHJcbmZ1bmN0aW9uIG1haW4oKSB7XHJcbiAgICB2YXIgdHJhY2tlciA9IG5ldyBIYW5kVHJhY2tlcigpO1xyXG4gICAgdmFyIGlucHV0U291cmNlID0gbmV3IElucHV0U291cmNlKCk7XHJcbiAgICAvLyBmb3IgdGVzdGluZywgZG8gbm90IGhpZGUgdGhlIHZpZGVvXHJcbiAgICBpbnB1dFNvdXJjZS5pbml0VmlkZW9FbGVtZW50KGZhbHNlKTtcclxuICAgIGlucHV0U291cmNlLmluaXRDYW1lcmEodHJhY2tlcik7XHJcbiAgICB2YXIgY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKCk7XHJcbiAgICBjb250cm9sbGVyLnN1YnNjcmliZSh0cmFja2VyKTtcclxuICAgIGlucHV0U291cmNlLnN0YXJ0KCk7XHJcbiAgICB2YXIgY2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJ1bm5pbmdDaGVja2JveFwiKTtcclxuICAgIGNoZWNrYm94LmNoZWNrZWQgPSB0cnVlO1xyXG4gICAgLy8gZm9yIHRlc3RpbmdcclxuICAgIGNoZWNrYm94Lm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaW5wdXRTb3VyY2UuaXNSdW5uaW5nID8gaW5wdXRTb3VyY2Uuc3RvcCgpIDogaW5wdXRTb3VyY2Uuc3RhcnQoKTtcclxuICAgIH07XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9